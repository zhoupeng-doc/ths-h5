{"version":3,"file":"js/app.0a816b6f.js","mappings":"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","sources":["webpack://micro-drama/./src/App.vue","webpack://micro-drama/src/App.vue","webpack://micro-drama/./src/App.vue?c036","webpack://micro-drama/./src/App.vue?0e40","webpack://micro-drama/./src/components/Home.vue","webpack://micro-drama/./src/utils/index.js","webpack://micro-drama/./src/api/api.js","webpack://micro-drama/src/components/Home.vue","webpack://micro-drama/./src/components/Home.vue?916f","webpack://micro-drama/./src/components/Home.vue?f1b4","webpack://micro-drama/./src/components/Player.vue","webpack://micro-drama/src/components/Player.vue","webpack://micro-drama/./src/components/Player.vue?a2a4","webpack://micro-drama/./src/components/Player.vue?446b","webpack://micro-drama/./src/components/Login.vue","webpack://micro-drama/src/components/Login.vue","webpack://micro-drama/./src/components/Login.vue?f57e","webpack://micro-drama/./src/components/Login.vue?f3db","webpack://micro-drama/./src/components/Payment.vue","webpack://micro-drama/src/components/Payment.vue","webpack://micro-drama/./src/components/Payment.vue?7d03","webpack://micro-drama/./src/components/Payment.vue?5dd7","webpack://micro-drama/./src/components/Register.vue","webpack://micro-drama/src/components/Register.vue","webpack://micro-drama/./src/components/Register.vue?a092","webpack://micro-drama/./src/components/Register.vue?0ebd","webpack://micro-drama/./src/components/PlayerH.vue","webpack://micro-drama/src/components/PlayerH.vue","webpack://micro-drama/./src/components/PlayerH.vue?2ee0","webpack://micro-drama/./src/components/PlayerH.vue?a930","webpack://micro-drama/./src/components/Me.vue","webpack://micro-drama/src/components/Me.vue","webpack://micro-drama/./src/components/Me.vue?8fd7","webpack://micro-drama/./src/components/Me.vue?faa4","webpack://micro-drama/./src/router.js","webpack://micro-drama/./src/main.js","webpack://micro-drama/webpack/bootstrap","webpack://micro-drama/webpack/runtime/chunk loaded","webpack://micro-drama/webpack/runtime/compat get default export","webpack://micro-drama/webpack/runtime/define property getters","webpack://micro-drama/webpack/runtime/global","webpack://micro-drama/webpack/runtime/hasOwnProperty shorthand","webpack://micro-drama/webpack/runtime/make namespace object","webpack://micro-drama/webpack/runtime/jsonp chunk loading","webpack://micro-drama/webpack/startup"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"app\">\n    <router-view></router-view>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"App\",\n  mounted() {},\n  methods: {},\n  beforeDestroy() {\n    // 清除定时器以防止内存泄漏\n    clearInterval(this.tokenRefreshInterval);\n  },\n};\n</script>\n\n<style>\n#app {\n  font-family: \"Times New Roman\", Times, serif, Avenir, Helvetica, Arial,\n    sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n}\n</style>\n","import mod from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=18ea706c\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=18ea706c&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"home-container\"},[_c('van-search',{staticClass:\"arabic-search\",attrs:{\"show-action\":\"\",\"label\":'اسم الفيلم',\"placeholder\":'ابحث عن فيلمك المفضل'},on:{\"search\":_vm.onSearch},scopedSlots:_vm._u([{key:\"action\",fn:function(){return [(_vm.userInfo?.userId)?_c('div',{staticClass:\"username\",on:{\"click\":_vm.goToMe}},[_vm._v(\" \"+_vm._s(_vm.userInfo.username)+\" \")]):_c('div',{on:{\"click\":_vm.goToLogin}},[_vm._v(\"التسجيل / تسجيل الدخول\")])]},proxy:true}]),model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}}),_c('van-swipe',{attrs:{\"autoplay\":3000,\"indicator-color\":\"white\",\"show-indicators\":false,\"loop\":false}},_vm._l((_vm.banners),function(banner){return _c('van-swipe-item',{key:banner.id},[_c('img',{staticClass:\"banner-image\",attrs:{\"src\":banner.img,\"alt\":\"\"}})])}),1),_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\" لا يوجد المزيد\"},on:{\"load\":_vm.loadMoreMovies},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},[_c('div',{staticClass:\"movie-grid\"},_vm._l((_vm.filteredMovies),function(movie){return _c('div',{key:movie.id,staticClass:\"movie-item\",on:{\"click\":function($event){return _vm.goToPlayerH(movie.id)}}},[_c('div',{staticClass:\"movie-card\"},[_c('img',{staticClass:\"movie-cover\",attrs:{\"src\":movie.cover,\"alt\":\"\"}}),_c('div',{staticClass:\"play-button\"},[_c('van-icon',{attrs:{\"name\":\"play-circle-o\",\"size\":\"24\"}})],1)]),_c('div',{staticClass:\"movie-title\"},[_vm._v(_vm._s(movie.title))])])}),0)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const getToken = () => {\r\n\treturn localStorage.getItem(\"token\");\r\n};\r\n\r\nexport const setToken = (token) => {\r\n\tlocalStorage.setItem(\"token\", token);\r\n};\r\n\r\nexport const removeToken = () => {\r\n\tlocalStorage.removeItem(\"token\");\r\n};\r\n\r\nexport const setUserInfo = (userInfo) => {\r\n\tlocalStorage.setItem(\"userInfo\", JSON.stringify(userInfo));\r\n};\r\n\r\nexport const getUserInfo = () => {\r\n\treturn JSON.parse(localStorage.getItem(\"userInfo\"));\r\n};\r\n","import axios from \"axios\";\r\nimport { setToken, setUserInfo, getUserInfo, getToken } from \"@/utils\";\r\n\r\nconst baseURL = process.env.VUE_APP_BASE_API\r\n// تعريف مثيل baseApi\r\nconst baseApi = axios.create({ baseURL });\r\n\r\n// 添加请求拦截器\r\nbaseApi.interceptors.request.use(\r\n\tconfig => {\r\n\t\tconst token = getToken(); // 从本地存储获取 token\r\n\t\tif (token) {\r\n\t\t\tconfig.headers['token'] = `${token}`; // 将 token 添加到请求头\r\n\t\t}\r\n\t\tconsole.log(config)\r\n\t\treturn config;\r\n\t},\r\n\terror => {\r\n\t\treturn Promise.reject(error);\r\n\t}\r\n);\r\n\r\n// 添加响应拦截器\r\nbaseApi.interceptors.response.use(\r\n\tresponse => {\r\n\t\t// 如果响应是失败且是用户错误，清空用户信息\r\n\t\tif (response.data && response.data.code === 'failed') {\r\n\r\n\t\t\tif (response.config.url.includes(\"broad.jspx\")) {\r\n\t\t\t\t// 清空用户信息\r\n\t\t\t\tlocalStorage.removeItem('token');\r\n\t\t\t\tlocalStorage.removeItem('userInfo');\r\n\t\t\t\tconsole.log(\"window.location.pathname====>\", \"window.location.pathname\")\r\n\t\t\t\twindow.location.href = '/login?redirect=' + window.location.pathname;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn response;\r\n\t},\r\n\terror => {\r\n\t\t// 处理响应错误\r\n\t\tconsole.error('Response Error:', error);\r\n\t\treturn Promise.reject(error);\r\n\t}\r\n);\r\n\r\nexport const registerUser = async (params) => {\r\n\tconst formData = new FormData(); // 创建 FormData 实例\r\n\tformData.append('password', params.password); // 添加 pageSize\r\n\tformData.append('email', params.email); // 添加 currency\r\n\tformData.append('currency', params.currency); // 添加 currency\r\n\ttry {\r\n\t\tconst response = await baseApi.post(\"/interface/arvh5/register.jspx\", formData, {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'multipart/form-data' // 设置请求头为 multipart/form-data\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn response.data;\r\n\t} catch (error) {\r\n\t\tconsole.error(\"خطأ:\", error);\r\n\t\tthrow error;\r\n\t}\r\n};\r\n\r\nexport const loginUser = async (params) => {\r\n\tconst formData = new FormData(); // 创建 FormData 实例\r\n\tformData.append('password', params.password); // 添加 pageSize\r\n\tformData.append('username', params.username); // 添加 currency\r\n\tconst response = await baseApi.post(\"/interface/arvh5/login.jspx\", formData, {\r\n\t\theaders: {\r\n\t\t\t'Content-Type': 'multipart/form-data' // 设置请求头为 multipart/form-data\r\n\t\t}\r\n\t});\r\n\tsetToken(response.data.token);\r\n\tsetUserInfo(response.data);\r\n\treturn response.data;\r\n};\r\n\r\nexport const refreshToken = async () => {\r\n\tconst userid = getUserInfo()?.userId;\r\n\tconsole.log(getUserInfo(), \"getUserInfo()\")\r\n\tconsole.log(userid, \"userid\")\r\n\tconst response = await baseApi.get(\"/api/token/renew.jspx\", {\r\n\t\tparams: {\r\n\t\t\tuserId: userid\r\n\t\t}\r\n\t});\r\n\tsetToken(response.data.token);\r\n\treturn response.data;\r\n};\r\n\r\n\r\nexport const loadMoreMovies = async (pageNo, pageSize) => {\r\n\ttry {\r\n\t\tconst formData = new FormData(); // 创建 FormData 实例\r\n\t\tformData.append('pageNo', pageNo); // 添加 pageNo\r\n\t\tformData.append('pageSize', pageSize); // 添加 pageSize\r\n\t\tformData.append('currency', getUserInfo()?.currency || 'USD'); // 添加 currency\r\n\r\n\t\tconst response = await baseApi.post(\"/api/arvh5/video/list.jspx\", formData, {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'multipart/form-data' // 设置请求头为 multipart/form-data\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn response.data; // 假设返回的数据格式是一个电影列表\r\n\t} catch (error) {\r\n\t\tconsole.error(\"加载更多电影时出错:\", error);\r\n\t\tthrow error;\r\n\t}\r\n};\r\n\r\n\r\n\r\nexport const search = async (words, pageNo, pageSize) => {\r\n\ttry {\r\n\t\tconst formData = new FormData(); // 创建 FormData 实例\r\n\t\tformData.append('words', words); // 添加 pageNo\r\n\t\tformData.append('pageNo', pageNo); // 添加 pageNo\r\n\t\tformData.append('pageSize', pageSize); // 添加 pageSize\r\n\t\tformData.append('currency', getUserInfo()?.currency || 'USD'); // 添加 currency\r\n\r\n\t\tconst response = await baseApi.post(\"/api/arvh5/search.jspx\", formData, {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'multipart/form-data' // 设置请求头为 multipart/form-data\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn response.data; // 假设返回的数据格式是一个电影列表\r\n\t} catch (error) {\r\n\t\tconsole.error(\"加载更多电影时出错:\", error);\r\n\t\tthrow error;\r\n\t}\r\n};\r\n\r\nexport const banners = async () => {\r\n\ttry {\r\n\r\n\t\tconst response = await baseApi.post(\"/api/arvh5/banners.jspx\", {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'multipart/form-data' // 设置请求头为 multipart/form-data\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn response.data; // 假设返回的数据格式是一个电影列表\r\n\t} catch (error) {\r\n\t\tconsole.error(\"加载更多电影时出错:\", error);\r\n\t\tthrow error;\r\n\t}\r\n};\r\n\r\n\r\n\r\n\r\nexport const getMovieDetail = async (id) => {\r\n\ttry {\r\n\t\tconst formData = new FormData(); // 创建 FormData 实例\r\n\t\tformData.append('id', id); // 添加 pageNo\r\n\t\tformData.append('currency', getUserInfo()?.currency || 'USD'); // 添加 currency\r\n\r\n\t\tconst response = await baseApi.post(\"/api/arvh5/video/detail.jspx\", formData, {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'multipart/form-data' // 设置请求头为 multipart/form-data\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn response.data; // 假设返回的数据格式是一个电影列表\r\n\t} catch (error) {\r\n\t\tconsole.error(\"加载更多电影时出错:\", error);\r\n\t\tthrow error;\r\n\t}\r\n};\r\nexport const getPlayDetail = async (id) => {\r\n\ttry {\r\n\t\tconst formData = new FormData(); // 创建 FormData 实例\r\n\t\tformData.append('id', id); // 添加 pageNo\r\n\t\tformData.append('currency', getUserInfo()?.currency || 'USD'); // 添加 currency\r\n\r\n\t\tconst response = await baseApi.post(\"/api/arvh5/video/broad.jspx\", formData, {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'multipart/form-data' // 设置请求头为 multipart/form-data\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn response.data; // 假设返回的数据格式是一个电影列表\r\n\t} catch (error) {\r\n\t\tconsole.error(\"加载更多电影时出错:\", error);\r\n\t\tthrow error;\r\n\t}\r\n};\r\n\r\n\r\nexport const getPrice = async (id) => {\r\n\ttry {\r\n\t\tconst formData = new FormData(); // 创建 FormData 实例\r\n\t\tformData.append('id', id); // 添加 pageNo\r\n\t\tformData.append('currency', getUserInfo()?.currency || 'USD'); // 添加 currency\r\n\r\n\t\tconst response = await baseApi.post(\"/api/arvh5/video/price.jspx\", formData, {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'multipart/form-data' // 设置请求头为 multipart/form-data\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn response.data; // 假设返回的数据格式是一个电影列表\r\n\t} catch (error) {\r\n\t\tconsole.error(\"加载更多电影时出错:\", error);\r\n\t\tthrow error;\r\n\t}\r\n};\r\n\r\nexport const signalOrder = async (ids) => {\r\n\ttry {\r\n\t\tconst formData = new FormData();\r\n\t\tids.forEach(id => formData.append('ids', id));\r\n\t\tformData.append('currency', getUserInfo()?.currency || 'USD'); // 添加 currency\r\n\r\n\t\tconst response = await baseApi.post(`/api/arvh5/detailOrder.jspx`, formData, {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'multipart/form-data' // 设置请求头为 multipart/form-data\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn response.data; // 假设返回的数据格式是一个电影列表\r\n\t} catch (error) {\r\n\t\tconsole.error(\"加载更多电影时出错:\", error);\r\n\t\tthrow error;\r\n\t}\r\n};\r\n\r\n\r\n\r\nexport const vipOrder = async (vipId, proId) => {\r\n\ttry {\r\n\t\tconst formData = new FormData(); // 创建 FormData 实例\r\n\t\tformData.append('vipId', vipId); // 添加 pageNo\r\n\t\tformData.append('proId', proId); // 添加 pageNo\r\n\t\tformData.append('currency', getUserInfo()?.currency || 'USD'); // 添加 currency\r\n\r\n\t\tconst response = await baseApi.post(\"/api/arvh5/vipOrder.jspx\", formData, {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'multipart/form-data' // 设置请求头为 multipart/form-data\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn response.data; // 假设返回的数据格式是一个电影列表\r\n\t} catch (error) {\r\n\t\tconsole.error(\"加载更多电影时出错:\", error);\r\n\t\tthrow error;\r\n\t}\r\n};\r\n\r\n\r\nexport const pay = async (orderId, ps) => {\r\n\tconsole.log(ps, \"ps\")\r\n\ttry {\r\n\t\tconst formData = new FormData(); // 创建 FormData 实例\r\n\t\tformData.append('code', \"paymentwall\"); // 添加 pageNo\r\n\t\tformData.append('orderId', orderId); // 添加 pageNo\r\n\t\tformData.append('currency', getUserInfo()?.currency || 'USD'); // 添加 currency\r\n\t\tformData.append('couponld', '0'); // 添加 currency\r\n\t\tformData.append('ps', ps || 'mint'); // 添加 currency\r\n\t\tformData.append('successUrl', window.location.href); // 添加 currency\r\n\t\tconst response = await baseApi.post(\"/api/paymentwall/pay.jspx\", formData, {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'multipart/form-data' // 设置请求头为 multipart/form-data\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn response.data; // 假设返回的数据格式是一个电影列表\r\n\t} catch (error) {\r\n\t\tconsole.error(\"加载更多电影时出错:\", error);\r\n\t\tthrow error;\r\n\t}\r\n};\r\nexport const orders = async (pageNo, pageSize) => {\r\n\ttry {\r\n\t\tconst formData = new FormData(); // 创建 FormData 实例\r\n\t\tformData.append('pageNo', pageNo); // 添加 pageNo\r\n\t\tformData.append('pageSize', pageSize); // 添加 pageNo\r\n\t\tconst response = await baseApi.post(\"/api/arvh5/orders.jspx\", formData, {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'multipart/form-data' // 设置请求头为 multipart/form-data\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn response.data; // 假设返回的数据格式是一个电影列表\r\n\t} catch (error) {\r\n\t\tconsole.error(\"加载更多电影时出错:\", error);\r\n\t\tthrow error;\r\n\t}\r\n};\r\nexport const views = async (pageNo, pageSize) => {\r\n\ttry {\r\n\t\tconst formData = new FormData(); // 创建 FormData 实例\r\n\t\tformData.append('pageNo', pageNo); // 添加 pageNo\r\n\t\tformData.append('pageSize', pageSize); // 添加 pageNo\r\n\t\tconst response = await baseApi.post(\"/api/arvh5/views.jspx\", formData, {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'multipart/form-data' // 设置请求头为 multipart/form-data\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn response.data; // 假设返回的数据格式是一个电影列表\r\n\t} catch (error) {\r\n\t\tconsole.error(\"加载更多电影时出错:\", error);\r\n\t\tthrow error;\r\n\t}\r\n};\r\n\r\nexport const makePayment = async () => {\r\n\ttry {\r\n\t\tconst response = await baseApi.post(\"/api/arvh5/payments.jspx\");\r\n\t\treturn response.data; // 返回响应数据\r\n\t} catch (error) {\r\n\t\tconsole.error(\"支付请求出错:\", error);\r\n\t\tthrow error; // 抛出错误以便调用者处理\r\n\t}\r\n};\r\n\r\n\r\n","<template>\r\n  <div class=\"home-container\">\r\n    <van-search\r\n      v-model=\"value\"\r\n      show-action\r\n      :label=\"'اسم الفيلم'\"\r\n      :placeholder=\"'ابحث عن فيلمك المفضل'\"\r\n      @search=\"onSearch\"\r\n      class=\"arabic-search\"\r\n    >\r\n      <template #action>\r\n        <div v-if=\"userInfo?.userId\" class=\"username\" @click=\"goToMe\">\r\n          {{ userInfo.username }}\r\n        </div>\r\n        <div v-else @click=\"goToLogin\">التسجيل / تسجيل الدخول</div>\r\n      </template>\r\n    </van-search>\r\n    <van-swipe\r\n      :autoplay=\"3000\"\r\n      indicator-color=\"white\"\r\n      :show-indicators=\"false\"\r\n      :loop=\"false\"\r\n    >\r\n      <van-swipe-item v-for=\"banner in banners\" :key=\"banner.id\">\r\n        <img :src=\"banner.img\" alt=\"\" class=\"banner-image\" />\r\n      </van-swipe-item>\r\n    </van-swipe>\r\n    <van-list\r\n      v-model=\"loading\"\r\n      :finished=\"finished\"\r\n      finished-text=\" لا يوجد المزيد\"\r\n      @load=\"loadMoreMovies\"\r\n    >\r\n      <div class=\"movie-grid\">\r\n        <div\r\n          v-for=\"movie in filteredMovies\"\r\n          :key=\"movie.id\"\r\n          class=\"movie-item\"\r\n          @click=\"goToPlayerH(movie.id)\"\r\n        >\r\n          <div class=\"movie-card\">\r\n            <!-- <div class=\"chapter-num\">\r\n              جميع الحلقات({{ movie.chapterNums }} حلقة)\r\n            </div> -->\r\n            <img :src=\"movie.cover\" alt=\"\" class=\"movie-cover\" />\r\n            <div class=\"play-button\">\r\n              <van-icon name=\"play-circle-o\" size=\"24\" />\r\n            </div>\r\n          </div>\r\n          <div class=\"movie-title\">{{ movie.title }}</div>\r\n        </div>\r\n      </div>\r\n    </van-list>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Search, List, Swipe, SwipeItem } from \"vant\";\r\n// import { banners, search } from \"@/api/api\";\r\nimport { banners, loadMoreMovies, search } from \"@/api/api\";\r\nimport { getToken, getUserInfo } from \"@/utils\";\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  name: \"HomePage\",\r\n  components: {\r\n    \"van-search\": Search,\r\n    \"van-list\": List,\r\n    \"van-swipe\": Swipe,\r\n    \"van-swipe-item\": SwipeItem,\r\n  },\r\n  data() {\r\n    return {\r\n      value: \"\",\r\n      movies: [],\r\n      filteredMovies: [],\r\n      pageNo: 1,\r\n      pageSize: 12,\r\n      loading: false,\r\n      finished: false,\r\n      banners: [],\r\n    };\r\n  },\r\n  computed: {\r\n    userInfo() {\r\n      return getUserInfo();\r\n    },\r\n  },\r\n  mounted() {\r\n    const hashParams = new URLSearchParams(\r\n      window.location.hash.split(\"?\")[1] || \"\"\r\n    );\r\n    const code = hashParams.get(\"code\");\r\n    // 如果需要后续使用可以保存到data或vuex\r\n    console.log(\"code\", code);\r\n    if (code) {\r\n      const type = 4;\r\n      axios\r\n        .post(\r\n          \"https://thatsdramas.com/server/access/\",\r\n          JSON.stringify({ code, type }),\r\n          {\r\n            headers: {\r\n              \"Content-Type\": \"application/json\",\r\n            },\r\n            params: {\r\n              _: new Date().getTime(), // 禁用缓存\r\n            },\r\n          }\r\n        )\r\n        .then((response) => {\r\n          if (response.data.code === 0) {\r\n            // 成功逻辑\r\n          } else {\r\n            console.error(\"发生错误，请检测!\");\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.error(\"发生错误，请检测!\", error);\r\n        });\r\n    }\r\n    this.getBanner();\r\n    this.filteredMovies = this.movies; // 初始化时显示所有电影\r\n  },\r\n  methods: {\r\n    goToMe() {\r\n      this.$router.push({ name: \"Me\" });\r\n    },\r\n    async getBanner() {\r\n      try {\r\n        const response = await banners();\r\n        this.banners = response.data || [];\r\n      } catch (error) {\r\n        console.error(\"获取轮播图失败:\", error);\r\n      }\r\n    },\r\n    async onSearch() {\r\n      try {\r\n        const { data: newMovies, totalCount } = await search(this.value, 1, 12);\r\n        this.filteredMovies = [];\r\n        if (totalCount == this.filteredMovies.length) {\r\n          this.finished = true;\r\n          this.loading = false;\r\n          return;\r\n        }\r\n        this.filteredMovies = [...this.filteredMovies, ...newMovies];\r\n        this.pageNo++;\r\n      } catch (error) {\r\n        console.error(\"加载更多电影时出错:\", error);\r\n        this.finished = true;\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    async loadMoreMovies() {\r\n      if (this.finished) return;\r\n      this.loading = true;\r\n      console.log(this.pageNo);\r\n      console.log(this.pageSize);\r\n      try {\r\n        const { data: newMovies, totalCount } = await loadMoreMovies(\r\n          this.pageNo,\r\n          this.pageSize || 12\r\n        );\r\n\r\n        if (totalCount == this.filteredMovies.length) {\r\n          this.finished = true;\r\n          this.loading = false;\r\n          return;\r\n        }\r\n        this.filteredMovies = [...this.filteredMovies, ...newMovies];\r\n        this.pageNo++;\r\n      } catch (error) {\r\n        console.error(\"加载更多电影时出错:\", error);\r\n        this.finished = true;\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    goToPlayer(movieId) {\r\n      this.$router.push({ name: \"Player\", query: { id: movieId } });\r\n    },\r\n    goToPlayerH(movieId) {\r\n      if (!getToken() || getToken() == \"undefined\") {\r\n        this.$router.push({ path: \"/login\" });\r\n        return;\r\n      }\r\n      this.$router.push({ name: \"PlayerH\", query: { id: movieId } });\r\n    },\r\n    goToLogin() {\r\n      this.$router.push({ path: \"/login\" }); // 使用 Vue Router 进行导航\r\n    },\r\n  },\r\n  watch: {\r\n    value(newVal) {\r\n      console.log(newVal);\r\n      if (newVal == \"\") {\r\n        this.filteredMovies = this.movies;\r\n        this.currentPage = 1;\r\n        this.pageNo = 1;\r\n        this.pageSize = 12;\r\n        this.loading = false;\r\n        this.finished = false;\r\n        this.loadMoreMovies();\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n::v-deep .van-swipe {\r\n  margin: 10px 10px !important;\r\n}\r\n.home-container {\r\n  padding: 10px;\r\n  background-color: var(--background-color);\r\n  gap: 10px;\r\n  max-width: 100%;\r\n  overflow-x: hidden;\r\n}\r\n\r\n.header {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  background-color: var(--primary-color);\r\n  color: white;\r\n  text-align: center;\r\n  padding: 10px 0;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n  z-index: 1000;\r\n}\r\n\r\n.movie-cover {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n}\r\n\r\n.movie-card {\r\n  position: relative;\r\n  width: 100%;\r\n  padding-bottom: 150%; /* 控制高宽比为 2:3 */\r\n  overflow: hidden;\r\n  border-radius: 8px;\r\n}\r\n\r\n.movie-title {\r\n  font-size: 14px;\r\n  text-align: center;\r\n  padding: 4px;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  color: var(--text-color);\r\n  box-sizing: border-box;\r\n}\r\n\r\n.option-button {\r\n  padding: 8px 16px;\r\n  font-size: 14px;\r\n  cursor: pointer;\r\n  background-color: var(--primary-color);\r\n  color: white;\r\n  border: none;\r\n  border-radius: 3px;\r\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\r\n  transition: background-color 0.3s;\r\n}\r\n\r\n.option-button:hover {\r\n  background-color: var(--hover-color);\r\n}\r\n\r\n.chapter-num {\r\n  position: absolute;\r\n  top: 10px;\r\n  left: 10px;\r\n  background-color: rgba(0, 0, 0, 0.7);\r\n  color: white;\r\n  padding: 5px;\r\n  border-radius: 3px;\r\n  font-size: 12px;\r\n  z-index: 100;\r\n}\r\n\r\n.van-grid-item {\r\n  position: relative;\r\n  width: 100%;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.van-grid {\r\n  padding: 10px 0;\r\n  --van-grid-item-content-padding: 0;\r\n}\r\n\r\n.play-button {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  background-color: rgba(0, 0, 0, 0.7);\r\n  color: white;\r\n  padding: 6px 12px;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  z-index: 10;\r\n}\r\n\r\n.username {\r\n  white-space: nowrap; /* 不换行 */\r\n  overflow: hidden; /* 超出部分隐藏 */\r\n  text-overflow: ellipsis; /* 显示省略号 */\r\n  max-width: 100px; /* 设置最大宽度，根据需要调整 */\r\n}\r\n\r\n.banner-image {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n  border-radius: 8px;\r\n}\r\n\r\n.van-swipe {\r\n  margin: 10px 0;\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n}\r\n::v-deep .van-grid-item__content {\r\n  padding: 8px !important;\r\n}\r\n\r\n.arabic-search {\r\n  direction: rtl;\r\n}\r\n\r\n::v-deep .arabic-search .van-search__content {\r\n  background-color: #f7f8fa;\r\n  border-radius: 4px;\r\n}\r\n\r\n::v-deep .arabic-search .van-cell__title {\r\n  text-align: right;\r\n}\r\n\r\n::v-deep .arabic-search .van-field__control {\r\n  text-align: right;\r\n}\r\n\r\n::v-deep .arabic-search .van-search__action {\r\n  padding: 0 12px;\r\n}\r\n\r\n.movie-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(3, minmax(0, 1fr));\r\n  gap: 10px;\r\n  padding: 10px;\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.movie-item {\r\n  width: 100%;\r\n  min-width: 0;\r\n  box-sizing: border-box;\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=6de76912&scoped=true\"\nimport script from \"./Home.vue?vue&type=script&lang=js\"\nexport * from \"./Home.vue?vue&type=script&lang=js\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&id=6de76912&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6de76912\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"player-container\"},[_c('video',{ref:\"videoPlayer\",staticClass:\"video-player\",attrs:{\"autoplay\":\"\",\"controls\":\"\",\"poster\":_vm.selectedThumbnail},on:{\"click\":_vm.handleClick,\"touchstart\":_vm.handleTouchStart,\"touchmove\":_vm.handleTouchMove,\"touchend\":_vm.handleTouchEnd,\"pause\":function($event){_vm.showPlayButton = true},\"play\":function($event){_vm.showPlayButton = false}}},[_c('source',{attrs:{\"src\":_vm.currentEpisode.viedoUrl_H,\"type\":\"video/mp4\"}}),_vm._v(\" متصفحك لا يدعم تشغيل الفيديو. \")]),(_vm.showPlayButton)?_c('div',{staticClass:\"overlay\"},[_c('div',{staticClass:\"play-button\",on:{\"click\":_vm.togglePlay}})]):_vm._e(),_c('div',{staticClass:\"info-bar\"},[_c('span',{staticClass:\"title\",on:{\"click\":function($event){_vm.showEpisodeSelection = true}}},[_vm._v(_vm._s(_vm.title))]),_c('span',{staticClass:\"episode\",on:{\"click\":function($event){_vm.showEpisodeSelection = true}}},[_vm._v(\" الحلقة رقم\"+_vm._s(_vm.episode))]),_c('button',{staticClass:\"follow-button\"},[_vm._v(\"تابع المسلسل\")])]),_c('van-popup',{style:({ height: '60%' }),attrs:{\"position\":\"bottom\"},model:{value:(_vm.showEpisodeSelection),callback:function ($$v) {_vm.showEpisodeSelection=$$v},expression:\"showEpisodeSelection\"}},[_c('div',{staticClass:\"popup-header\"},[_c('img',{staticClass:\"thumbnail\",attrs:{\"src\":_vm.selectedThumbnail,\"alt\":\"صورة مصغرة\"}}),_c('div',{staticClass:\"popup-info\"},[_c('h3',[_vm._v(_vm._s(_vm.title))]),_c('p',[_vm._v(\"عدد الحلقات: \"+_vm._s(_vm.episodes.length))])])]),_c('van-grid',{attrs:{\"column-num\":4,\"gutter\":10,\"clickable\":\"\"}},_vm._l((_vm.episodes),function(ep){return _c('van-grid-item',{key:ep.index,class:{ 'selected-episode': ep === _vm.episode },on:{\"click\":function($event){return _vm.selectEpisode(ep)}}},[_vm._v(\" \"+_vm._s(ep.index)+\" \"),(ep === _vm.episode)?_c('span',{staticClass:\"playing-indicator\"},[_c('span'),_c('span'),_c('span')]):_vm._e()])}),1),_c('div',{staticClass:\"popup-footer\"})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"player-container\">\r\n    <video\r\n      ref=\"videoPlayer\"\r\n      class=\"video-player\"\r\n      autoplay\r\n      controls\r\n      @click=\"handleClick\"\r\n      @touchstart=\"handleTouchStart\"\r\n      @touchmove=\"handleTouchMove\"\r\n      @touchend=\"handleTouchEnd\"\r\n      @pause=\"showPlayButton = true\"\r\n      @play=\"showPlayButton = false\"\r\n      :poster=\"selectedThumbnail\"\r\n    >\r\n      <source :src=\"currentEpisode.viedoUrl_H\" type=\"video/mp4\" />\r\n      متصفحك لا يدعم تشغيل الفيديو.\r\n    </video>\r\n    <div v-if=\"showPlayButton\" class=\"overlay\">\r\n      <div class=\"play-button\" @click=\"togglePlay\"></div>\r\n    </div>\r\n    <div class=\"info-bar\">\r\n      <span class=\"title\" @click=\"showEpisodeSelection = true\">{{\r\n        title\r\n      }}</span>\r\n      <span class=\"episode\" @click=\"showEpisodeSelection = true\">\r\n        الحلقة رقم{{ episode }}</span\r\n      >\r\n      <button class=\"follow-button\">تابع المسلسل</button>\r\n    </div>\r\n\r\n    <!-- Popup for episode selection -->\r\n    <van-popup\r\n      v-model=\"showEpisodeSelection\"\r\n      position=\"bottom\"\r\n      :style=\"{ height: '60%' }\"\r\n    >\r\n      <div class=\"popup-header\">\r\n        <img :src=\"selectedThumbnail\" alt=\"صورة مصغرة\" class=\"thumbnail\" />\r\n        <div class=\"popup-info\">\r\n          <h3>{{ title }}</h3>\r\n          <p>عدد الحلقات: {{ episodes.length }}</p>\r\n        </div>\r\n      </div>\r\n      <van-grid :column-num=\"4\" :gutter=\"10\" clickable>\r\n        <van-grid-item\r\n          v-for=\"ep in episodes\"\r\n          :key=\"ep.index\"\r\n          :class=\"{ 'selected-episode': ep === episode }\"\r\n          @click=\"selectEpisode(ep)\"\r\n        >\r\n          {{ ep.index }}\r\n          <span v-if=\"ep === episode\" class=\"playing-indicator\">\r\n            <span></span><span></span><span></span>\r\n          </span>\r\n        </van-grid-item>\r\n      </van-grid>\r\n      <div class=\"popup-footer\"></div>\r\n    </van-popup>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Grid, GridItem, Popup } from \"vant\";\r\nimport { getMovieDetail, getPlayDetail } from \"../api/api\";\r\n\r\nexport default {\r\n  name: \"VideoPlayer\",\r\n  components: {\r\n    \"van-grid\": Grid,\r\n    \"van-grid-item\": GridItem,\r\n    \"van-popup\": Popup,\r\n  },\r\n  data() {\r\n    return {\r\n      title: \"عنوان مثال\",\r\n      episode: \"1\",\r\n      touchStartX: 0,\r\n      touchStartTime: 0,\r\n      showPlayButton: false,\r\n      clickTimeout: null,\r\n      showEpisodeSelection: false,\r\n      episodes: [], // حلقات مثال\r\n      selectedThumbnail: \"\",\r\n      currentEpisode: null,\r\n    };\r\n  },\r\n  created() {\r\n    this.fetchMovieDetails();\r\n  },\r\n  methods: {\r\n    handleClick() {\r\n      if (this.clickTimeout) {\r\n        clearTimeout(this.clickTimeout);\r\n        this.clickTimeout = null;\r\n        this.togglePlay();\r\n      } else {\r\n        this.clickTimeout = setTimeout(() => {\r\n          this.clickTimeout = null;\r\n        }, 300);\r\n      }\r\n    },\r\n    togglePlay() {\r\n      console.log(\"togglePlay called\");\r\n      const video = this.$refs.videoPlayer;\r\n      if (video.paused) {\r\n        video.play();\r\n        this.showPlayButton = false;\r\n      } else {\r\n        video.pause();\r\n        this.showPlayButton = true;\r\n      }\r\n    },\r\n    handleTouchStart(event) {\r\n      this.touchStartX = event.touches[0].clientX;\r\n      this.touchStartTime = event.timeStamp;\r\n    },\r\n    handleTouchMove(event) {\r\n      const touchEndX = event.touches[0].clientX;\r\n      const deltaX = touchEndX - this.touchStartX;\r\n      const video = this.$refs.videoPlayer;\r\n      const duration = video.duration;\r\n      const newTime =\r\n        video.currentTime + (deltaX / window.innerWidth) * duration;\r\n      video.currentTime = Math.min(Math.max(newTime, 0), duration);\r\n    },\r\n    handleTouchEnd(event) {\r\n      const touchDuration = event.timeStamp - this.touchStartTime;\r\n      if (touchDuration < 500) {\r\n        return;\r\n      }\r\n    },\r\n    selectEpisode(ep) {\r\n      this.episode = ep;\r\n      this.showEpisodeSelection = false;\r\n    },\r\n    fetchMovieDetails() {\r\n      const movieId = this.$route.query.id;\r\n      if (movieId) {\r\n        this.getMovieDetail(movieId);\r\n      } else {\r\n        console.error(\"未找到电影ID\");\r\n      }\r\n    },\r\n    async getMovieDetail(movieId) {\r\n      try {\r\n        const response = await getMovieDetail(movieId);\r\n        console.log(response.data);\r\n        this.title = response.data.title;\r\n        this.episodes = response.data.chapters;\r\n        this.selectedThumbnail = response.data.cover;\r\n        const playResponse = await getPlayDetail(this.episodes[0].id);\r\n        this.currentEpisode = playResponse.data;\r\n      } catch (error) {\r\n        console.error(\"获取影片详情失败:\", error);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.player-container {\r\n  width: 100vw;\r\n  height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow: hidden;\r\n  position: relative;\r\n  background-color: #f8f9fa;\r\n}\r\n\r\n.video-player {\r\n  width: 100%;\r\n  height: calc(100vh - 60px);\r\n  object-fit: contain;\r\n  background-color: #000;\r\n}\r\n\r\n.overlay {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: calc(100vh - 60px);\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background: rgba(0, 0, 0, 0.5);\r\n}\r\n\r\n.play-button {\r\n  width: 50px;\r\n  height: 50px;\r\n  background: #007bff;\r\n  border-radius: 50%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  cursor: pointer;\r\n}\r\n\r\n.play-button::before {\r\n  content: \"\";\r\n  display: block;\r\n  width: 0;\r\n  height: 0;\r\n  border-left: 15px solid #ffffff;\r\n  border-top: 10px solid transparent;\r\n  border-bottom: 10px solid transparent;\r\n  margin-left: 5px;\r\n}\r\n\r\n.play-text {\r\n  color: white;\r\n  margin-top: 10px;\r\n}\r\n\r\n.info-bar {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n  background: #0056b3;\r\n  color: #ffffff;\r\n  height: 60px;\r\n  box-sizing: border-box;\r\n  padding: 0 10px;\r\n}\r\n\r\n.title,\r\n.episode {\r\n  flex: 1;\r\n  padding: 0 10px;\r\n  font-size: 16px;\r\n}\r\n\r\n.follow-button {\r\n  background-color: #007bff;\r\n  border: none;\r\n  color: #ffffff;\r\n  padding: 5px 15px;\r\n  cursor: pointer;\r\n  flex-shrink: 0;\r\n  border-radius: 5px;\r\n}\r\n\r\n.popup-header {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 10px;\r\n  background-color: #e9ecef;\r\n  border-bottom: 1px solid #ced4da;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.thumbnail {\r\n  width: 60px;\r\n  height: 60px;\r\n  margin-right: 15px;\r\n  border-radius: 5px;\r\n  object-fit: cover;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.popup-info {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: flex-start;\r\n}\r\n\r\n.popup-info h3 {\r\n  margin: 0;\r\n  font-size: 18px;\r\n  color: #343a40;\r\n}\r\n\r\n.popup-info p {\r\n  margin: 5px 0 0;\r\n  font-size: 14px;\r\n  color: #6c757d;\r\n}\r\n\r\n::v-deep .selected-episode .van-grid-item__content {\r\n  background-color: #007bff !important;\r\n  color: white;\r\n}\r\n\r\n.playing-indicator {\r\n  display: flex;\r\n  align-items: flex-end;\r\n  justify-content: space-between;\r\n  width: 16px;\r\n  height: 12px;\r\n  position: absolute;\r\n  top: 5px;\r\n  right: 5px;\r\n}\r\n\r\n.playing-indicator span {\r\n  display: block;\r\n  width: 3px;\r\n  background-color: #ffc107;\r\n  animation: bounce 1s infinite ease-in-out;\r\n}\r\n\r\n.playing-indicator span:nth-child(1) {\r\n  animation-delay: 0s;\r\n}\r\n\r\n.playing-indicator span:nth-child(2) {\r\n  animation-delay: 0.2s;\r\n}\r\n\r\n.playing-indicator span:nth-child(3) {\r\n  animation-delay: 0.4s;\r\n}\r\n\r\n@keyframes bounce {\r\n  0%,\r\n  100% {\r\n    height: 2px;\r\n  }\r\n  50% {\r\n    height: 12px;\r\n  }\r\n}\r\n\r\n.popup-footer {\r\n  height: 60px;\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Player.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Player.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Player.vue?vue&type=template&id=344bc547&scoped=true\"\nimport script from \"./Player.vue?vue&type=script&lang=js\"\nexport * from \"./Player.vue?vue&type=script&lang=js\"\nimport style0 from \"./Player.vue?vue&type=style&index=0&id=344bc547&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"344bc547\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"login-page\",attrs:{\"dir\":\"rtl\"}},[_c('van-icon',{staticClass:\"back-icon\",attrs:{\"name\":\"arrow-left\"},on:{\"click\":_vm.goBack}}),_c('h1',[_vm._v(\"تسجيل الدخول\")]),_c('form',{staticClass:\"rtl-form\",on:{\"submit\":function($event){$event.preventDefault();return _vm.login.apply(null, arguments)}}},[_c('van-field',{attrs:{\"label\":\"اسم المستخدم:\",\"placeholder\":\"الرجاء إدخال اسم المستخدم\",\"required\":\"\",\"label-align\":'right',\"input-align\":\"right\",\"dir\":\"ltr\"},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}}),_c('van-field',{attrs:{\"type\":\"password\",\"label\":\"كلمة المرور:\",\"placeholder\":\"الرجاء إدخال كلمة المرور\",\"required\":\"\",\"label-align\":'right',\"input-align\":\"right\",\"dir\":\"rtl\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('van-button',{attrs:{\"type\":\"primary\",\"native-type\":\"submit\",\"block\":\"\"}},[_vm._v(\"تسجيل الدخول\")])],1),_c('p',{staticClass:\"register-link\"},[_c('a',{on:{\"click\":_vm.goToRegister}},[_vm._v(\"اذهب للتسجيل\")])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"login-page\" dir=\"rtl\">\r\n    <van-icon name=\"arrow-left\" class=\"back-icon\" @click=\"goBack\" />\r\n    <h1>تسجيل الدخول</h1>\r\n    <form @submit.prevent=\"login\" class=\"rtl-form\">\r\n      <van-field\r\n        v-model=\"username\"\r\n        label=\"اسم المستخدم:\"\r\n        placeholder=\"الرجاء إدخال اسم المستخدم\"\r\n        required\r\n        :label-align=\"'right'\"\r\n        input-align=\"right\"\r\n        dir=\"ltr\"\r\n      />\r\n      <van-field\r\n        v-model=\"password\"\r\n        type=\"password\"\r\n        label=\"كلمة المرور:\"\r\n        placeholder=\"الرجاء إدخال كلمة المرور\"\r\n        required\r\n        :label-align=\"'right'\"\r\n        input-align=\"right\"\r\n        dir=\"rtl\"\r\n      />\r\n      <van-button type=\"primary\" native-type=\"submit\" block\r\n        >تسجيل الدخول</van-button\r\n      >\r\n    </form>\r\n    <p class=\"register-link\">\r\n      <a @click=\"goToRegister\">اذهب للتسجيل</a>\r\n    </p>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Button, Field, Toast, Icon } from \"vant\";\r\nimport { defineComponent } from \"vue\";\r\nimport { loginUser } from \"@/api/api.js\";\r\n\r\nexport default defineComponent({\r\n  name: \"UserLogin\",\r\n  components: {\r\n    [Button.name]: Button,\r\n    [Field.name]: Field,\r\n    [Icon.name]: Icon,\r\n  },\r\n  data() {\r\n    return {\r\n      username: \"\",\r\n      password: \"\",\r\n      redirect: \"\",\r\n    };\r\n  },\r\n  created() {\r\n    this.redirect = this.$route.query.redirect || \"/\";\r\n  },\r\n  methods: {\r\n    async login() {\r\n      try {\r\n        console.log(\"Username:\", this.username);\r\n        console.log(\"Password:\", this.password);\r\n        const data = await loginUser({\r\n          username: this.username,\r\n          password: this.password,\r\n        });\r\n        if (data.code === \"failed\") {\r\n          Toast.fail(data.message);\r\n        } else {\r\n          Toast.success(\"تم تسجيل الدخول بنجاح\");\r\n          this.$router.replace(this.redirect);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error:\", error);\r\n        Toast.fail(\"حدث خطأ أثناء تسجيل الدخول\");\r\n      }\r\n    },\r\n    goToRegister() {\r\n      this.$router.replace({\r\n        path: \"/register\",\r\n        query: { redirect: this.redirect },\r\n      });\r\n    },\r\n    goBack() {\r\n      this.$router.replace(this.redirect);\r\n    },\r\n  },\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.login-page {\r\n  max-width: 400px;\r\n  margin: 0 auto;\r\n  padding: 20px;\r\n  background-color: #f9f9f9;\r\n  border-radius: 8px;\r\n  font-family: \"Arial\", sans-serif;\r\n}\r\n\r\n.rtl-form {\r\n  text-align: right;\r\n}\r\n\r\n.login-page h1 {\r\n  text-align: center;\r\n  margin-bottom: 30px;\r\n  font-size: 24px;\r\n  color: #333;\r\n}\r\n\r\n:deep(.van-field__label) {\r\n  color: #333;\r\n  font-weight: 600;\r\n}\r\n\r\n:deep(.van-button--primary) {\r\n  margin-top: 20px;\r\n  height: 44px;\r\n  font-size: 16px;\r\n  background-color: #2c3e50;\r\n  border-color: #2c3e50;\r\n}\r\n\r\n:deep(.van-button--primary:active) {\r\n  background-color: #1a2633;\r\n  border-color: #1a2633;\r\n}\r\n\r\n.register-link {\r\n  text-align: center;\r\n  margin-top: 20px;\r\n}\r\n\r\n.register-link a {\r\n  color: #2c3e50;\r\n  text-decoration: none;\r\n  font-weight: 600;\r\n}\r\n\r\n.register-link a:hover {\r\n  color: #1a2633;\r\n}\r\n\r\n.back-icon {\r\n  position: absolute;\r\n  top: 20px;\r\n  right: 10px;\r\n  cursor: pointer;\r\n  z-index: 100;\r\n  transform: rotate(180deg);\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=89172696&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=89172696&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"89172696\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _vm._m(0)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',[_c('h1',[_vm._v(\"支付页\")]),_c('p',[_vm._v(\"选择支付方式：\")]),_c('button',[_vm._v(\"微信支付\")]),_c('button',[_vm._v(\"支付宝支付\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <h1>支付页</h1>\r\n    <p>选择支付方式：</p>\r\n    <button>微信支付</button>\r\n    <button>支付宝支付</button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"PaymentPage\",\r\n};\r\n</script>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Payment.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Payment.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Payment.vue?vue&type=template&id=db00d506\"\nimport script from \"./Payment.vue?vue&type=script&lang=js\"\nexport * from \"./Payment.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"login-page\",attrs:{\"dir\":\"rtl\"}},[_c('van-icon',{staticClass:\"back-icon\",attrs:{\"name\":\"arrow-left\"},on:{\"click\":_vm.goBack}}),_c('h1',[_vm._v(\"تسجيل\")]),_c('form',{staticClass:\"rtl-form\",on:{\"submit\":function($event){$event.preventDefault();return _vm.register.apply(null, arguments)}}},[_c('van-field',{attrs:{\"label\":\"البريد الإلكتروني:\",\"placeholder\":\"أدخل البريد الإلكتروني\",\"required\":\"\",\"label-align\":'right',\"input-align\":\"right\",\"dir\":\"ltr\"},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}}),_c('van-field',{attrs:{\"type\":\"password\",\"label\":\"كلمة المرور:\",\"placeholder\":\"أدخل كلمة المرور\",\"required\":\"\",\"label-align\":'right',\"input-align\":\"right\",\"dir\":\"rtl\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('van-field',{attrs:{\"type\":\"password\",\"label\":\"تأكيد كلمة المرور:\",\"placeholder\":\"أعد إدخال كلمة المرور\",\"required\":\"\",\"label-align\":'right',\"input-align\":\"right\",\"dir\":\"rtl\"},model:{value:(_vm.confirmPassword),callback:function ($$v) {_vm.confirmPassword=$$v},expression:\"confirmPassword\"}}),_c('van-field',{attrs:{\"label\":\"العملة:\",\"placeholder\":\"اختر العملة\",\"readonly\":\"\",\"label-align\":'right',\"input-align\":\"right\",\"required\":\"\"},on:{\"click\":function($event){_vm.showCurrencySheet = true}},model:{value:(_vm.currency),callback:function ($$v) {_vm.currency=$$v},expression:\"currency\"}}),_c('van-action-sheet',{attrs:{\"actions\":_vm.currencyOptions,\"cancel-text\":\"إلغاء\",\"description\":\"يرجى اختيار عملة\",\"close-on-click-action\":\"\"},on:{\"select\":_vm.onSelectCurrency,\"cancel\":_vm.onCancel},model:{value:(_vm.showCurrencySheet),callback:function ($$v) {_vm.showCurrencySheet=$$v},expression:\"showCurrencySheet\"}}),_c('van-button',{attrs:{\"type\":\"primary\",\"native-type\":\"submit\",\"block\":\"\"}},[_vm._v(\"تسجيل\")])],1),_c('p',{staticClass:\"register-link\"},[_c('a',{on:{\"click\":_vm.goToLogin}},[_vm._v(\"العودة إلى تسجيل الدخول\")])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"login-page\" dir=\"rtl\">\r\n    <van-icon name=\"arrow-left\" class=\"back-icon\" @click=\"goBack\" />\r\n    <h1>تسجيل</h1>\r\n    <form @submit.prevent=\"register\" class=\"rtl-form\">\r\n      <van-field\r\n        v-model=\"email\"\r\n        label=\"البريد الإلكتروني:\"\r\n        placeholder=\"أدخل البريد الإلكتروني\"\r\n        required\r\n        :label-align=\"'right'\"\r\n        input-align=\"right\"\r\n        dir=\"ltr\"\r\n      />\r\n      <van-field\r\n        v-model=\"password\"\r\n        type=\"password\"\r\n        label=\"كلمة المرور:\"\r\n        placeholder=\"أدخل كلمة المرور\"\r\n        required\r\n        :label-align=\"'right'\"\r\n        input-align=\"right\"\r\n        dir=\"rtl\"\r\n      />\r\n      <van-field\r\n        v-model=\"confirmPassword\"\r\n        type=\"password\"\r\n        label=\"تأكيد كلمة المرور:\"\r\n        placeholder=\"أعد إدخال كلمة المرور\"\r\n        required\r\n        :label-align=\"'right'\"\r\n        input-align=\"right\"\r\n        dir=\"rtl\"\r\n      />\r\n      <van-field\r\n        v-model=\"currency\"\r\n        label=\"العملة:\"\r\n        placeholder=\"اختر العملة\"\r\n        readonly\r\n        :label-align=\"'right'\"\r\n        input-align=\"right\"\r\n        @click=\"showCurrencySheet = true\"\r\n        required\r\n      />\r\n      <van-action-sheet\r\n        v-model=\"showCurrencySheet\"\r\n        :actions=\"currencyOptions\"\r\n        cancel-text=\"إلغاء\"\r\n        description=\"يرجى اختيار عملة\"\r\n        close-on-click-action\r\n        @select=\"onSelectCurrency\"\r\n        @cancel=\"onCancel\"\r\n      />\r\n      <van-button type=\"primary\" native-type=\"submit\" block>تسجيل</van-button>\r\n    </form>\r\n    <p class=\"register-link\">\r\n      <a @click=\"goToLogin\">العودة إلى تسجيل الدخول</a>\r\n    </p>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Button, Field, ActionSheet, Toast, Icon } from \"vant\";\r\nimport { defineComponent } from \"vue\";\r\nimport { registerUser } from \"@/api/api.js\";\r\n\r\nexport default defineComponent({\r\n  name: \"UserLogin\",\r\n  components: {\r\n    [Button.name]: Button,\r\n    [Field.name]: Field,\r\n    [ActionSheet.name]: ActionSheet,\r\n    [Icon.name]: Icon,\r\n  },\r\n  data() {\r\n    return {\r\n      email: \"\",\r\n      password: \"\",\r\n      confirmPassword: \"\",\r\n      currency: \"USD\",\r\n      showCurrencySheet: false,\r\n      currencyOptions: [\r\n        {\r\n          name: \"دولار أمريكي\",\r\n          value: \"USD\",\r\n        },\r\n        { name: \"يوان صيني\", value: \"CNY\" },\r\n        {\r\n          name: \"درهم إماراتي\",\r\n          value: \"AED\",\r\n        },\r\n        { name: \"دينار بحريني\", value: \"BHD\" },\r\n        { name: \"جنيه مصري\", value: \"EGP\" },\r\n        { name: \"دينار أردني\", value: \"JOD\" },\r\n        { name: \"دينار كويتي\", value: \"KWD\" },\r\n        { name: \"ليرة لبنانية\", value: \"LBP\" },\r\n        { name: \"ريال قطري\", value: \"QAR\" },\r\n        { name: \"ريال سعودي\", value: \"SAR\" },\r\n      ],\r\n    };\r\n  },\r\n  methods: {\r\n    async register() {\r\n      if (this.password !== this.confirmPassword) {\r\n        Toast.fail(\"كلمتا المرور غير متطابقتين\");\r\n        return;\r\n      }\r\n      try {\r\n        const data = await registerUser({\r\n          email: this.email,\r\n          password: this.password,\r\n          currency: this.currency,\r\n        });\r\n        if (data.code === \"failed\") {\r\n          Toast.fail(data.message);\r\n        } else {\r\n          this.$router.push(\"/login\");\r\n          Toast.success(\"تم التسجيل بنجاح\");\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error:\", error);\r\n        Toast.fail(\"حدث خطأ أثناء التسجيل\");\r\n      }\r\n    },\r\n    onSelectCurrency(option) {\r\n      this.currency = option.value;\r\n      this.showCurrencySheet = false;\r\n    },\r\n    goToLogin() {\r\n      this.$router.push(\"/login\");\r\n    },\r\n    onCancel() {\r\n      this.showCurrencySheet = false;\r\n    },\r\n    goBack() {\r\n      this.$router.replace(\"/\");\r\n    },\r\n  },\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.login-page {\r\n  max-width: 400px;\r\n  margin: 0 auto;\r\n  padding: 20px;\r\n  background-color: #f9f9f9;\r\n  border-radius: 8px;\r\n  font-family: \"Arial\", sans-serif;\r\n}\r\n\r\n.rtl-form {\r\n  text-align: right;\r\n}\r\n\r\n.login-page h1 {\r\n  text-align: center;\r\n  margin-bottom: 30px;\r\n  font-size: 24px;\r\n  color: #333;\r\n}\r\n\r\n:deep(.van-field__label) {\r\n  color: #333;\r\n  font-weight: 600;\r\n}\r\n\r\n:deep(.van-button--primary) {\r\n  margin-top: 20px;\r\n  height: 44px;\r\n  font-size: 16px;\r\n  background-color: #2c3e50;\r\n  border-color: #2c3e50;\r\n}\r\n\r\n:deep(.van-button--primary:active) {\r\n  background-color: #1a2633;\r\n  border-color: #1a2633;\r\n}\r\n\r\n.register-link {\r\n  text-align: center;\r\n  margin-top: 20px;\r\n}\r\n\r\n.register-link a {\r\n  color: #2c3e50;\r\n  text-decoration: none;\r\n  font-weight: 600;\r\n}\r\n\r\n.register-link a:hover {\r\n  color: #1a2633;\r\n}\r\n\r\n:deep(.van-action-sheet__description) {\r\n  text-align: right;\r\n}\r\n\r\n:deep(.van-action-sheet__item) {\r\n  text-align: right;\r\n}\r\n\r\n.back-icon {\r\n  position: absolute;\r\n  top: 20px;\r\n  right: 10px;\r\n  cursor: pointer;\r\n  z-index: 100;\r\n  transform: rotate(180deg);\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Register.vue?vue&type=template&id=03954746&scoped=true\"\nimport script from \"./Register.vue?vue&type=script&lang=js\"\nexport * from \"./Register.vue?vue&type=script&lang=js\"\nimport style0 from \"./Register.vue?vue&type=style&index=0&id=03954746&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"03954746\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"player-container\",attrs:{\"dir\":\"rtl\"}},[_c('van-icon',{staticClass:\"back-icon\",attrs:{\"name\":\"arrow-left\",\"size\":\"24px\"},on:{\"click\":_vm.goBack}}),_c('div',{staticClass:\"video-container\"},[_c('video',{ref:\"tcplayerContainer\",staticClass:\"tcplayer\",attrs:{\"id\":\"tcplayerContainer\",\"playsinline\":\"\",\"webkit-playsinline\":\"\"}})]),_c('div',{staticClass:\"info-bar\",staticStyle:{\"background-color\":\"#333\",\"color\":\"#fff\",\"padding\":\"15px\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"space-between\"}},[_c('div',[_c('div',[_vm._v(\" \"+_vm._s(_vm.title)+\" \")]),_c('div',{staticClass:\"episode\",staticStyle:{\"font-size\":\"0.9em\",\"color\":\"#888\",\"text-align\":\"right\"}},[_vm._v(\" جميع الحلقات ( \"+_vm._s(_vm.episodes.length)+\" حلقة) / الحلقة رقم \"+_vm._s(_vm.episode)+\" \")])])]),_c('div',{staticClass:\"content-container\"},[_c('div',{staticStyle:{\"margin-bottom\":\"25px\"}},[_c('div',{staticStyle:{\"height\":\"100px\"}},[_c('div',{staticClass:\"episode-grid\"},[_vm._l((_vm.episodes.slice(0, 9)),function(ep,index){return _c('div',{key:index,staticClass:\"grid-item\",class:{\n              selected: _vm.currentEpisode?.id === ep.id,\n              locked: !ep.broadPermit,\n            },on:{\"click\":function($event){return _vm.selectEpisode(ep)}}},[_vm._v(\" \"+_vm._s(ep.index)+\" \"),(!ep.broadPermit)?_c('van-icon',{staticClass:\"lock-icon\",staticStyle:{\"position\":\"absolute\",\"top\":\"10px\",\"right\":\"2px\",\"font-size\":\"12px\"},attrs:{\"name\":\"lock\"}}):_vm._e()],1)}),(_vm.episodes.length > 10)?_c('div',{staticClass:\"grid-item more-button\",on:{\"click\":function($event){_vm.showEpisodeSelection = true}}},[_vm._v(\" المزيد \")]):(_vm.episodes.length === 10)?_c('div',{staticClass:\"grid-item\",class:{ selected: _vm.episode === _vm.episodes[9].index },on:{\"click\":function($event){return _vm.selectEpisode(_vm.episodes[9])}}},[_vm._v(\" \"+_vm._s(_vm.episodes[9].index)+\" \")]):_vm._e()],2)])]),_c('div',{staticClass:\"description\",on:{\"click\":function($event){$event.stopPropagation();}}},[(!_vm.isExpanded)?_c('p',{staticClass:\"short-description\",style:({\n          overflow: 'hidden',\n          display: '-webkit-box',\n          WebkitLineClamp: 2,\n          WebkitBoxOrient: 'vertical',\n        })},[_vm._v(\" \"+_vm._s(_vm.desc)+\"... \")]):_c('p',{staticClass:\"full-description\"},[_vm._v(_vm._s(_vm.desc))]),_c('button',{staticClass:\"toggle-button\",on:{\"click\":function($event){$event.stopPropagation();return _vm.toggleDescription.apply(null, arguments)}}},[_vm._v(\" \"+_vm._s(_vm.isExpanded ? \" إغلاق\" : \" عرض المزيد\")+\" \"),_c('span',{staticClass:\"arrow\"},[_vm._v(_vm._s(_vm.isExpanded ? \"↑\" : \"↓\"))])])]),_c('div',{staticClass:\"recommended\"},[_c('h3',[_vm._v(\"أفلام موصى بها\")]),_c('div',{staticClass:\"movie-grid\"},_vm._l((_vm.recommendedMovies),function(rec){return _c('div',{key:rec.id,staticClass:\"movie-card\",on:{\"click\":function($event){return _vm.goToPlayerH(rec.id)}}},[_c('img',{attrs:{\"src\":rec.cover,\"alt\":\"影片封面\"}}),_c('span',[_vm._v(_vm._s(rec.title))]),_vm._v(\" \"+_vm._s(rec.price)+_vm._s(_vm.currency)+\" \")])}),0),_c('div',{staticStyle:{\"height\":\"100px\"}})])]),_c('van-popup',{style:({ height: '70%', maxHeight: '70%' }),attrs:{\"position\":\"bottom\"},model:{value:(_vm.showEpisodeSelection),callback:function ($$v) {_vm.showEpisodeSelection=$$v},expression:\"showEpisodeSelection\"}},[_c('div',{staticClass:\"popup-header\"},[_c('div',{staticClass:\"popup-info\"},[_c('h3',[_vm._v(_vm._s(_vm.title))]),_c('p',[_vm._v(\"عدد الحلقات: \"+_vm._s(_vm.episodes.length))])]),_c('img',{staticClass:\"thumbnail\",attrs:{\"src\":_vm.selectedThumbnail,\"alt\":\"صورة مصغرة\"}})]),_c('van-grid',{staticStyle:{\"padding\":\"0 10px\"},attrs:{\"column-num\":4,\"gutter\":10}},_vm._l((_vm.episodes),function(ep){return _c('van-grid-item',{key:ep.index,class:{\n          'selected-episode': ep.index === _vm.episode,\n          'locked-episode': !ep.broadPermit,\n        },staticStyle:{\"margin\":\"5px\",\"flex\":\"0 0 calc(25% - 10px)\",\"position\":\"relative\",\"max-width\":\"calc(25% - 10px)\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.selectEpisode(ep)}}},[_c('span',{class:{ 'selected-episode': ep.index === _vm.episode }},[_vm._v(_vm._s(ep.index))]),(ep === _vm.episode)?_c('span',{staticClass:\"playing-indicator\"},[_c('span'),_c('span'),_c('span')]):_vm._e(),(!ep.broadPermit)?_c('div',{staticClass:\"overlay\",staticStyle:{\"position\":\"absolute\",\"top\":\"0\",\"right\":\"0\",\"width\":\"100%\",\"height\":\"100%\",\"background-color\":\"rgba(211, 211, 211, 0.5)\"}},[(!ep.broadPermit)?_c('van-icon',{staticStyle:{\"position\":\"absolute\",\"top\":\"10px\",\"right\":\"10px\"},attrs:{\"name\":\"lock\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.selectEpisode(ep)}}}):_vm._e()],1):_vm._e()])}),1),_c('div',{staticClass:\"popup-footer\"})],1),_c('van-popup',{style:({ height: '70%', maxHeight: '70%' }),attrs:{\"position\":\"bottom\"},on:{\"open\":_vm.setDefaultSelection},model:{value:(_vm.showPaymentPopup),callback:function ($$v) {_vm.showPaymentPopup=$$v},expression:\"showPaymentPopup\"}},[_c('div',{staticClass:\"payment-popup-content\"},[_c('h3',{staticClass:\"payment-title\"},[_vm._v(\"معلومات الدفع\")]),_c('p',{staticClass:\"payment-description\"},[_vm._v(\"من فضلك قم بالدفع لمشاهدة هذه الحلقة\")]),_c('div',{staticClass:\"vip-container\"},[_c('div',{staticClass:\"vip-card single-episode-card\",class:{\n            'card-selected': _vm.selectedOption?.type === 'single',\n          },on:{\"click\":function($event){return _vm.selectOption({\n              ..._vm.priceInfo?.data,\n              price: _vm.priceInfo?.data?.price,\n              type: 'single',\n            })}}},[_c('span',[_vm._v(\" شراء حلقة واحدة\")]),_c('span',{staticClass:\"price-container\"},[_c('span',{staticClass:\"price\"},[_vm._v(_vm._s(_vm.priceInfo?.data?.price?.toFixed(2) || \"-\"))]),_c('span',{staticClass:\"unit\"},[_vm._v(_vm._s(_vm.currency))])])]),(_vm.remainingEpisodes.length > 5)?_c('div',{staticClass:\"vip-card single-episode-card\",class:{\n            'card-selected': _vm.selectedOption?.type === 'five',\n          },on:{\"click\":function($event){return _vm.selectOption({\n              ..._vm.priceInfo?.data5,\n              price: _vm.priceInfo?.data?.price * 5,\n              type: 'five',\n            })}}},[_c('span',[_vm._v(\" شراء 5 حلقات\")]),_c('span',{staticClass:\"price-container\"},[_c('span',{staticClass:\"price\"},[_vm._v(_vm._s((_vm.priceInfo?.data?.price * 5)?.toFixed(2) || \"-\"))]),_c('span',{staticClass:\"unit\"},[_vm._v(_vm._s(_vm.currency))])])]):_vm._e(),(\n            _vm.remainingEpisodes.length > 1 && _vm.remainingEpisodes.length <= 10\n          )?_c('div',{staticClass:\"vip-card single-episode-card\",class:{\n            'card-selected': _vm.selectedOption?.type === 'remaining',\n          },on:{\"click\":function($event){return _vm.selectOption({\n              price: _vm.priceInfo?.data?.price * _vm.remainingEpisodes.length,\n              count: _vm.remainingEpisodes.length,\n              type: 'remaining',\n            })}}},[_c('span',[_vm._v(\"شراء \"+_vm._s(_vm.remainingEpisodes.length)+\" حلقات\")]),_c('span',{staticClass:\"price-container\"},[_c('span',{staticClass:\"price\"},[_vm._v(_vm._s((_vm.priceInfo?.data?.price * _vm.remainingEpisodes.length)?.toFixed( 2 ) || \"-\"))]),_c('span',{staticClass:\"unit\"},[_vm._v(_vm._s(_vm.currency))])])]):_vm._e(),(_vm.remainingEpisodes.length > 10)?_c('div',{staticClass:\"vip-card single-episode-card\",class:{\n            'card-selected': _vm.selectedOption?.type === 'ten',\n          },on:{\"click\":function($event){return _vm.selectOption({\n              ..._vm.priceInfo?.data10,\n              price: _vm.priceInfo?.data?.price * 10,\n              type: 'ten',\n            })}}},[_c('span',[_vm._v(\" شراء 10 حلقات\")]),_c('span',{staticClass:\"price-container\"},[_c('span',{staticClass:\"price\"},[_vm._v(_vm._s((_vm.priceInfo?.data?.price * 10)?.toFixed(2) || \"-\"))]),_c('span',{staticClass:\"unit\"},[_vm._v(_vm._s(_vm.currency))])])]):_vm._e()]),_c('h4',{staticClass:\"vip-title\"},[_vm._v(\"شراء عضوية VIP\")]),_c('div',{staticClass:\"vip-container\"},_vm._l((_vm.priceInfo?.vips),function(vip){return _c('div',{key:vip.id,staticClass:\"vip-card\",class:{ 'card-selected': _vm.selectedOption?.id === vip.id },on:{\"click\":function($event){return _vm.selectOption(vip)}}},[_c('span',{staticClass:\"vip-card-title\"},[_vm._v(_vm._s(vip.info))]),_c('span',{staticClass:\"price-container\"},[_c('span',{staticClass:\"price\"},[_vm._v(_vm._s(vip.price))]),_c('span',{staticClass:\"unit\"},[_vm._v(_vm._s(_vm.currency))])]),_c('div',{staticClass:\"unit\",staticStyle:{\"text-decoration\":\"line-through\",\"color\":\"rgba(0, 0, 0, 0.5)\"}},[_vm._v(\" \"+_vm._s(vip.oldPrice)+\" \")])])}),0),_c('h4',{staticClass:\"payment-methods-title\"},[_vm._v(\"اختر طريقة الدفع\")]),_c('div',{staticClass:\"payment-methods\"},[_c('div',{staticClass:\"payment-methods-container\"},_vm._l((_vm.paymentMethods),function(method){return _c('div',{key:method.id,staticClass:\"payment-method-card\",class:{ selected: _vm.selectedPaymentMethod.id === method.id },on:{\"click\":function($event){return _vm.selectPaymentMethod(method)}}},[_c('img',{staticClass:\"payment-method-icon\",attrs:{\"src\":method.img,\"alt\":\"支付方式图标\"}})])}),0)]),_c('div',{staticClass:\"payment-summary\"},[_c('p',[_vm._v(\" المبلغ المستحق للدفع: \"),_c('span',{staticClass:\"total-amount\"},[_vm._v(_vm._s(_vm.totalAmount?.toFixed(2)))]),_vm._v(\" \"+_vm._s(_vm.currency)+\" \")]),_c('button',{staticClass:\"payment-button custom-payment-button\",on:{\"click\":_vm.handlePayment}},[_vm._v(\" الدفع الآن \")])])])]),(_vm.loading)?_c('van-loading',{staticStyle:{\"position\":\"fixed\",\"top\":\"50%\",\"left\":\"50%\",\"transform\":\"translate(-50%, -50%)\"},attrs:{\"type\":\"spinner\",\"size\":\"24\"}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"player-container\" dir=\"rtl\">\r\n    <van-icon name=\"arrow-left\" class=\"back-icon\" size=\"24px\" @click=\"goBack\" />\r\n    <div class=\"video-container\">\r\n      <video\r\n        ref=\"tcplayerContainer\"\r\n        id=\"tcplayerContainer\"\r\n        class=\"tcplayer\"\r\n        playsinline\r\n        webkit-playsinline\r\n      ></video>\r\n\r\n      <!-- 添加全屏按钮 -->\r\n      <!-- <div class=\"fullscreen-button\" @click=\"toggleFullScreen\">\r\n        <van-icon\r\n          :name=\"isFullScreen ? 'shrink' : 'expand'\"\r\n          size=\"24\"\r\n          color=\"#fff\"\r\n        />\r\n      </div> -->\r\n    </div>\r\n\r\n    <div\r\n      class=\"info-bar\"\r\n      style=\"\r\n        background-color: #333;\r\n        color: #fff;\r\n        padding: 15px;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: space-between;\r\n      \"\r\n    >\r\n      <div>\r\n        <div>\r\n          {{ title }}\r\n        </div>\r\n        <div\r\n          class=\"episode\"\r\n          style=\"font-size: 0.9em; color: #888; text-align: right\"\r\n        >\r\n          جميع الحلقات ( {{ episodes.length }} حلقة) / الحلقة رقم {{ episode }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"content-container\">\r\n      <div style=\"margin-bottom: 25px\">\r\n        <div style=\"height: 100px\">\r\n          <div class=\"episode-grid\">\r\n            <div\r\n              v-for=\"(ep, index) in episodes.slice(0, 9)\"\r\n              :key=\"index\"\r\n              class=\"grid-item\"\r\n              :class=\"{\r\n                selected: currentEpisode?.id === ep.id,\r\n                locked: !ep.broadPermit,\r\n              }\"\r\n              @click=\"selectEpisode(ep)\"\r\n            >\r\n              {{ ep.index }}\r\n              <van-icon\r\n                v-if=\"!ep.broadPermit\"\r\n                name=\"lock\"\r\n                class=\"lock-icon\"\r\n                style=\"\r\n                  position: absolute;\r\n                  top: 10px;\r\n                  right: 2px;\r\n                  font-size: 12px;\r\n                \"\r\n              />\r\n            </div>\r\n            <div\r\n              v-if=\"episodes.length > 10\"\r\n              class=\"grid-item more-button\"\r\n              @click=\"showEpisodeSelection = true\"\r\n            >\r\n              المزيد\r\n            </div>\r\n            <div\r\n              v-else-if=\"episodes.length === 10\"\r\n              class=\"grid-item\"\r\n              :class=\"{ selected: episode === episodes[9].index }\"\r\n              @click=\"selectEpisode(episodes[9])\"\r\n            >\r\n              {{ episodes[9].index }}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"description\" @click.stop>\r\n        <p\r\n          v-if=\"!isExpanded\"\r\n          class=\"short-description\"\r\n          :style=\"{\r\n            overflow: 'hidden',\r\n            display: '-webkit-box',\r\n            WebkitLineClamp: 2,\r\n            WebkitBoxOrient: 'vertical',\r\n          }\"\r\n        >\r\n          {{ desc }}...\r\n        </p>\r\n        <p v-else class=\"full-description\">{{ desc }}</p>\r\n        <button class=\"toggle-button\" @click.stop=\"toggleDescription\">\r\n          {{ isExpanded ? \" إغلاق\" : \" عرض المزيد\" }}\r\n          <span class=\"arrow\">{{ isExpanded ? \"↑\" : \"↓\" }}</span>\r\n        </button>\r\n      </div>\r\n      <div class=\"recommended\">\r\n        <h3>أفلام موصى بها</h3>\r\n        <div class=\"movie-grid\">\r\n          <div\r\n            class=\"movie-card\"\r\n            v-for=\"rec in recommendedMovies\"\r\n            :key=\"rec.id\"\r\n            @click=\"goToPlayerH(rec.id)\"\r\n          >\r\n            <img :src=\"rec.cover\" alt=\"影片封面\" />\r\n            <span>{{ rec.title }}</span>\r\n            {{ rec.price }}{{ currency }}\r\n          </div>\r\n        </div>\r\n        <div style=\"height: 100px\"></div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Popup for episode selection -->\r\n    <van-popup\r\n      v-model=\"showEpisodeSelection\"\r\n      position=\"bottom\"\r\n      :style=\"{ height: '70%', maxHeight: '70%' }\"\r\n    >\r\n      <div class=\"popup-header\">\r\n        <div class=\"popup-info\">\r\n          <h3>{{ title }}</h3>\r\n          <p>عدد الحلقات: {{ episodes.length }}</p>\r\n        </div>\r\n        <img :src=\"selectedThumbnail\" alt=\"صورة مصغرة\" class=\"thumbnail\" />\r\n      </div>\r\n      <van-grid :column-num=\"4\" :gutter=\"10\" style=\"padding: 0 10px\">\r\n        <van-grid-item\r\n          v-for=\"ep in episodes\"\r\n          :key=\"ep.index\"\r\n          :class=\"{\r\n            'selected-episode': ep.index === episode,\r\n            'locked-episode': !ep.broadPermit,\r\n          }\"\r\n          @click.stop=\"selectEpisode(ep)\"\r\n          style=\"\r\n            margin: 5px;\r\n            flex: 0 0 calc(25% - 10px);\r\n            position: relative;\r\n            max-width: calc(25% - 10px);\r\n            position: relative;\r\n          \"\r\n        >\r\n          <span :class=\"{ 'selected-episode': ep.index === episode }\">{{\r\n            ep.index\r\n          }}</span>\r\n          <span v-if=\"ep === episode\" class=\"playing-indicator\">\r\n            <span></span><span></span><span></span>\r\n          </span>\r\n\r\n          <div\r\n            v-if=\"!ep.broadPermit\"\r\n            class=\"overlay\"\r\n            style=\"\r\n              position: absolute;\r\n              top: 0;\r\n              right: 0;\r\n              width: 100%;\r\n              height: 100%;\r\n              background-color: rgba(211, 211, 211, 0.5);\r\n            \"\r\n          >\r\n            <van-icon\r\n              v-if=\"!ep.broadPermit\"\r\n              name=\"lock\"\r\n              style=\"position: absolute; top: 10px; right: 10px\"\r\n              @click.stop=\"selectEpisode(ep)\"\r\n            />\r\n          </div>\r\n        </van-grid-item>\r\n      </van-grid>\r\n      <div class=\"popup-footer\"></div>\r\n    </van-popup>\r\n\r\n    <van-popup\r\n      v-model=\"showPaymentPopup\"\r\n      position=\"bottom\"\r\n      :style=\"{ height: '70%', maxHeight: '70%' }\"\r\n      @open=\"setDefaultSelection\"\r\n    >\r\n      <div class=\"payment-popup-content\">\r\n        <!-- 支付信息 -->\r\n        <h3 class=\"payment-title\">معلومات الدفع</h3>\r\n        <p class=\"payment-description\">من فضلك قم بالدفع لمشاهدة هذه الحلقة</p>\r\n        <div class=\"vip-container\">\r\n          <!-- 单集购买（始终显示） -->\r\n          <div\r\n            class=\"vip-card single-episode-card\"\r\n            :class=\"{\r\n              'card-selected': selectedOption?.type === 'single',\r\n            }\"\r\n            @click=\"\r\n              selectOption({\r\n                ...priceInfo?.data,\r\n                price: priceInfo?.data?.price,\r\n                type: 'single',\r\n              })\r\n            \"\r\n          >\r\n            <span> شراء حلقة واحدة</span>\r\n            <span class=\"price-container\">\r\n              <span class=\"price\">{{\r\n                priceInfo?.data?.price?.toFixed(2) || \"-\"\r\n              }}</span>\r\n              <span class=\"unit\">{{ currency }}</span>\r\n            </span>\r\n          </div>\r\n\r\n          <!-- 5集套餐（仅当剩余集数>5时显示） -->\r\n          <div\r\n            v-if=\"remainingEpisodes.length > 5\"\r\n            class=\"vip-card single-episode-card\"\r\n            :class=\"{\r\n              'card-selected': selectedOption?.type === 'five',\r\n            }\"\r\n            @click=\"\r\n              selectOption({\r\n                ...priceInfo?.data5,\r\n                price: priceInfo?.data?.price * 5,\r\n                type: 'five',\r\n              })\r\n            \"\r\n          >\r\n            <span> شراء 5 حلقات</span>\r\n            <span class=\"price-container\">\r\n              <span class=\"price\">{{\r\n                (priceInfo?.data?.price * 5)?.toFixed(2) || \"-\"\r\n              }}</span>\r\n              <span class=\"unit\">{{ currency }}</span>\r\n            </span>\r\n          </div>\r\n\r\n          <!-- 动态剩余套餐 -->\r\n          <div\r\n            v-if=\"\r\n              remainingEpisodes.length > 1 && remainingEpisodes.length <= 10\r\n            \"\r\n            class=\"vip-card single-episode-card\"\r\n            :class=\"{\r\n              'card-selected': selectedOption?.type === 'remaining',\r\n            }\"\r\n            @click=\"\r\n              selectOption({\r\n                price: priceInfo?.data?.price * remainingEpisodes.length,\r\n                count: remainingEpisodes.length,\r\n                type: 'remaining',\r\n              })\r\n            \"\r\n          >\r\n            <span>شراء {{ remainingEpisodes.length }} حلقات</span>\r\n            <span class=\"price-container\">\r\n              <span class=\"price\">{{\r\n                (priceInfo?.data?.price * remainingEpisodes.length)?.toFixed(\r\n                  2\r\n                ) || \"-\"\r\n              }}</span>\r\n              <span class=\"unit\">{{ currency }}</span>\r\n            </span>\r\n          </div>\r\n\r\n          <!-- 原10集套餐（仅当剩余集数>10时显示） -->\r\n          <div\r\n            v-if=\"remainingEpisodes.length > 10\"\r\n            class=\"vip-card single-episode-card\"\r\n            :class=\"{\r\n              'card-selected': selectedOption?.type === 'ten',\r\n            }\"\r\n            @click=\"\r\n              selectOption({\r\n                ...priceInfo?.data10,\r\n                price: priceInfo?.data?.price * 10,\r\n                type: 'ten',\r\n              })\r\n            \"\r\n          >\r\n            <span> شراء 10 حلقات</span>\r\n            <span class=\"price-container\">\r\n              <span class=\"price\">{{\r\n                (priceInfo?.data?.price * 10)?.toFixed(2) || \"-\"\r\n              }}</span>\r\n              <span class=\"unit\">{{ currency }}</span>\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <h4 class=\"vip-title\">شراء عضوية VIP</h4>\r\n        <div class=\"vip-container\">\r\n          <div\r\n            class=\"vip-card\"\r\n            :class=\"{ 'card-selected': selectedOption?.id === vip.id }\"\r\n            @click=\"selectOption(vip)\"\r\n            v-for=\"vip in priceInfo?.vips\"\r\n            :key=\"vip.id\"\r\n          >\r\n            <span class=\"vip-card-title\">{{ vip.info }}</span>\r\n            <span class=\"price-container\">\r\n              <span class=\"price\">{{ vip.price }}</span\r\n              ><span class=\"unit\">{{ currency }}</span>\r\n            </span>\r\n            <div\r\n              class=\"unit\"\r\n              style=\"text-decoration: line-through; color: rgba(0, 0, 0, 0.5)\"\r\n            >\r\n              {{ vip.oldPrice }}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <h4 class=\"payment-methods-title\">اختر طريقة الدفع</h4>\r\n        <div class=\"payment-methods\">\r\n          <div class=\"payment-methods-container\">\r\n            <div\r\n              class=\"payment-method-card\"\r\n              :class=\"{ selected: selectedPaymentMethod.id === method.id }\"\r\n              @click=\"selectPaymentMethod(method)\"\r\n              v-for=\"method in paymentMethods\"\r\n              :key=\"method.id\"\r\n            >\r\n              <img\r\n                :src=\"method.img\"\r\n                alt=\"支付方式图标\"\r\n                class=\"payment-method-icon\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"payment-summary\">\r\n          <!-- 待付金额 -->\r\n          <p>\r\n            المبلغ المستحق للدفع:\r\n            <span class=\"total-amount\">{{ totalAmount?.toFixed(2) }}</span>\r\n            {{ currency }}\r\n          </p>\r\n          <button\r\n            class=\"payment-button custom-payment-button\"\r\n            @click=\"handlePayment\"\r\n          >\r\n            <!-- 立即支付 -->\r\n            الدفع الآن\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </van-popup>\r\n\r\n    <van-loading\r\n      v-if=\"loading\"\r\n      type=\"spinner\"\r\n      size=\"24\"\r\n      style=\"\r\n        position: fixed;\r\n        top: 50%;\r\n        left: 50%;\r\n        transform: translate(-50%, -50%);\r\n      \"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Grid, GridItem, Popup, Icon, Toast } from \"vant\";\r\nimport { getUserInfo, getToken } from \"@/utils\";\r\nimport TcPlayer from \"tcplayer.js\";\r\nimport \"tcplayer.js/dist/tcplayer.min.css\";\r\nimport \"video.js/dist/video-js.css\";\r\nimport {\r\n  getMovieDetail,\r\n  getPlayDetail,\r\n  loadMoreMovies,\r\n  getPrice,\r\n  signalOrder,\r\n  vipOrder,\r\n  pay,\r\n  refreshToken,\r\n  makePayment,\r\n} from \"../api/api\";\r\n\r\nexport default {\r\n  name: \"VideoPlayer\",\r\n  components: {\r\n    \"van-grid\": Grid,\r\n    \"van-grid-item\": GridItem,\r\n    \"van-popup\": Popup,\r\n    \"van-icon\": Icon,\r\n  },\r\n  computed: {\r\n    currency() {\r\n      return getUserInfo()?.currency || \"USD\";\r\n    },\r\n    token() {\r\n      return getToken();\r\n    },\r\n    remainingCount() {\r\n      return this.remainingEpisodes.length;\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      title: \"\",\r\n      episode: \"1\",\r\n      touchStartX: 0,\r\n      touchStartTime: 0,\r\n      showPlayButton: true,\r\n      clickTimeout: null,\r\n      showEpisodeSelection: false,\r\n      episodes: [],\r\n      desc: \"\",\r\n      selectedThumbnail: \"\",\r\n      currentEpisode: null,\r\n      isExpanded: false,\r\n      fullDescription: \"\",\r\n      recommendedMovies: [],\r\n      showPaymentPopup: false,\r\n      broadPermit: false,\r\n      loading: false,\r\n      totalAmount: 0,\r\n      selectedOption: null,\r\n      priceInfo: {},\r\n      isFullScreen: false,\r\n      screenOrientation: window.screen.orientation,\r\n      paymentMethods: [],\r\n      selectedPaymentMethod: {},\r\n      tcplayerInstance: null,\r\n      remainingEpisodes: [],\r\n    };\r\n  },\r\n  created() {\r\n    this.fetchMovieDetails();\r\n    this.loadMoreMovies();\r\n  },\r\n  mounted() {\r\n    // 监听全屏变化\r\n    document.addEventListener(\"fullscreenchange\", this.handleFullscreenChange);\r\n    document.addEventListener(\r\n      \"webkitfullscreenchange\",\r\n      this.handleFullscreenChange\r\n    );\r\n    document.addEventListener(\r\n      \"mozfullscreenchange\",\r\n      this.handleFullscreenChange\r\n    );\r\n    document.addEventListener(\r\n      \"MSFullscreenChange\",\r\n      this.handleFullscreenChange\r\n    );\r\n\r\n    // 添加屏幕方向变化监听\r\n    if (window.screen.orientation) {\r\n      window.screen.orientation.addEventListener(\r\n        \"change\",\r\n        this.handleOrientationChange\r\n      );\r\n    }\r\n    setInterval(async () => {\r\n      console.log(\"刷新token\");\r\n      try {\r\n        const res = await refreshToken(); // 刷新token\r\n        if (res.code === \"failed\") {\r\n          localStorage.removeItem(\"token\");\r\n          localStorage.removeItem(\"userInfo\");\r\n          this.$router.push({\r\n            path: \"/login\",\r\n            query: { redirect: this.$route.fullPath },\r\n          });\r\n        }\r\n      } catch (error) {\r\n        console.error(\"刷新token失败:\", error);\r\n      }\r\n    }, 6000 * 10 * 10);\r\n  },\r\n  beforeDestroy() {\r\n    if (this.tcplayerInstance) {\r\n      this.tcplayerInstance.dispose();\r\n    }\r\n    // 移除全屏事件监听\r\n    document.removeEventListener(\r\n      \"fullscreenchange\",\r\n      this.handleFullscreenChange\r\n    );\r\n    document.removeEventListener(\r\n      \"webkitfullscreenchange\",\r\n      this.handleFullscreenChange\r\n    );\r\n    document.removeEventListener(\r\n      \"mozfullscreenchange\",\r\n      this.handleFullscreenChange\r\n    );\r\n    document.removeEventListener(\r\n      \"MSFullscreenChange\",\r\n      this.handleFullscreenChange\r\n    );\r\n\r\n    // 移除屏幕方向变化监听\r\n    if (window.screen.orientation) {\r\n      window.screen.orientation.removeEventListener(\r\n        \"change\",\r\n        this.handleOrientationChange\r\n      );\r\n    }\r\n  },\r\n  methods: {\r\n    toggleDescription(event) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n      this.isExpanded = !this.isExpanded;\r\n      // 确保选集弹窗不会被触发\r\n    },\r\n    handleClick() {\r\n      if (this.clickTimeout) {\r\n        clearTimeout(this.clickTimeout);\r\n        this.clickTimeout = null;\r\n      } else {\r\n        this.clickTimeout = setTimeout(() => {\r\n          this.clickTimeout = null;\r\n        }, 300);\r\n      }\r\n    },\r\n    selectPaymentMethod(method) {\r\n      this.selectedPaymentMethod = method;\r\n    },\r\n    handleTouchStart(event) {\r\n      this.touchStartX = event.touches[0].clientX;\r\n      this.touchStartTime = event.timeStamp;\r\n    },\r\n    handleTouchMove(event) {\r\n      const touchEndX = event.touches[0].clientX;\r\n      const deltaX = touchEndX - this.touchStartX;\r\n      const video = this.$refs.videoPlayer;\r\n      const duration = video.duration;\r\n      const newTime =\r\n        video.currentTime + (deltaX / window.innerWidth) * duration;\r\n      video.currentTime = Math.min(Math.max(newTime, 0), duration);\r\n    },\r\n    handleTouchEnd(event) {\r\n      const touchDuration = event.timeStamp - this.touchStartTime;\r\n      if (touchDuration < 500) {\r\n        return;\r\n      }\r\n    },\r\n    async selectEpisode(ep) {\r\n      this.episode = ep.index;\r\n      this.broadPermit = ep.broadPermit;\r\n      console.log(\"选择的集数:\", ep.index);\r\n\r\n      // 显示加载提示\r\n      Toast.loading({\r\n        message: \"执行中...\",\r\n        forbidClick: true,\r\n      });\r\n      // 先获取播放详情\r\n      const playResponse = await getPlayDetail(ep.id, ep.currency);\r\n      this.currentEpisode = playResponse.data;\r\n      this.broadPermit = playResponse.data.broadPermit;\r\n\r\n      const priceResponse = await getPrice(this.currentEpisode.id);\r\n      console.log(\"当前集信息:\", playResponse);\r\n      if (!priceResponse.data?.broadPermit) {\r\n        if (document.fullscreenElement) {\r\n          document.exitFullscreen();\r\n        }\r\n        // 新增回切第一集逻辑\r\n        this.priceInfo = {\r\n          data: priceResponse.data,\r\n          vips: priceResponse.vips,\r\n        };\r\n        console.log(\"priceResponse.data============\", priceResponse.data);\r\n        this.selectedOption = priceResponse.data;\r\n        this.totalAmount = priceResponse.data?.price;\r\n        this.$set(this.priceInfo);\r\n      }\r\n      this.remainingEpisodes = this.episodes.filter(\r\n        (ep) => ep.broadPermit == false\r\n      );\r\n      console.log(\"this.episodes\", this.episodes);\r\n      // 关闭选择弹窗\r\n      setTimeout(() => {\r\n        if (!this.broadPermit) {\r\n          this.showPaymentPopup = true;\r\n        }\r\n        // 清除加载提示\r\n        Toast.clear();\r\n      }, 200);\r\n      console.log(\"currentEpisode:\", this.currentEpisode);\r\n      // 更新播放源\r\n      if (this.tcplayerInstance && this.currentEpisode?.viedoUrl_H) {\r\n        this.tcplayerInstance.src({\r\n          src: this.currentEpisode.viedoUrl_H,\r\n          type: this.getVideoType(this.currentEpisode.viedoUrl_H),\r\n        });\r\n      }\r\n    },\r\n    fetchMovieDetails() {\r\n      const movieId = this.$route.query.id;\r\n      if (movieId) {\r\n        this.getMovieDetail(movieId);\r\n      } else {\r\n        console.error(\"未找到电影ID\");\r\n      }\r\n    },\r\n    async getMovieDetail(movieId) {\r\n      try {\r\n        const response = await getMovieDetail(movieId);\r\n        console.log(\"response====?\", response);\r\n        this.title = response.data.title;\r\n        this.episodes = response.data.chapters;\r\n        this.desc = response.data.desc;\r\n        this.fullDescription = response.data.fullDesc;\r\n        this.selectedThumbnail = response.data.cover;\r\n\r\n        // 先获取播放详情再初始化播放器\r\n        if (this.episodes.length > 0) {\r\n          const firstEpisode = this.episodes[0];\r\n          const playResponse = await getPlayDetail(firstEpisode.id);\r\n          this.currentEpisode = playResponse.data;\r\n\r\n          // 确保有视频地址后再初始化播放器\r\n          if (this.currentEpisode?.viedoUrl_H) {\r\n            if (!this.tcplayerInstance) {\r\n              this.initTcplayer();\r\n            } else {\r\n              this.tcplayerInstance.src({\r\n                src: this.currentEpisode.viedoUrl_H,\r\n                type: this.getVideoType(this.currentEpisode.viedoUrl_H),\r\n              });\r\n            }\r\n          }\r\n        }\r\n\r\n        const makePaymentResponse = await makePayment();\r\n        console.log(\"makePaymentResponse\", makePaymentResponse.data);\r\n        this.paymentMethods = makePaymentResponse.data;\r\n        this.selectedPaymentMethod = this.paymentMethods[0];\r\n      } catch (error) {\r\n        console.error(\"获取影片详情失败:\", error);\r\n      }\r\n    },\r\n    async loadMoreMovies() {\r\n      try {\r\n        const response = await loadMoreMovies(1, 6);\r\n        this.recommendedMovies = response.data;\r\n      } catch (error) {\r\n        console.error(\"加载推荐影片失败:\", error);\r\n      }\r\n    },\r\n    goToPlayerH(movieId) {\r\n      this.getMovieDetail(movieId);\r\n    },\r\n    async handlePayment() {\r\n      this.showPaymentPopup = false;\r\n      Toast.loading({\r\n        message: \"支付中...\",\r\n        forbidClick: true,\r\n      });\r\n      console.log(\"this.--------------------------->\", this.remainingEpisodes);\r\n      let ids = [];\r\n      if (this.selectedOption?.type === \"single\") {\r\n        // 单集购买，只传当前剧集ID\r\n        ids = [this.currentEpisode.id];\r\n      } else if (this.selectedOption?.type === \"remaining\") {\r\n        // 多集购买，按照剩余剧集顺序取指定数量的剧集ID\r\n        const packageEpisodes = this.remainingEpisodes.map((ep) => ep.id);\r\n        ids = packageEpisodes;\r\n      } else if (this.selectedOption?.type === \"five\") {\r\n        // 5集套餐，传当前+后续4集ID\r\n        const packageEpisodes = this.remainingEpisodes\r\n          .slice(0, 5)\r\n          .map((ep) => ep.id);\r\n        ids = packageEpisodes;\r\n      } else if (this.selectedOption?.type === \"ten\") {\r\n        // 10集套餐，传当前+后续9集ID\r\n        const packageEpisodes = this.remainingEpisodes\r\n          .slice(0, 10)\r\n          .map((ep) => ep.id);\r\n        ids = packageEpisodes;\r\n      }\r\n      console.log(\"ids\", ids);\r\n      console.log(\"this.selectedOption\", this.selectedOption);\r\n      if (\r\n        this.selectedOption.type === \"single\" ||\r\n        this.selectedOption.type === \"remaining\" ||\r\n        this.selectedOption.type === \"five\" ||\r\n        this.selectedOption.type === \"ten\"\r\n      ) {\r\n        console.log(\"--------------------------------\", ids);\r\n        const signalOrderResponse = await signalOrder(ids);\r\n        console.log(\"信号订单结果:\", signalOrderResponse);\r\n\r\n        const payResponse = await pay(\r\n          signalOrderResponse.data.oId,\r\n          this.selectedPaymentMethod.id\r\n        );\r\n        console.log(\"支付结果:\", payResponse);\r\n        window.location.href = payResponse;\r\n      } else {\r\n        const vipOrderResponse = await vipOrder(\r\n          this.selectedOption.id,\r\n          this.currentEpisode.id,\r\n          this.currency\r\n        );\r\n        console.log(\"vip订单结果:\", vipOrderResponse);\r\n        const payResponse = await pay(\r\n          vipOrderResponse.data.oId,\r\n          this.selectedPaymentMethod.id\r\n        );\r\n        console.log(\"payResponse\", payResponse);\r\n        window.location.href = payResponse;\r\n      }\r\n    },\r\n    selectOption(option) {\r\n      console.log(\"selectOption\", option);\r\n      this.selectedOption = {\r\n        id: option.id,\r\n        price: option.price,\r\n        type: option.type,\r\n        count: option.count, // 添加count字段用于动态套餐\r\n      };\r\n      this.totalAmount = option.price;\r\n    },\r\n    goBack() {\r\n      this.$router.push({ path: \"/\" });\r\n    },\r\n    async handleVideoEnded() {\r\n      const currentIndex = this.episodes.findIndex(\r\n        (ep) => ep.index === this.episode\r\n      );\r\n      const nextEpisode = this.episodes[currentIndex + 1];\r\n\r\n      if (nextEpisode) {\r\n        const wasFullScreen = this.isFullScreen;\r\n        await this.selectEpisode(nextEpisode);\r\n\r\n        // 自动播放新加载的视频\r\n        if (this.tcplayerInstance) {\r\n          this.tcplayerInstance.play();\r\n        }\r\n\r\n        // 保持全屏状态\r\n        if (wasFullScreen && !this.isFullScreen) {\r\n          setTimeout(() => this.toggleFullScreen(), 300);\r\n        }\r\n      } else {\r\n        Toast(\"已经是最后一集了\");\r\n      }\r\n    },\r\n    // 切换全屏状态\r\n    toggleFullScreen() {\r\n      if (this.tcplayerInstance) {\r\n        if (!this.isFullScreen) {\r\n          this.tcplayerInstance.requestFullscreen();\r\n        } else {\r\n          this.tcplayerInstance.exitFullscreen();\r\n        }\r\n      }\r\n    },\r\n    // 处理全屏状态变化\r\n    handleFullscreenChange() {\r\n      const isIOS =\r\n        /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\r\n\r\n      if (isIOS) {\r\n        this.isFullScreen =\r\n          this.$refs.videoPlayer?.webkitDisplayingFullscreen || false;\r\n      } else {\r\n        this.isFullScreen = Boolean(\r\n          document.fullscreenElement ||\r\n            document.webkitFullscreenElement ||\r\n            document.mozFullScreenElement ||\r\n            document.msFullscreenElement\r\n        );\r\n      }\r\n\r\n      // 处理方向变化\r\n      if (\r\n        !this.isFullScreen &&\r\n        this.screenOrientation &&\r\n        this.screenOrientation.unlock\r\n      ) {\r\n        this.screenOrientation.unlock();\r\n      }\r\n    },\r\n    handleOrientationChange() {\r\n      // 处理方向变化\r\n      if (\r\n        !this.isFullScreen &&\r\n        this.screenOrientation &&\r\n        this.screenOrientation.unlock\r\n      ) {\r\n        this.screenOrientation.unlock();\r\n      }\r\n    },\r\n    initTcplayer() {\r\n      // 确保DOM加载完成\r\n      this.$nextTick(() => {\r\n        const container = document.getElementById(\"tcplayerContainer\");\r\n        if (!container || container.tagName !== \"VIDEO\") {\r\n          console.error(\"播放器容器必须是<video>元素\");\r\n          return;\r\n        }\r\n\r\n        this.tcplayerInstance = new TcPlayer(\"tcplayerContainer\", {\r\n          // 必要配置参数\r\n          licenseUrl:\r\n            \"https://license.vod2.myqcloud.com/license/v2/1330011978_1/v_cube.license\",\r\n          autoplay: true,\r\n          controls: \"auto\",\r\n          width: \"100%\",\r\n          height: \"100%\",\r\n          useH5Prism: true,\r\n          techOrder: [\"html5\"],\r\n          sources: [\r\n            {\r\n              src: this.currentEpisode?.viedoUrl_H,\r\n              type: this.getVideoType(this.currentEpisode?.viedoUrl_H),\r\n            },\r\n          ],\r\n        });\r\n      });\r\n    },\r\n    getVideoType(url) {\r\n      if (!url) return \"video/mp4\";\r\n      const extension = url.split(\".\").pop().split(/[?#]/)[0].toLowerCase();\r\n      const typeMap = {\r\n        m3u8: \"application/x-mpegURL\",\r\n        flv: \"video/x-flv\",\r\n        mp4: \"video/mp4\",\r\n        mpd: \"application/dash+xml\",\r\n        webm: \"video/webm\",\r\n      };\r\n      return typeMap[extension] || \"video/mp4\";\r\n    },\r\n    // 新增方法：设置默认选中\r\n    setDefaultSelection() {\r\n      const options = [];\r\n      const singlePrice = this.priceInfo?.data?.price || 0;\r\n      const remainingCount = this.remainingEpisodes.length;\r\n\r\n      // 单集选项\r\n      options.push({\r\n        type: \"single\",\r\n        price: singlePrice,\r\n        priority: 1,\r\n      });\r\n\r\n      // 5集套餐\r\n      if (remainingCount > 5) {\r\n        options.push({\r\n          type: \"five\",\r\n          price: singlePrice * 5,\r\n          priority: 2,\r\n        });\r\n      }\r\n\r\n      // 动态剩余套餐\r\n      if (remainingCount > 1 && remainingCount <= 10) {\r\n        options.push({\r\n          type: \"remaining\",\r\n          price: singlePrice * remainingCount,\r\n          priority: 3,\r\n        });\r\n      }\r\n\r\n      // 10集套餐\r\n      if (remainingCount > 10) {\r\n        options.push({\r\n          type: \"ten\",\r\n          price: singlePrice * 10,\r\n          priority: 4,\r\n        });\r\n      }\r\n\r\n      // 找到金额最大的选项（金额相同则按优先级排序）\r\n      const maxOption = options.sort((a, b) => {\r\n        if (b.price === a.price) {\r\n          return b.priority - a.priority; // 金额相同时选择优先级高的（套餐越大优先级越高）\r\n        }\r\n        return b.price - a.price;\r\n      })[0];\r\n\r\n      // 设置选中状态\r\n      if (maxOption) {\r\n        this.selectOption({\r\n          ...this.getOptionData(maxOption.type),\r\n          type: maxOption.type,\r\n          price: maxOption.price,\r\n        });\r\n      }\r\n    },\r\n\r\n    // 辅助方法：获取对应套餐的原始数据\r\n    getOptionData(type) {\r\n      switch (type) {\r\n        case \"single\":\r\n          return this.priceInfo?.data || {};\r\n        case \"five\":\r\n          return this.priceInfo?.data5 || {};\r\n        case \"ten\":\r\n          return this.priceInfo?.data10 || {};\r\n        case \"remaining\":\r\n          return { count: this.remainingEpisodes.length };\r\n        default:\r\n          return {};\r\n      }\r\n    },\r\n  },\r\n  watch: {\r\n    token() {},\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.player-container {\r\n  width: 100vw;\r\n  height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n  overflow: hidden;\r\n  position: relative;\r\n  direction: rtl;\r\n  text-align: right;\r\n}\r\n\r\n.video-container {\r\n  position: relative;\r\n  width: 100%;\r\n  height: calc(100vw * 9 / 16);\r\n  background: #000;\r\n}\r\n\r\n.play-button {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  cursor: pointer;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  border-radius: 50%;\r\n  padding: 10px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 1001;\r\n  opacity: 0.9;\r\n  transition: opacity 0.3s;\r\n}\r\n\r\n.play-button:hover {\r\n  opacity: 1;\r\n}\r\n\r\n.video-player {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: contain;\r\n  background: #000;\r\n  -webkit-transform-style: preserve-3d;\r\n}\r\n\r\n.info-bar {\r\n  position: sticky;\r\n  top: 0;\r\n  z-index: 10;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  padding: 10px 20px;\r\n  background: rgb(76, 175, 80);\r\n  color: #ffffff;\r\n  font-weight: bold;\r\n}\r\n\r\n.description {\r\n  padding: 15px 20px;\r\n  border-top: 1px solid #ced4da;\r\n  overflow: hidden;\r\n  text-align: right;\r\n}\r\n\r\n.short-description {\r\n  overflow: hidden;\r\n  display: -webkit-box;\r\n  -webkit-line-clamp: 2;\r\n  -webkit-box-orient: vertical;\r\n}\r\n\r\n.full-description {\r\n  overflow: hidden;\r\n  max-height: none;\r\n}\r\n\r\n.toggle-button {\r\n  margin-top: 10px;\r\n  background-color: #ffffff;\r\n  color: #000000;\r\n  border: 1px solid #000000;\r\n  padding: 10px 15px;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  transition: background-color 0.3s;\r\n}\r\n\r\n.toggle-button:hover {\r\n  background-color: #f0f0f0;\r\n}\r\n\r\n.recommended {\r\n  padding: 15px 20px;\r\n}\r\n\r\n.movie-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(3, 1fr);\r\n  gap: 10px;\r\n  grid-auto-rows: minmax(100px, auto);\r\n}\r\n\r\n.movie-card {\r\n  background: #fff;\r\n  border-radius: 5px;\r\n  text-align: right;\r\n}\r\n\r\n.movie-card img {\r\n  width: 100%;\r\n  height: auto;\r\n  border-radius: 5px;\r\n}\r\n\r\n.popup-header {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 10px;\r\n  border-bottom: 1px solid #ced4da;\r\n  margin-bottom: 20px;\r\n  flex-direction: row-reverse;\r\n}\r\n\r\n.thumbnail {\r\n  width: 60px;\r\n  height: 60px;\r\n  margin-left: 15px;\r\n  margin-right: 0;\r\n  border-radius: 5px;\r\n  object-fit: cover;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.popup-info {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n}\r\n\r\n.popup-info h3 {\r\n  margin: 0;\r\n  font-size: 18px;\r\n  color: #343a40;\r\n}\r\n\r\n.popup-info p {\r\n  margin: 5px 0 0;\r\n  font-size: 14px;\r\n  color: #6c757d;\r\n}\r\n\r\n::v-deep .selected-episode {\r\n  color: #007bff;\r\n  font-weight: bold;\r\n}\r\n\r\n.playing-indicator {\r\n  display: flex;\r\n  align-items: flex-end;\r\n  justify-content: space-between;\r\n  width: 16px;\r\n  height: 12px;\r\n  position: absolute;\r\n  top: 5px;\r\n  left: 5px;\r\n}\r\n\r\n.playing-indicator span {\r\n  display: block;\r\n  width: 3px;\r\n  background-color: #ffc107;\r\n  animation: bounce 1s infinite ease-in-out;\r\n}\r\n\r\n.playing-indicator span:nth-child(1) {\r\n  animation-delay: 0s;\r\n}\r\n\r\n.playing-indicator span:nth-child(2) {\r\n  animation-delay: 0.2s;\r\n}\r\n\r\n.playing-indicator span:nth-child(3) {\r\n  animation-delay: 0.4s;\r\n}\r\n\r\n@keyframes bounce {\r\n  0%,\r\n  100% {\r\n    height: 2px;\r\n  }\r\n  50% {\r\n    height: 12px;\r\n  }\r\n}\r\n\r\n.popup-footer {\r\n  height: 50px;\r\n}\r\n\r\n.content-container {\r\n  overflow-y: auto;\r\n  flex: 1;\r\n  height: calc(100vh - 60px);\r\n}\r\n.episode {\r\n  text-align: right;\r\n  font-weight: 400;\r\n}\r\n\r\n.popup-content {\r\n  overflow-y: auto;\r\n}\r\n\r\n.locked-episode {\r\n  background-color: rgba(211, 211, 211, 0.5); /* 灰色背景 */\r\n  position: relative; /* 使锁图标相对定位 */\r\n}\r\n\r\n.lock-icon {\r\n  position: absolute; /* 绝对定位 */\r\n  top: 80%; /* 垂直居中 */\r\n  right: 10px; /* 调整位置 */\r\n  transform: translate(-50%, -50%); /* 使图标居中 */\r\n}\r\n\r\n.overlay {\r\n  position: absolute; /* 绝对定位 */\r\n  top: 0;\r\n  right: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(211, 211, 211, 0.5); /* 半透明灰色背景 */\r\n  z-index: 1; /* 确保遮罩在上层 */\r\n}\r\n\r\n.payment-popup-content {\r\n  padding: 10px;\r\n  background-color: #ffffff;\r\n  text-align: right;\r\n}\r\n\r\n.payment-title {\r\n  font-size: 24px;\r\n  font-weight: bold;\r\n  color: #333;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.payment-description {\r\n  font-size: 16px;\r\n  color: #666;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.payment-button {\r\n  width: 100%;\r\n  padding: 12px; /* 增加内边距 */\r\n  margin: 10px 0; /* 增加上下间距 */\r\n  background-color: rgb(149, 236, 105); /* 浅绿色 */\r\n  color: #000000; /* 黑色文字 */\r\n  border: none;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  transition: background-color 0.3s;\r\n}\r\n\r\n.payment-button:hover {\r\n  background-color: rgb(76, 175, 80); /* 悬停时更深的绿色 */\r\n}\r\n\r\n.vip-title {\r\n  font-size: 20px;\r\n  font-weight: bold;\r\n  margin: 20px 0 10px;\r\n  color: #333;\r\n}\r\n\r\n.close-button {\r\n  background-color: #f44336;\r\n  color: white;\r\n}\r\n\r\n.close-button:hover {\r\n  background-color: #d32f2f;\r\n}\r\n\r\n.vip-container {\r\n  display: flex;\r\n  box-sizing: border-box;\r\n  position: relative;\r\n}\r\n\r\n.vip-card {\r\n  flex: 1 1 0; /* 确保每个子{{currency}}素平分空间并允许缩放 */\r\n  margin: 0 5px; /* 添加左右间距 */\r\n  padding: 20px 10px;\r\n  border-radius: 8px;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);\r\n  cursor: pointer;\r\n  transition: background-color 0.3s, transform 0.3s;\r\n  text-align: right;\r\n  background-color: rgb(76, 175, 80);\r\n  box-sizing: border-box;\r\n  border: 3px solid white;\r\n}\r\n\r\n.vip-card:nth-child(1) {\r\n  background: linear-gradient(\r\n    to bottom,\r\n    rgb(76, 175, 80),\r\n    rgba(224, 247, 250, 0)\r\n  );\r\n  color: #333;\r\n}\r\n\r\n.vip-card:nth-child(2) {\r\n  background: linear-gradient(\r\n    to bottom,\r\n    rgb(76, 175, 80),\r\n    rgba(165, 214, 167, 0)\r\n  );\r\n}\r\n\r\n.vip-card:nth-child(3) {\r\n  background: linear-gradient(\r\n    to bottom,\r\n    rgb(76, 175, 80),\r\n    rgba(200, 230, 201, 0)\r\n  );\r\n  color: #333;\r\n}\r\n\r\n.vip-card span {\r\n  display: block;\r\n  font-size: 20px;\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.price {\r\n  font-weight: bold;\r\n  font-size: 16px !important;\r\n  color: #333;\r\n}\r\n\r\n.unit {\r\n  font-size: 12px !important;\r\n  color: #333;\r\n  margin-right: 5px;\r\n  margin-left: 0;\r\n}\r\n\r\n.price-container {\r\n  display: flex !important;\r\n  align-items: center;\r\n  justify-content: flex-end;\r\n  flex-direction: row-reverse;\r\n}\r\n\r\n.vip-card-title {\r\n  color: rgba(255, 255, 255, 0.8); /* 更浅的标题颜色 */\r\n  font-size: 14px !important; /* 更小的字体大小 */\r\n  margin-bottom: 10px !important; /* 增加底部间距 */\r\n}\r\n\r\n.custom-payment-button {\r\n  background-color: #4caf50; /* 修改为您想要的颜色 */\r\n  color: white; /* 按钮文字颜色 */\r\n}\r\n\r\n.custom-payment-button:hover {\r\n  background-color: #45a049; /* 悬停时的颜色 */\r\n}\r\n\r\n.selected {\r\n  background-color: #007bff;\r\n  color: white;\r\n}\r\n\r\n.vip-card.selected {\r\n  border: 2px solid #4caf50; /* 选中时的边框颜色 */\r\n  background-color: rgba(76, 175, 80, 0.1); /* 选中时的背景颜色 */\r\n}\r\n\r\n.single-episode-card.selected {\r\n  border: 2px solid #4caf50; /* 选中时的边框颜色 */\r\n  background-color: rgba(76, 175, 80, 0.1); /* 选中时的背景颜色 */\r\n}\r\n.total-amount {\r\n  font-weight: bold;\r\n  font-size: 22px;\r\n}\r\n\r\n.toggle-button .arrow {\r\n  transform: scaleX(-1);\r\n}\r\n\r\n.back-button {\r\n  background-color: #007bff; /* 按钮颜色 */\r\n  color: white; /* 按钮文字颜色 */\r\n  border: none;\r\n  border-radius: 5px;\r\n  padding: 12px 20px; /* 增加内边距 */\r\n  cursor: pointer;\r\n  margin: 10px; /* 添加一些外边距 */\r\n  font-size: 16px; /* 增加字体大小 */\r\n  transition: background-color 0.3s; /* 添加过渡效果 */\r\n}\r\n.back-button:hover {\r\n  background-color: #0056b3; /* 悬停时的颜色 */\r\n}\r\n\r\n.back-icon {\r\n  position: absolute;\r\n  top: 20px;\r\n  right: 10px;\r\n  cursor: pointer;\r\n  z-index: 100;\r\n  transform: rotate(180deg);\r\n}\r\n\r\n@media (min-width: 1024px) {\r\n  .player-container {\r\n    flex-direction: row; /* 在电脑端使用行布局 */\r\n  }\r\n\r\n  .video-player {\r\n    width: 70%; /* 视频播放器占70%宽度 */\r\n    height: auto; /* 高度自适应 */\r\n  }\r\n\r\n  .content-container {\r\n    width: 30%; /* 内容容器占30%宽度 */\r\n    padding: 20px; /* 添加内边距 */\r\n    overflow-y: auto; /* 允许垂直滚动 */\r\n  }\r\n\r\n  .info-bar {\r\n    position: static; /* 在电脑端取消固定定位 */\r\n    background: rgba(76, 175, 80, 0.8); /* 背景透明度调整 */\r\n  }\r\n\r\n  .recommended {\r\n    padding: 20px; /* 增加推荐影片的内边距 */\r\n  }\r\n\r\n  .movie-grid {\r\n    grid-template-columns: repeat(4, 1fr); /* 在电脑端使用4列布局 */\r\n  }\r\n}\r\n\r\n.current-episode {\r\n  background-color: rgba(76, 175, 80, 0.3); /* 设置背景颜色 */\r\n  border: 2px solid #4caf50; /* 设置边框颜色 */\r\n  color: #ffffff; /* 设置文字颜色 */\r\n}\r\n\r\n.card-selected {\r\n  border: 3px solid #4caf50 !important;\r\n  box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);\r\n  position: relative;\r\n}\r\n\r\n.card-selected::after {\r\n  content: \"✓\";\r\n  position: absolute;\r\n  top: 10px;\r\n  left: 10px;\r\n  background: #4caf50;\r\n  width: 20px;\r\n  height: 20px;\r\n  border-radius: 50%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 12px;\r\n  color: white;\r\n  font-weight: 900;\r\n}\r\n\r\n.vip-card,\r\n.single-episode-card {\r\n  border: 1px solid #e0e0e0;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.vip-card:hover,\r\n.single-episode-card:hover {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n/* 确保Android全屏时控件正确显示 */\r\n.fullscreen-button {\r\n  z-index: 10000;\r\n}\r\n\r\n.payment-methods {\r\n  overflow-x: auto; /* 允许横向滚动 */\r\n  white-space: nowrap; /* 防止换行 */\r\n  margin-top: 20px;\r\n}\r\n\r\n.payment-methods-title {\r\n  margin-bottom: 10px; /* 标题与支付方式之间的间距 */\r\n}\r\n\r\n.payment-methods-container {\r\n  display: inline-flex; /* 使用inline-flex以支持横向排列 */\r\n  gap: 10px; /* 卡片之间的间距 */\r\n}\r\n\r\n.payment-method-card {\r\n  width: 80px; /* 设置固定宽度 */\r\n  height: 80px; /* 设置固定高度 */\r\n  background-color: #f9f9f9; /* 卡片背景色 */\r\n  border: 1px solid #e0e0e0; /* 边框 */\r\n  border-radius: 8px; /* 圆角 */\r\n  display: flex; /* 使用flex布局 */\r\n  align-items: center; /* 垂直居中对齐 */\r\n  justify-content: center; /* 水平居中对齐 */\r\n  cursor: pointer; /* 鼠标悬停时显示为可点击 */\r\n  transition: transform 0.3s, box-shadow 0.3s; /* 动画效果 */\r\n}\r\n\r\n::v-deep(.selected) {\r\n  border-color: #4caf50; /* 选中时的边框颜色 */\r\n  background-color: #e0f7e0; /* 选中时的背景颜色 */\r\n  box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3); /* 选中时的阴影效果 */\r\n}\r\n\r\n.payment-method-icon {\r\n  width: 60px; /* 调整图标宽度 */\r\n  height: 60px; /* 调整图标高度 */\r\n  object-fit: contain; /* 确保图片不被拉伸 */\r\n}\r\n\r\n.tcplayer {\r\n  width: 100%;\r\n  height: 100%;\r\n  background: #000;\r\n}\r\n\r\n.aliplayer >>> video {\r\n  /* 这行也可以移除，因为我们想要允许所有交互 */\r\n  /* pointer-events: auto; */\r\n}\r\n\r\n/* 移除这些样式，让播放器控制栏可见 */\r\n/* ::v-deep .prism-controlbar,\r\n::v-deep .prism-play-btn,\r\n::v-deep .prism-time-display,\r\n::v-deep .prism-fullscreen-btn,\r\n::v-deep .prism-volume {\r\n  display: none !important;\r\n} */\r\n\r\n.episode-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(5, 1fr);\r\n  grid-auto-rows: 50px;\r\n  gap: 8px;\r\n  padding: 10px;\r\n  max-width: 400px;\r\n  margin: 0 auto;\r\n}\r\n\r\n.grid-item {\r\n  height: 50px;\r\n  max-width: 80px;\r\n  width: 100%;\r\n  font-size: 14px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background: #f0f0f0;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  transition: all 0.3s;\r\n}\r\n\r\n.grid-item:hover {\r\n  background: #e0e0e0;\r\n}\r\n\r\n.more-button {\r\n  background: #4caf50;\r\n  color: white;\r\n}\r\n\r\n@media (max-width: 375px) {\r\n  .episode-grid {\r\n    grid-auto-rows: 40px;\r\n    gap: 5px;\r\n    padding: 8px;\r\n  }\r\n\r\n  .grid-item {\r\n    height: 40px;\r\n    max-width: 40px;\r\n    font-size: 12px;\r\n  }\r\n}\r\n\r\n.grid-item.selected {\r\n  color: white;\r\n  background: #4caf50;\r\n  font-weight: bold;\r\n}\r\n\r\n.grid-item.locked {\r\n  background: #e0e0e0;\r\n  position: relative;\r\n  opacity: 0.7;\r\n}\r\n\r\n.lock-icon {\r\n  color: #666;\r\n  pointer-events: none; /* 防止图标阻挡点击事件 */\r\n}\r\n\r\n/* 隐藏默认的腾讯云logo */\r\n::v-deep .txp-watermark {\r\n  display: none !important;\r\n}\r\n\r\n/* 自定义控制栏样式 */\r\n::v-deep .vjs-control-bar {\r\n  background: rgba(0, 0, 0, 0.7) !important;\r\n  height: 3em;\r\n}\r\n\r\n/* 使用SVG替代字体图标 */\r\n::v-deep .vjs-play-control .vjs-icon-placeholder {\r\n  background-image: url('data:image/svg+xml;utf8,<svg viewBox=\"0 0 32 32\"><path fill=\"white\" d=\"M6 4l20 12-20 12z\"/></svg>') !important;\r\n  background-size: contain;\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PlayerH.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PlayerH.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./PlayerH.vue?vue&type=template&id=671edb9d&scoped=true\"\nimport script from \"./PlayerH.vue?vue&type=script&lang=js\"\nexport * from \"./PlayerH.vue?vue&type=script&lang=js\"\nimport style0 from \"./PlayerH.vue?vue&type=style&index=0&id=671edb9d&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"671edb9d\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"me-container\",attrs:{\"dir\":\"rtl\"}},[_c('div',{staticClass:\"back-button-container\"},[_c('van-icon',{staticClass:\"back-icon\",attrs:{\"name\":\"arrow-left\",\"size\":\"24px\"},on:{\"click\":_vm.goBack}})],1),_c('div',{staticClass:\"user-header\"},[_c('div',{staticClass:\"user-basic\"},[_c('div',{staticClass:\"avatar\"},[_vm._v(\" \"+_vm._s(_vm.userAvatar)+\" \")]),_c('div',{staticClass:\"user-info\"},[_c('h2',[_vm._v(_vm._s(_vm.userInfo.username))]),_c('div',{staticClass:\"user-details\"},[_c('span',[_vm._v(_vm._s(_vm.userInfo.mail))]),_c('span',{staticClass:\"divider\"},[_vm._v(\"|\")]),_c('span',[_vm._v(_vm._s(_vm.userInfo.currency))])])])])]),_c('div',{ref:\"playHistoryRef\",staticClass:\"play-history\"},[_c('h3',[_vm._v(\"سجل المشاهدة\")]),_c('div',{staticClass:\"play-cards-container\",on:{\"scroll\":_vm.handlePlayHistoryScroll}},[_c('div',{staticClass:\"play-cards\"},[(_vm.playHistory.length === 0 && !_vm.loadingPlayHistory)?_c('div',{staticClass:\"no-data\"},[_vm._v(\" لا يوجد سجل مشاهدة \")]):_vm._e(),_vm._l((_vm.playHistory),function(item,index){return _c('div',{key:index,staticClass:\"play-card\",on:{\"click\":function($event){return _vm.goToPlayerH(item.movieId)}}},[_c('img',{attrs:{\"src\":item.cover,\"alt\":item.title}}),_c('div',{staticClass:\"play-info\"},[_c('h4',[_vm._v(_vm._s(item.title))]),_c('p',[_vm._v(_vm._s(item.lastPlayTime))])])])}),(_vm.loadingPlayHistory)?_c('div',{staticClass:\"loading-more\"},[_vm._v(\" جاري التحميل... \")]):_vm._e()],2)])]),_c('div',{ref:\"paymentHistoryRef\",staticClass:\"payment-history\"},[_c('h3',[_vm._v(\"سجل المدفوعات\")]),_c('div',{staticClass:\"payment-cards-container\",on:{\"scroll\":_vm.handlePaymentScroll}},[_c('div',{staticClass:\"payment-cards\"},[(_vm.paymentHistory.length === 0 && !_vm.loadingOrders)?_c('div',{staticClass:\"no-data\"},[_vm._v(\" لا يوجد سجل مدفوعات \")]):_vm._e(),_vm._l((_vm.paymentHistory),function(item,index){return _c('div',{key:index,staticClass:\"payment-card\"},[_c('img',{staticClass:\"payment-cover\",attrs:{\"src\":item.cover,\"alt\":item.title}}),_c('div',{staticClass:\"payment-info\"},[_c('h4',[_vm._v(_vm._s(item.title))]),_c('div',{staticClass:\"payment-details\"},[_c('span',{staticClass:\"payment-type\"},[_vm._v(_vm._s(_vm.getPaymentType(item.type)))]),_c('span',{staticClass:\"payment-amount\"},[_vm._v(_vm._s(item.payPrice)+\" \"+_vm._s(item.payCurrency))])]),_c('p',{staticClass:\"payment-time\"},[_vm._v(_vm._s(item.time))])])])}),(_vm.loadingOrders)?_c('div',{staticClass:\"loading-more\"},[_vm._v(\"جاري التحميل...\")]):_vm._e()],2)])]),_c('div',{staticClass:\"logout-container\"},[_c('van-button',{staticClass:\"logout-button\",attrs:{\"block\":\"\"},on:{\"click\":_vm.handleLogout}},[_vm._v(\"تسجيل خروج\")])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"me-container\" dir=\"rtl\">\r\n    <!-- 返回按钮 -->\r\n    <div class=\"back-button-container\">\r\n      <van-icon\r\n        name=\"arrow-left\"\r\n        class=\"back-icon\"\r\n        size=\"24px\"\r\n        @click=\"goBack\"\r\n      />\r\n    </div>\r\n\r\n    <!-- 用户信息头部 -->\r\n    <div class=\"user-header\">\r\n      <div class=\"user-basic\">\r\n        <div class=\"avatar\">\r\n          {{ userAvatar }}\r\n        </div>\r\n        <div class=\"user-info\">\r\n          <h2>{{ userInfo.username }}</h2>\r\n          <div class=\"user-details\">\r\n            <span>{{ userInfo.mail }}</span>\r\n            <span class=\"divider\">|</span>\r\n            <span>{{ userInfo.currency }}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 播放记录 -->\r\n    <div class=\"play-history\" ref=\"playHistoryRef\">\r\n      <h3>سجل المشاهدة</h3>\r\n      <div class=\"play-cards-container\" @scroll=\"handlePlayHistoryScroll\">\r\n        <div class=\"play-cards\">\r\n          <div\r\n            v-if=\"playHistory.length === 0 && !loadingPlayHistory\"\r\n            class=\"no-data\"\r\n          >\r\n            لا يوجد سجل مشاهدة\r\n          </div>\r\n          <div\r\n            v-for=\"(item, index) in playHistory\"\r\n            :key=\"index\"\r\n            class=\"play-card\"\r\n            @click=\"goToPlayerH(item.movieId)\"\r\n          >\r\n            <img :src=\"item.cover\" :alt=\"item.title\" />\r\n            <div class=\"play-info\">\r\n              <h4>{{ item.title }}</h4>\r\n              <p>{{ item.lastPlayTime }}</p>\r\n            </div>\r\n          </div>\r\n          <div v-if=\"loadingPlayHistory\" class=\"loading-more\">\r\n            جاري التحميل...\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 支付记录 -->\r\n    <div class=\"payment-history\" ref=\"paymentHistoryRef\">\r\n      <h3>سجل المدفوعات</h3>\r\n      <div class=\"payment-cards-container\" @scroll=\"handlePaymentScroll\">\r\n        <div class=\"payment-cards\">\r\n          <div\r\n            v-if=\"paymentHistory.length === 0 && !loadingOrders\"\r\n            class=\"no-data\"\r\n          >\r\n            لا يوجد سجل مدفوعات\r\n          </div>\r\n          <div\r\n            v-for=\"(item, index) in paymentHistory\"\r\n            :key=\"index\"\r\n            class=\"payment-card\"\r\n          >\r\n            <img :src=\"item.cover\" :alt=\"item.title\" class=\"payment-cover\" />\r\n            <div class=\"payment-info\">\r\n              <h4>{{ item.title }}</h4>\r\n              <div class=\"payment-details\">\r\n                <span class=\"payment-type\">{{\r\n                  getPaymentType(item.type)\r\n                }}</span>\r\n                <span class=\"payment-amount\"\r\n                  >{{ item.payPrice }} {{ item.payCurrency }}</span\r\n                >\r\n              </div>\r\n              <p class=\"payment-time\">{{ item.time }}</p>\r\n            </div>\r\n          </div>\r\n          <div v-if=\"loadingOrders\" class=\"loading-more\">جاري التحميل...</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 添加退出登录按钮 -->\r\n    <div class=\"logout-container\">\r\n      <van-button class=\"logout-button\" block @click=\"handleLogout\"\r\n        >تسجيل خروج</van-button\r\n      >\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { views, orders } from \"../api/api\";\r\nimport { getUserInfo } from \"../utils/index\";\r\nexport default {\r\n  name: \"UserProfile\",\r\n  data() {\r\n    return {\r\n      playHistory: [],\r\n      paymentHistory: [],\r\n      playHistoryPage: 1,\r\n      orderPage: 1,\r\n      loadingPlayHistory: false,\r\n      loadingOrders: false,\r\n      hasMorePlays: true,\r\n      hasMoreOrders: true,\r\n    };\r\n  },\r\n  mounted() {\r\n    this.loadPlayHistory();\r\n    this.loadOrders();\r\n  },\r\n  computed: {\r\n    userInfo() {\r\n      return getUserInfo();\r\n    },\r\n    userAvatar() {\r\n      return this.userInfo.mail\r\n        ? this.userInfo.mail.charAt(0).toUpperCase()\r\n        : \"?\";\r\n    },\r\n  },\r\n  methods: {\r\n    async loadPlayHistory() {\r\n      if (!this.hasMorePlays || this.loadingPlayHistory) return;\r\n\r\n      this.loadingPlayHistory = true;\r\n      try {\r\n        const response = await views(this.playHistoryPage, 10);\r\n\r\n        if (response.data && response.data.length) {\r\n          this.playHistory = [...this.playHistory, ...response.data];\r\n          this.playHistoryPage++;\r\n        } else {\r\n          this.hasMorePlays = false;\r\n        }\r\n      } catch (error) {\r\n        console.error(\"加载播放记录失败:\", error);\r\n      } finally {\r\n        this.loadingPlayHistory = false;\r\n      }\r\n    },\r\n\r\n    async loadOrders() {\r\n      if (!this.hasMoreOrders || this.loadingOrders) return;\r\n\r\n      this.loadingOrders = true;\r\n      try {\r\n        const response = await orders(this.orderPage, 10);\r\n\r\n        if (response.data && response.data.length) {\r\n          this.paymentHistory = [...this.paymentHistory, ...response.data];\r\n          this.orderPage++;\r\n        } else {\r\n          this.hasMoreOrders = false;\r\n        }\r\n      } catch (error) {\r\n        console.error(\"加载订单失败:\", error);\r\n      } finally {\r\n        this.loadingOrders = false;\r\n      }\r\n    },\r\n    goToPlayerH(movieId) {\r\n      this.$router.push({ name: \"PlayerH\", query: { id: movieId } });\r\n    },\r\n    handlePlayHistoryScroll(e) {\r\n      const container = e.target;\r\n      // RTL布局下，scrollLeft为负值，需要取绝对值\r\n      const scrollLeft = Math.abs(container.scrollLeft);\r\n      const scrollWidth = container.scrollWidth;\r\n      const clientWidth = container.clientWidth;\r\n\r\n      // 当滚动到距离左边界小于100px时加载更多\r\n      if (scrollWidth - (scrollLeft + clientWidth) < 100) {\r\n        this.loadPlayHistory();\r\n      }\r\n    },\r\n\r\n    handlePaymentScroll(e) {\r\n      const container = e.target;\r\n      const scrollLeft = Math.abs(container.scrollLeft);\r\n      const scrollWidth = container.scrollWidth;\r\n      const clientWidth = container.clientWidth;\r\n\r\n      if (scrollWidth - (scrollLeft + clientWidth) < 100) {\r\n        this.loadOrders();\r\n      }\r\n    },\r\n\r\n    getPaymentType(type) {\r\n      const types = {\r\n        2: \"شراء الحلقة\",\r\n        3: \"شراء العضوية\",\r\n        // 根据实际类型添加更多映射\r\n      };\r\n      return types[type] || \"آخر\";\r\n    },\r\n    goBack() {\r\n      this.$router.go(-1); // 返回到上一个页面\r\n    },\r\n    async handleLogout() {\r\n      try {\r\n        // 清除本地存储的用户信息\r\n        localStorage.removeItem(\"userInfo\");\r\n        localStorage.removeItem(\"token\");\r\n\r\n        // 跳转到登录页面\r\n        this.$router.replace(\"/login\");\r\n      } catch (error) {\r\n        console.error(\"退出登录失败:\", error);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.me-container {\r\n  padding: 16px;\r\n  background-color: #f5f5f7;\r\n  min-height: 100vh;\r\n  direction: rtl;\r\n  font-family: \"Noto Sans Arabic\", sans-serif;\r\n}\r\n\r\n.user-header {\r\n  background: white;\r\n  padding: 20px;\r\n  border-radius: 12px;\r\n  margin-bottom: 16px;\r\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.user-basic {\r\n  display: flex;\r\n  align-items: center;\r\n  flex-direction: row-reverse;\r\n}\r\n\r\n.avatar {\r\n  width: 64px;\r\n  height: 64px;\r\n  background-color: #1890ff;\r\n  border-radius: 50%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: white;\r\n  font-size: 24px;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.user-info {\r\n  margin-right: 16px;\r\n  margin-left: 0;\r\n  text-align: right;\r\n}\r\n\r\n.user-info h2 {\r\n  margin: 0;\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n  color: #333;\r\n  margin-bottom: 8px;\r\n}\r\n\r\n.user-details {\r\n  font-size: 14px;\r\n  color: #666;\r\n  display: flex;\r\n  align-items: center;\r\n  flex-wrap: wrap;\r\n  gap: 8px;\r\n  justify-content: flex-end;\r\n}\r\n\r\n.divider {\r\n  color: #ddd;\r\n  margin: 0 4px;\r\n}\r\n\r\n.function-buttons {\r\n  display: flex;\r\n  gap: 15px;\r\n}\r\n\r\n.function-buttons button {\r\n  padding: 10px 20px;\r\n  background-color: #1890ff;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n}\r\n\r\n.function-buttons button:hover {\r\n  background-color: #40a9ff;\r\n}\r\n\r\n.play-history,\r\n.payment-history {\r\n  background: white;\r\n  border-radius: 12px;\r\n  padding: 16px;\r\n  margin-bottom: 16px;\r\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);\r\n}\r\n\r\nh3 {\r\n  font-size: 16px;\r\n  color: #333;\r\n  margin-bottom: 12px;\r\n  font-weight: 600;\r\n  text-align: right;\r\n}\r\n.play-cards-container,\r\n.payment-cards-container {\r\n  direction: rtl;\r\n  overflow-x: auto;\r\n  -webkit-overflow-scrolling: touch;\r\n  scrollbar-width: none;\r\n  -ms-overflow-style: none;\r\n  width: 100%;\r\n}\r\n.play-cards,\r\n.payment-cards {\r\n  display: flex;\r\n  gap: 12px;\r\n  padding: 4px 0 12px;\r\n  flex-direction: row-reverse;\r\n  width: max-content;\r\n}\r\n\r\n.play-card {\r\n  min-width: 160px;\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n  background: white;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);\r\n}\r\n\r\n.play-card img {\r\n  width: 100%;\r\n  height: 90px;\r\n  object-fit: cover;\r\n}\r\n\r\n.play-info {\r\n  padding: 8px;\r\n}\r\n\r\n.play-info h4 {\r\n  font-size: 14px;\r\n  margin: 0;\r\n  line-height: 1.4;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  display: -webkit-box;\r\n  -webkit-line-clamp: 2;\r\n  -webkit-box-orient: vertical;\r\n}\r\n\r\n.play-info p {\r\n  margin: 5px 0 0;\r\n  font-size: 12px;\r\n  color: #666;\r\n}\r\n\r\n.payment-cards-container {\r\n  margin: 0 -16px;\r\n  padding: 0 16px;\r\n  overflow-x: auto;\r\n  -webkit-overflow-scrolling: touch;\r\n  scrollbar-width: none;\r\n  -ms-overflow-style: none;\r\n  direction: rtl;\r\n}\r\n\r\n.payment-cards-container::-webkit-scrollbar {\r\n  display: none;\r\n}\r\n\r\n.payment-cards {\r\n  display: flex;\r\n  gap: 12px;\r\n  padding: 4px 0 12px;\r\n  flex-direction: row-reverse;\r\n}\r\n\r\n.payment-card {\r\n  min-width: 200px;\r\n  border-radius: 8px;\r\n  overflow: hidden;\r\n  background: white;\r\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);\r\n}\r\n\r\n.payment-cover {\r\n  width: 100%;\r\n  height: 112px;\r\n  object-fit: cover;\r\n}\r\n\r\n.payment-info {\r\n  padding: 12px;\r\n  text-align: right;\r\n}\r\n\r\n.payment-info h4 {\r\n  margin: 0;\r\n  font-size: 14px;\r\n  line-height: 1.4;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  display: -webkit-box;\r\n  -webkit-line-clamp: 2;\r\n  -webkit-box-orient: vertical;\r\n}\r\n\r\n.payment-details {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-top: 8px;\r\n  flex-direction: row-reverse;\r\n}\r\n\r\n.payment-type {\r\n  font-size: 12px;\r\n  color: #666;\r\n  padding: 2px 6px;\r\n  background-color: #f5f5f5;\r\n  border-radius: 4px;\r\n}\r\n\r\n.payment-amount {\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  color: #1890ff;\r\n}\r\n\r\n.payment-time {\r\n  margin: 8px 0 0;\r\n  font-size: 12px;\r\n  color: #999;\r\n}\r\n\r\n.loading-more {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 10px;\r\n  color: #999;\r\n  font-size: 14px;\r\n}\r\n\r\n/* 播放记录加载更多样式 */\r\n.play-cards .loading-more {\r\n  min-width: 100px;\r\n  height: 90px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background: #f5f5f5;\r\n  border-radius: 8px;\r\n}\r\n\r\n/* 支付记录加载更多样式 */\r\n.payment-cards .loading-more {\r\n  min-width: 100px;\r\n  height: 112px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background: #f5f5f5;\r\n  border-radius: 8px;\r\n}\r\n\r\n.no-data {\r\n  width: 100%;\r\n  padding: 20px;\r\n  text-align: center;\r\n  color: #999;\r\n  font-size: 14px;\r\n  background: #f5f5f5;\r\n  border-radius: 8px;\r\n}\r\n\r\n.back-button-container {\r\n  top: 16px;\r\n  left: 16px;\r\n  z-index: 10;\r\n  text-align: left;\r\n}\r\n.back-icon {\r\n  position: absolute;\r\n  top: 30px;\r\n  right: 20px;\r\n  cursor: pointer;\r\n  z-index: 100;\r\n  transform: rotate(180deg);\r\n}\r\n\r\n.logout-container {\r\n  padding: 16px 20px;\r\n  margin-top: 24px;\r\n  margin-bottom: 32px;\r\n}\r\n\r\n.logout-button {\r\n  background: linear-gradient(to right, #ff4d4f, #ff7875);\r\n  color: white;\r\n  border: none;\r\n  border-radius: 12px;\r\n  height: 48px;\r\n  font-size: 16px;\r\n  font-weight: 500;\r\n  box-shadow: 0 4px 12px rgba(255, 77, 79, 0.2);\r\n  transition: all 0.3s ease;\r\n  padding: inherit;\r\n}\r\n\r\n.logout-button:active {\r\n  background: linear-gradient(to right, #ff7875, #ffa39e);\r\n  transform: translateY(1px);\r\n  box-shadow: 0 2px 8px rgba(255, 77, 79, 0.15);\r\n}\r\n\r\n.logout-button::before {\r\n  background-color: transparent !important;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Me.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Me.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Me.vue?vue&type=template&id=46fb69ee&scoped=true\"\nimport script from \"./Me.vue?vue&type=script&lang=js\"\nexport * from \"./Me.vue?vue&type=script&lang=js\"\nimport style0 from \"./Me.vue?vue&type=style&index=0&id=46fb69ee&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"46fb69ee\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\r\nimport Router from 'vue-router';\r\nimport HomePage from './components/Home.vue';\r\nimport PlayerPage from './components/Player.vue';\r\nimport LoginPage from './components/Login.vue';\r\nimport PaymentPage from './components/Payment.vue';\r\nimport RegisterPage from './components/Register.vue';\r\nimport PlayerHPage from './components/PlayerH.vue';\r\nimport MePage from './components/Me.vue';\r\nimport { getToken } from \"@/utils\";\r\nVue.use(Router);\r\n\r\nconst router = new Router({\r\n\troutes: [\r\n\t\t{ path: '/', component: HomePage },\r\n\t\t{ path: '/player', name: 'Player', component: PlayerPage, meta: { requiresAuth: true } },\r\n\t\t{ path: '/playerh', name: 'PlayerH', component: PlayerHPage, meta: { requiresAuth: true } },\r\n\t\t{ path: '/me', name: 'Me', component: MePage, meta: { requiresAuth: true } },\r\n\t\t{ path: '/login', component: LoginPage },\r\n\t\t{ path: '/register', component: RegisterPage },\r\n\t\t{ path: '/payment', component: PaymentPage, meta: { requiresAuth: true } }\r\n\t]\r\n});\r\n\r\n// 添加全局导航守卫\r\nrouter.beforeEach((to, from, next) => {\r\n\tconst isAuthenticated = getToken();\r\n\r\n\tif (to.matched.some(record => record.meta.requiresAuth)) {\r\n\t\t// 需要认证的路由\r\n\t\tif (!isAuthenticated) {\r\n\t\t\tconsole.log(\"to.fullPath\", to.fullPath);\r\n\t\t\tnext({\r\n\t\t\t\tpath: '/login',\r\n\t\t\t\tquery: { redirect: to.fullPath }  // 保存目标路由路径\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tnext();\r\n\t\t}\r\n\t} else {\r\n\t\t// 不需要认证的路由\r\n\t\tnext();\r\n\t}\r\n});\r\n\r\nexport default router; ","import Vue from 'vue';\nimport App from './App.vue';\nimport router from './router';\nimport 'vant/lib/index.css';\nimport { Icon } from 'vant';\n\nVue.use(Icon);\n\n// 运行时覆盖字体路径\n\nnew Vue({\n  router,\n  render: h => h(App),\n}).$mount('#app');\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkmicro_drama\"] = self[\"webpackChunkmicro_drama\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(2300); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["render","_vm","this","_c","_self","attrs","staticRenderFns","name","mounted","methods","beforeDestroy","clearInterval","tokenRefreshInterval","component","staticClass","on","onSearch","scopedSlots","_u","key","fn","userInfo","userId","goToMe","_v","_s","username","goToLogin","proxy","model","value","callback","$$v","expression","_l","banners","banner","id","img","finished","loadMoreMovies","loading","filteredMovies","movie","$event","goToPlayerH","cover","title","getToken","localStorage","getItem","setToken","token","setItem","setUserInfo","JSON","stringify","getUserInfo","parse","baseURL","process","baseApi","axios","create","interceptors","request","use","config","headers","console","log","error","Promise","reject","response","data","code","url","includes","removeItem","window","location","href","pathname","registerUser","async","formData","FormData","append","params","password","email","currency","post","loginUser","refreshToken","userid","get","pageNo","pageSize","search","words","getMovieDetail","getPlayDetail","getPrice","signalOrder","ids","forEach","vipOrder","vipId","proId","pay","orderId","ps","orders","views","makePayment","components","Search","List","Swipe","SwipeItem","movies","computed","hashParams","URLSearchParams","hash","split","type","_","Date","getTime","then","catch","getBanner","$router","push","newMovies","totalCount","length","goToPlayer","movieId","query","path","watch","newVal","currentPage","ref","selectedThumbnail","handleClick","handleTouchStart","handleTouchMove","handleTouchEnd","showPlayButton","currentEpisode","viedoUrl_H","togglePlay","_e","showEpisodeSelection","episode","style","height","episodes","ep","index","class","selectEpisode","Grid","GridItem","Popup","touchStartX","touchStartTime","clickTimeout","created","fetchMovieDetails","clearTimeout","setTimeout","video","$refs","videoPlayer","paused","play","pause","event","touches","clientX","timeStamp","touchEndX","deltaX","duration","newTime","currentTime","innerWidth","Math","min","max","$route","chapters","playResponse","_setupProxy","goBack","preventDefault","login","apply","arguments","goToRegister","defineComponent","Button","Field","Icon","redirect","Toast","fail","message","success","replace","_m","register","confirmPassword","showCurrencySheet","currencyOptions","onSelectCurrency","onCancel","ActionSheet","option","staticStyle","slice","selected","locked","broadPermit","stopPropagation","isExpanded","desc","overflow","display","WebkitLineClamp","WebkitBoxOrient","toggleDescription","recommendedMovies","rec","price","maxHeight","setDefaultSelection","showPaymentPopup","selectedOption","selectOption","priceInfo","toFixed","remainingEpisodes","data5","count","data10","vips","vip","info","oldPrice","paymentMethods","method","selectedPaymentMethod","selectPaymentMethod","totalAmount","handlePayment","remainingCount","fullDescription","isFullScreen","screenOrientation","screen","orientation","tcplayerInstance","document","addEventListener","handleFullscreenChange","handleOrientationChange","setInterval","res","fullPath","dispose","removeEventListener","forbidClick","priceResponse","fullscreenElement","exitFullscreen","$set","filter","clear","src","getVideoType","fullDesc","firstEpisode","initTcplayer","makePaymentResponse","packageEpisodes","map","signalOrderResponse","payResponse","oId","vipOrderResponse","handleVideoEnded","currentIndex","findIndex","nextEpisode","wasFullScreen","toggleFullScreen","requestFullscreen","isIOS","test","navigator","userAgent","MSStream","webkitDisplayingFullscreen","Boolean","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement","unlock","$nextTick","container","getElementById","tagName","TcPlayer","licenseUrl","autoplay","controls","width","useH5Prism","techOrder","sources","extension","pop","toLowerCase","typeMap","m3u8","flv","mp4","mpd","webm","options","singlePrice","priority","maxOption","sort","a","b","getOptionData","userAvatar","mail","handlePlayHistoryScroll","playHistory","loadingPlayHistory","item","lastPlayTime","handlePaymentScroll","paymentHistory","loadingOrders","getPaymentType","payPrice","payCurrency","time","handleLogout","playHistoryPage","orderPage","hasMorePlays","hasMoreOrders","loadPlayHistory","loadOrders","charAt","toUpperCase","e","target","scrollLeft","abs","scrollWidth","clientWidth","types","go","Vue","Router","router","routes","HomePage","PlayerPage","meta","requiresAuth","PlayerHPage","MePage","LoginPage","RegisterPage","PaymentPage","beforeEach","to","from","next","isAuthenticated","matched","some","record","h","App","$mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","m","deferred","O","result","chunkIds","notFulfilled","Infinity","i","fulfilled","j","Object","keys","every","splice","r","n","getter","__esModule","d","definition","o","defineProperty","enumerable","g","globalThis","Function","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}