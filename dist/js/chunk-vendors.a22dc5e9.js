(self["webpackChunkmicro_drama"]=self["webpackChunkmicro_drama"]||[]).push([[504],{1656:function(e,t,r){"use strict";function n(e,t,r,n,i,o,a,s){var c,l="function"===typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=r,l._compiled=!0),n&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),a?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},l._ssrRegister=c):i&&(c=s?function(){i.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:i),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(e,t){return c.call(t),u(e,t)}}else{var p=l.beforeCreate;l.beforeCreate=p?[].concat(p,c):[c]}return{exports:e,options:l}}r.d(t,{A:function(){return n}})},2241:function(){},4250:function(e,t,r){"use strict";function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t,r=1;r<arguments.length;r++)for(var n in t=arguments[r],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},n.apply(this,arguments)}r(8992),r(8872);var i=["attrs","props","domProps"],o=["class","style","directives"],a=["on","nativeOn"],s=function(e){return e.reduce((function(e,t){for(var r in t)if(e[r])if(-1!==i.indexOf(r))e[r]=n({},e[r],t[r]);else if(-1!==o.indexOf(r)){var s=e[r]instanceof Array?e[r]:[e[r]],l=t[r]instanceof Array?t[r]:[t[r]];e[r]=[].concat(s,l)}else if(-1!==a.indexOf(r))for(var u in t[r])if(e[r][u]){var p=e[r][u]instanceof Array?e[r][u]:[e[r][u]],d=t[r][u]instanceof Array?t[r][u]:[t[r][u]];e[r][u]=[].concat(p,d)}else e[r][u]=t[r][u];else if("hook"===r)for(var h in t[r])e[r][h]=e[r][h]?c(e[r][h],t[r][h]):t[r][h];else e[r]=t[r];else e[r]=t[r];return e}),{})},c=function(e,t){return function(){e&&e.apply(this,arguments),t&&t.apply(this,arguments)}};e.exports=s},85:function(module,__unused_webpack_exports,__webpack_require__){__webpack_require__(4114),__webpack_require__(6573),__webpack_require__(8100),__webpack_require__(7936),__webpack_require__(7467),__webpack_require__(4732),__webpack_require__(9577),__webpack_require__(8992),__webpack_require__(3215),__webpack_require__(4520),__webpack_require__(2577),__webpack_require__(3949),__webpack_require__(1454),__webpack_require__(8872),__webpack_require__(7550),__webpack_require__(4979),__webpack_require__(4603),__webpack_require__(7566),__webpack_require__(8721),function(e){module.exports=e()}((function(){var define,module,exports;return function e(t,r,n){function i(a,s){if(!r[a]){if(!t[a]){var c=void 0;if(!s&&c)return require(a,!0);if(o)return o(a,!0);throw(s=new Error("Cannot find module '"+a+"'")).code="MODULE_NOT_FOUND",s}c=r[a]={exports:{}},t[a][0].call(c.exports,(function(e){return i(t[a][1][e]||e)}),c,c.exports,e,t,r,n)}return r[a].exports}for(var o=void 0,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(e,t,r){var n,i,o=Object.defineProperty,a=(e,t,r)=>{return n=r,(t="symbol"!=typeof t?t+"":t)in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,r;var n},s=(Object.defineProperties(r,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}}),{exports:{}}),c={exports:{}};function l(){var e,t,r;return i||(i=1,Date.now=Date.now||function(){return(new Date).getTime()},e=Date.now(),r={noop:t=function(){},warn:(()=>{var e="object"==typeof console?console.warn:t;try{var r={warn:e};r.warn.call(r)}catch{return t}return e})(),key:"__bl",selfErrKey:"ARMS_SDK_ERROR",selfErrPage:"ARMSSDK",win:"object"==typeof window&&window.document?window:void 0,regionMap:{cn:"https://arms-retcode.aliyuncs.com/r.png?",sg:"https://arms-retcode-sg.aliyuncs.com/r.png?",sg_2:"https://retcode-sg-lazada.arms.aliyuncs.com/r.png?",daily:"http://arms-retcode-daily.alibaba.net/r.png?",daily_2:"https://arms-retcode-daily.alibaba.net/r.png?",daily_3:"http://arms-retcode-daily.aliyun.test/r.png?",us:"https://retcode-us-west-1.arms.aliyuncs.com/r.png?",tw:"https://arms-retcode.orientalgame.com.tw/r.png?",tw_sg:"https://arms-retcode-sg.orientalgame.com.tw/r.png?",hz_finance:"https://arms-retcode-hz-finance.aliyuncs.com/r.png?"},defaultImgUrl:"https://arms-retcode.aliyuncs.com/r.png?",createObject:function(e){var t;return Object.create?Object.create(e):((t=function(){}).prototype=e,new t)},each:function(e,t){var r=0,n=e.length;if(this.T(e,"Array"))for(;r<n&&!1!==t.call(e[r],e[r],r);r++);else for(r in e)if(!1===t.call(e[r],e[r],r))break;return e},safetyCall:function(e,t,r){if("function"!=typeof e)return r;try{return e.apply(this,t)}catch{return r}},T:function(e,t){return e=Object.prototype.toString.call(e).substring(8).replace("]",""),t?e===t:e},duration:function(){var e=Date;try{performance&&this.T(performance.now,"Function")&&(e=performance)}catch{e=Date}var t=e.now();return function(){return Math.round(e.now()-t)}},filterByRule:function(){var e,t,r,n,i,o=[].slice.call(arguments),a=o.length;return a<2?o[0]:(e=o[a-1],(t=o[0])?e?(n=(r=this).T(e),i=o.slice(0,a-1),"Function"===n?r.safetyCall(e,i,t):"Array"===n?(this.each(e,(function(e){i[0]=t=r.filterByRule.apply(r,[].concat(i,e))})),t):"Object"===n?t.replace(e.rule,e.target||""):t.replace(e,"")):t:"")},ignoreByRule:function(e,t){if(!e||!t)return!1;if((this.isString(t)||t.source||"Function"===this.T(t))&&(t=[t]),!this.isArray(t))return this.warn("[arms] invalid rules of ignore config, (list of) String/RegExp/Funcitons are available"),!1;for(var r,n=[],i=0,o=t.length;i<o;i++)if(r=t[i],this.isString(r))n.push(r.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1"));else if(r&&r.source)n.push(r.source);else if(r&&"Function"===this.T(r)&&!0===this.safetyCall(r,[e],!1))return!0;var a=new RegExp(n.join("|"),"i");return!!(n.length&&a.test&&a.test(e))},J:function(e){if(!e||"string"!=typeof e)return e;var t=null;try{t=JSON.parse(e)}catch{}return t},pick:function(e){return 1===e||1===Math.ceil(Math.random()*e)},verifyConfig:function(e){var t,r;return"sample"in e&&(1<=(r=0<(r=(r=t=e.sample)&&/^\d+(\.\d+)?%$/.test(t)?parseInt(100/parseFloat(t)):r)&&r<1?parseInt(1/r):r)&&r<=100?e.sample=r:delete e.sample),e},on:function(e,t,r,n,i){return e.addEventListener?(i=i||!1,e.addEventListener(t,(function o(a){n&&e.removeEventListener(t,o,i),r.call(this,a)}),i)):e.attachEvent&&e.attachEvent("on"+t,(function i(o){n&&e.detachEvent("on"+t,i),r.call(this,o)})),this},off:function(e,t,r){return r&&(e.removeEventListener?e.removeEventListener(t,r):e.detachEvent&&e.detachEvent(t,r)),this},delay:function(e,t){return-1===t?(e(),null):setTimeout(e,t||0)},ext:function(e){for(var t=1,r=arguments.length;t<r;t++){var n,i=arguments[t];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},sub:function(e,t){var r={};return this.each(e,(function(e,n){-1!==t.indexOf(n)&&(r[n]=e)})),r},uu:function(){for(var e,t,r=20,n=new Array(r),i=Date.now().toString(36).split("");0<r--;)t=(e=36*Math.random()|0).toString(36),n[r]=e%3?t:t.toUpperCase();for(var o=0;o<8;o++)n.splice(3*o+2,0,i[o]);return n.join("")},guid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},seq:function(){return(e++).toString(36)},decode:function(e){try{e=decodeURIComponent(e)}catch{}return e},encode:function(e,t){try{e=t?encodeURIComponent(e).replace(/\(/g,"%28").replace(/\)/g,"%29"):encodeURIComponent(e)}catch{}return e},serialize:function(e){var t,r=[];for(t in e=e||{})Object.prototype.hasOwnProperty.call(e,t)&&void 0!==e[t]&&r.push(t+"="+this.encode(e[t],"msg"===t));return r.join("&")},checkAPI:function(e,t){var r;return!(!e||"string"!=typeof e||(!(r=/arms-retcode[\w-]*\.aliyuncs/.test(e))&&t?/(alicdn\.com)|(mmstat\.com)/.test(e):r))},checkAutoError:function(e){return!(!e||!e.message||/failed[\w\s]+fetch/i.test(e.message))},cutUrlSearch:function(e){return e&&"string"==typeof e?e.replace(/^(https?:)?\/\//,"").replace(/\?.*$/,""):""},removeUrlSearch:function(e){return e&&"string"==typeof e?e.replace(/\?.*$/,""):""},createFakeToString:function(e){return function(){return e+"() { [native code] }"}},checkSameOrigin:function(e,t){var r;return!(!t||!e||(r="//"+t.split("/")[2],e!==t&&e.slice(0,t.length+1)!==t+"/"&&e!==r&&e.slice(0,r.length+1)!==r+"/"&&/^(\/\/|http:|https:).*/.test(e)))},getRandIP:function(){for(var e=[],t=0;t<4;t++){var r=Math.floor(256*Math.random());e[t]=(15<r?"":"0")+r.toString(16)}return e.join("").replace(/^0/,"1")},getSortNum:function(e){return e?1e3<=(e+=1)&&e<=9999?e:e<1e3?e+1e3:e%1e4+1e3:1e3},getRandNum:function(e){return!e||"string"!=typeof e||e.length<5?this.getNum(5):e.substring(e.length-5)},getNum:function(e){for(var t=[],r=0;r<e;r++){var n=Math.floor(16*Math.random());t[r]=n.toString(16)}return t.join("")},getCurDomain:function(){return location&&location.hostname||""},getSrcType:function(e,t){var r=location&&location.host||"";if(!r)return"";var n=new URL(e).host;if(n===r)return"self";for(var i=0;i<t.length;i+=1)if(n.includes(t[i]))return"cdn";return"others"},parseFetchHeaders:function(e){if(!e)return{};var t={};try{if("function"==typeof e.keys)for(var r=e.keys(),n=r.next();!n.done;){var i=n.value;t[i]=e.get(i),n=r.next()}else t=e}catch{t={}}return t},parseXhrHeaders:function(e){if(!e&&"string"!=typeof e)return{};var t={};try{t=e.split("\r\n").reduce((function(e,t){return t=t.split(": "),e[t[0]]=t[1],e}),{})}catch{t={}}return t},getQuerys:function(e){if(!e)return"";var t,r,n,i={};try{var o=[];if(0<(o=0<=e.indexOf("?")?e.substring(e.indexOf("?")+1,e.length).split("&"):o).length)for(var a in o)r=(t=o[a].split("="))[0],n=t[1],i[r]=n}catch{i={}}return i},getURL:function(e){if(!e)return null;var t={},r=e.length,n=e.indexOf("://");if(n<0)return null;t.protocol=e.substring(0,n+1);var i=e.indexOf("#"),o=e.indexOf("?");i<0&&(i=r),o<0&&(o=i),t.search=e.substring(o,i).substring(0,1e3),r=e.substring(n+3,o),i=r.indexOf("/");return i<0&&(i=r.length),t.domain=r.substring(0,i).split(":")[0],t.path=r.substring(i,r.length).substring(0,1e3),t},getResType:function(e,t){if(-1<["script","img","other"].indexOf(e))return e;if(-1<["video"].indexOf(e))return"media";if(-1<["document","iframe"].indexOf(e))return"doc";t=t?this.getURL(t):null;var r=t&&t.path?t.path.lastIndexOf("."):-1;t=(0<r?t.path.substr(r+1):"").toLowerCase();if(t){if(-1<["eot","woff","woff2","ttf"].indexOf(t))return"font";if("css"===t)return"css";if("js"===t)return"script"}return-1<["fetch","xmlhttprequest","beacon"].indexOf(e)?"api":"others"},areInOrder:function(){for(var e=1;e<arguments.length;e+=1)if(arguments[e]<arguments[e-1])return!1;return!0},getFetchSnapshot:function(e,t,r){try{var n=(e&&"string"!=typeof e[0]?e[0].url:e[0])||"",i=(e&&"string"!=typeof e[0]?e[0]:e[1])||{},o="POST"===i.method.toUpperCase()?i.body:this.getQuerys(n),a={originApi:n,method:i.method||"unknown",params:o,response:t||"",reqHeaders:this.parseFetchHeaders(i.headers||null),resHeaders:this.parseFetchHeaders(r)},s=JSON&&JSON.stringify(a)||"{}"}catch{s="{}"}return s},getXhrSnapshot:function(e,t,r){if(!e||!t||!r)return{};var n,i;try{var o="";""===r.responseType||"text"===r.responseType?o=r.responseText:"document"===r.responseType&&(o=r.responseXML),n={originApi:e,method:t,params:this.getQuerys(e),response:o,reqHeaders:{},resHeaders:this.parseXhrHeaders("function"==typeof r.getAllResponseHeaders&&r.getAllResponseHeaders()||"")},i=JSON&&JSON.stringify(n)||"{}"}catch{i="{}"}return i},isRobot:function(){var e=["nuhk","googlebot/","googlebot-image","yammybot","openbot","slurp","msnbot","ask jeeves/teoma","ia_archiver","baiduspider","bingbot/","adsbot"];if(navigator&&"string"==typeof navigator.userAgent)try{for(var t=navigator.userAgent.toLowerCase(),r=0;r<e.length;r++){var n=e[r];if(0<=t.lastIndexOf(n))return!0}}catch{this.warn("[arms] useragent parse error")}return!1},isFunction:function(e){return"function"==typeof e},isPlainObject:function(e){return"[object Object]"===Object.prototype.toString.call(e)},isString:function(e){return"[object String]"===Object.prototype.toString.call(e)},isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},joinRegExp:function(e){for(var t,r=[],n=0,i=e.length;n<i;n++)t=e[n],this.isString(t)?r.push(t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):t&&t.source&&r.push(t.source);return new RegExp(r.join("|"),"i")},reWriteMethod:function(e,t,r){var n;null!==e&&(n=e[t],e[t]=r(n))},checkSDKError:function(e,t){return!(!e&&!t||!new RegExp(this.selfErrKey,"i").test(e)&&!this.ignoreByRule(t,[/retcode.alicdn.com\/retcode\/bl.js/,/g.alicdn.com\/retcode\/cloud-sdk\/bl.js/,/laz-g-cdn.alicdn.com\/retcode\/cloud-sdk\/bl.js/,/local.taobao.com:8880\/build\/bl/]))},sdkError:function(e){return{msg:e,message:this.selfErrKey}},dealParam:function(e,t,r){var n={};try{n=this.isPlainObject(e)?this.ext({key:e.key||"default",val:e.val||e.value||r},e,{begin:Date.now()}):{key:e||"default",val:t||r,begin:Date.now()}}catch(e){this.warn("[retcode] baseLog error: "+e)}return n}},n=r),n}var u,p,d,h,f={exports:{}},y={exports:{}};function g(){var e,t,r,n,i,o;return d||(d=1,e=l(),p||(p=1,o=l(),u=function(e,t,r){"object"==typeof e&&(e=o.serialize(e)),window&&window.navigator&&"function"==typeof window.navigator.sendBeacon?window.navigator.sendBeacon(t+e+(r?"&post_res=":""),r||"&post_res="):o.warn("[arms] navigator.sendBeacon not surported")}),t=u,r="aokcdqn3ly@e629dabd48a9933",n=function(t,r){var n,i,o;if("error"!==r.t||!(n=t.requestQueue[0])||"error"!==n.t||r.msg!==n.msg)return"behavior"===r.t?0<(i=t.requestQueue&&t.requestQueue.length)&&"behavior"===t.requestQueue[i-1].t?(o=r.behavior||[],t.requestQueue[i-1].behavior.concat(o)):t.requestQueue.push(r):t.requestQueue.unshift(r),t.onReady((function(){t.requestTimmer=e.delay((function(){t.clear()}),t.requestQueue[0]&&"error"===t.requestQueue[0].t?3e3:-1)})),!0;r.times=n.times+1,t.requestQueue[0]=r},(i=function(t){return this.ver="1.8.36-beta.12",this._conf=e.ext({},i.dftCon),this.sampleCache={},this.requestQueue=[],this.selfQueue=[],this.sdkFlag=!0,this.hash=e.seq(),this.resetPageview(),this.setConfig(t),this.rip=e.getRandIP(),this.record=999,this["EagleEye-TraceID"]=this.getTraceId()["EagleEye-TraceID"],this._common={},this}).dftCon={sample:1,pvSample:1,tag:"",imgUrl:"https://arms-retcode.aliyuncs.com/r.png?",region:null,ignore:{ignoreUrls:[],ignoreApis:[],ignoreErrors:[/^Script error\.?$/],ignoreResErrors:[],ignoreResources:[/\/(bl|wl)(.debug)?.js$/]},release:void 0,environment:"prod",beforeReport:null,parseTraceId:null},i.prototype={constructor:i,onReady:function(e){return e()},getPage:function(){var t=this._conf.page;return e.safetyCall(t,[],t+"")},setPage:function(){},setConfig:function(t){t&&"object"==typeof t&&(e.verifyConfig(t),t=this.setImgUrl(t),this._conf=e.ext({},this._conf,t))},setImgUrl:function(t){var r=t.region,n=t.imgUrl;return r?(r=e.regionMap[r],t.imgUrl=r||e.defaultImgUrl):n&&(t.imgUrl=n),t},checkImgUrl:function(){return!0},sendRequest:function(){},sendBeacon:function(e,r,n){t(e,r||this.getConfig("imgUrl"),n)},postData:function(){},commonInfo:function(){return{}},setCommonInfo:function(t){t&&"object"==typeof t&&(this._common=e.ext({},this._common,t))},resetPageview:function(){this.pageview=e.uu(),this.sBegin=Date.now()},getUsername:function(){if(!this.username){var t=this._conf;t=t&&t.setUsername;if("function"==typeof t)try{var r=t();"string"==typeof r&&(r=r.substr(0,40),this.username=r)}catch(t){e.warn("[arms] setUsername fail",t)}}return this.username},getTraceId:function(){var t=this.rip,r=Date.now(),n=e.getSortNum(this.record);t=t+r+n+e.getRandNum(this._conf.pid);return this["EagleEye-TraceID"]=t,this.record=n,{"EagleEye-TraceID":t}},getUberTraceId:function(t){var r=this.rip,n=Date.now(),i=e.getSortNum(this.record),o=e.getRandNum(this._conf.pid);r=r+n+i+e.getNum(2)+o,n=r.substring(0,16);return t=t?"1":"0","0"===r[0]&&(r[0]="1"),"0"===r[16]&&(r[16]="1"),{"uber-trace-id":r+":"+n+":0:"+t,traceId:r}},getB3TraceId:function(t){var r=this.rip,n=Date.now(),i=e.getSortNum(this.record),o=e.getRandNum(this._conf.pid);r=r+n+i+e.getNum(2)+o,n=r.substring(0,16);return t=t?"1":"0","0"===r[0]&&(r[0]="1"),"0"===r[16]&&(r[16]="1"),{b3:r+"-"+n+"-"+t+"-0","X-B3-TraceId":r,"X-B3-ParentSpanId":"0","X-B3-SpanId":n,"X-B3-Sampled":t}},getPageviewId:function(){return{"EagleEye-SessionID":this.pageview}},getConfig:function(t){return t?this._conf[t]:e.ext({},this._conf)},sampling:function(t){return 1===t||("boolean"==typeof this.sampleCache[t]||(this.sampleCache[t]=e.pick(t)),this.sampleCache[t])},clear:function(e){var t;clearTimeout(this.requestTimmer),this.requestTimmer=null;for(var r,n=this._conf&&"function"==typeof this._conf.sendRequest;t=this.requestQueue.pop();)"res"===t.t?this.postData(t,"res"):"error"===t.t?this.postData(t,"err"):"api"===t.t?this.postData(t,"apiSnapshot"):"behavior"===t.t?this.postData(t,"behavior"):"health"===t.t&&!n&&window&&window.navigator&&"function"==typeof window.navigator.sendBeacon?this.sendBeacon(t):"resource"===t.t&&!n&&window&&window.navigator&&"function"==typeof window.navigator.sendBeacon?(r=JSON.stringify({resource:t.resource}),delete t.resource,this.sendBeacon(t,null,r)):"resource"===t.t?this.postData(t,"resource"):this.sendRequest(t);return e&&this.clearSelf(),this},clearSelf:function(){var e;for(clearTimeout(this.Timmer),this.Timmer=null;e=this.selfQueue.pop();)this.postData(e,"err");return this},_lg:function(t,r,i,o){var a=this,s=a._conf,c=a.getPage(),l=s.ignore||{},u=l.ignoreErrors,p=l.ignoreResErrors,d=l.ignoreUrls;l=l.ignoreApis;if(a._isRobot||e.ignoreByRule(c,d)||e.ignoreByRule(e.decode(c),d)||"error"===t&&(e.ignoreByRule(r.msg,u)||e.ignoreByRule(e.decode(r.msg),u))||"resourceError"===t&&(e.ignoreByRule(r.src,p)||e.ignoreByRule(e.decode(r.src),p))||"api"===t&&(e.ignoreByRule(r.api,l)||e.ignoreByRule(e.decode(r.api),l))||!a.checkImgUrl(s.imgUrl)||!r||s.disabled||!s.pid||0===o)return a;if(d=r.dl,delete r.dl,r=e.ext({t:t,times:1,page:c,tag:s.tag||"",release:s.release||"",environment:s.environment,begin:Date.now(),c1:s.c1,c2:s.c2,c3:s.c3},r,a.commonInfo(),a._common,{pid:s.pid,_v:a.ver,pv_id:a.pageview,username:a.getUsername(),sampling:i||1,dl:d,z:e.seq()}),"Function"===e.T(s.beforeReport))try{if(!(r=s.beforeReport(r)))return a}catch{return a}return 1!==o&&i&&!a.sampling(i)?a:n(a,r)},_self:function(t,n,i){var o=this,a=o._conf;if("error"!==t||!o.checkImgUrl(a.imgUrl)||!n||a.disabled||!a.pid||i&&!o.sampling(i))return o;if(n=e.ext({t:t,times:1,page:e.selfErrPage,tag:a.pid,begin:Date.now()},n,{pid:r,_v:o.ver,sampling:i||1,z:e.seq()}),t=o.selfQueue[0],t){t.times++;try{t.err&&n.err&&t.err.msg_raw&&n.err.msg_raw&&t.err.msg_raw.split("&").indexOf(n.err.msg_raw)<0&&t.err.msg_raw.length<1e3&&(t.err.msg_raw+="&"+n.err.msg_raw)}catch{}}else o.selfQueue.unshift(n),o.onReady((function(){o.sdkFlag&&(o.sdkFlag=!1,o.Timmer=e.delay((function(){o.clearSelf()}),1e4))}))},custom:function(t,r){var n,i;return t&&"object"==typeof t&&(n=!1,i={begin:Date.now()},e.each(t,(function(t,r){return(n=r&&r.length<=20)||e.warn("[retcode] invalid key: "+r),i["x-"+r]=t,n})),n)?this._lg("custom",i,r||1):this}},y.exports=i),y.exports}var v,_,m,b,S={exports:{}},T={exports:{}};function w(){var e;return b||(b=1,e=l(),m=function(t,r){function n(e,t,r){var n;null!==e&&(n=e[t],e[t]=r(n))}function i(e,t){return function(t){if(t&&t!==l){var r;l=t;try{r=t.target}catch{r="<unknown>"}0!==r.length&&(t={type:"ui.".concat(e),data:{message:(e=>{if(!e||1!==e.nodeType)return"";for(var t=e||null,r=[],n=0,i=0,o="";t&&n++<5&&!("html"===(o=(e=>{var t,r,n,i,o=[];if(!e||"string"!=typeof e.tagName)return"";if(o.push(e.tagName.toLowerCase()),"string"==typeof e.id&&o.push("#".concat(e.id)),"string"==typeof(t=e.className))for(r=t.split(/\s+/),s=0;s<r.length;s++)o.push(".".concat(r[s]));for(var a=["type","name","title","alt","data-arms-attr"],s=0;s<a.length;s++)"string"==typeof(i=e.getAttribute(n=a[s]))&&o.push("[".concat(n,'="').concat(i,'"]'));return o.join("")})(t))||1<n&&80<=i+3*r.length+o.length);)r.push(o),i+=o.length,t=t.parentNode;return r.reverse().join(" > ")})(r)},timestamp:Date.now()},"click"===e?a&&a.addBehavior(t):"keypress"===e&&(c||a&&a.addBehavior(t),clearTimeout(c),c=setTimeout((function(){c=void 0}),100)))}}}var o=[],a=null,s=r&&r.location&&r.location.href,c=void 0,l=null;e.ext(t.prototype,{addBehavior:function(t){if(this.getConfig("behavior")&&t&&"object"==typeof t){var n={},i=t.data||{};if(t.type)n=i;else{if("string"!=typeof i.name||"string"!=typeof i.message)return;n.name=i.name.substr(0,20),n.message=i.message.substr(0,200)}return n.message&&(n.message=e.encode(n.message)),i={type:t.type||"custom",data:n||{},timestamp:t.timestamp||Date.now(),page:t.page||r&&r.location&&r.location.pathname},o.push(i),o=o.slice(-100)}},getBehavior:function(){return o||[]},setBehavior:function(e){return o=e||o},reportBehavior:function(e){var t=this;t.getConfig("behavior")&&(t.sendBhTimer&&(clearTimeout(t.sendBhTimer),t.sendBhTimer=void 0),t.sendBhTimer=setTimeout((function(){o&&0<o.length&&(t.behavior(o),o=[],t.sendBhTimer=void 0,e)&&"function"==typeof e&&e()}),0))},initBehavior:function(){if(!this.hasInitBehavior&&!a){try{document&&document.referrer&&document.location&&(y=document.referrer,g=document.location.href,""!==y)&&(s=g,a)&&a.addBehavior({type:"navigation",data:{from:y,to:g}}),r&&r.document&&r.document.addEventListener&&(r.document.addEventListener("click",i("click"),!1),r.document.addEventListener("keypress",i("keypress"),!1)),h=(h=r&&r.chrome)&&h.app&&h.app.runtime,f="history"in r&&!!r.history.pushState&&!!r.history.replaceState,!h&&f&&(p=function(e,t){a&&a.addBehavior({type:"navigation",data:{from:e,to:t}}),s=t},d=r.onpopstate,r.onpopstate=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=r.location.href;if(p(s,i),d)return d.apply(this,t)},n(r.history,"pushState",h=function(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=2<r.length?r[2]:void 0;return i&&p(s,String(i)),e.apply(this,r)}}),n(r.history,"replaceState",h));var t=this.getConfig("enableConsole");if(t){var o=t;if(r&&r.console){var c=["debug","info","warn","log","error","assert"];e.isArray(o)&&(c=o);for(var l=0;l<c.length;l++){var u=c[l];u&&e.isString(u)&&r.console[u]&&"function"==typeof r.console[u]&&n(r.console,u,(function(e){var t=u;return function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];if(a&&a.addBehavior({type:"console",data:{level:t,message:i}}),"error"===t)for(var s=0;s<i.length;s++){var c=i[s];c&&c.message&&c.stack&&a&&a.errorHandler(new ErrorEvent("error",{error:c,message:c.message}))}e&&Function.prototype.apply.call(e,r.console,i)}}))}}}}catch(t){e.warn("[arms] error in initBehavior",t)}(a=this).hasInitBehavior=!0}var p,d,h,f,y,g;return this}})}),m}var E,x,k,P,C,R,A,I,O,L,D,N,M,U,j,B,F,H={};function V(){return E||(E=1,H.TIMING_KEYS=["startTime","fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","requestStart","responseStart","responseEnd","","domInteractive","","domContentLoadedEventEnd","","loadEventStart","","msFirstPaint","secureConnectionStart","redirectStart","redirectEnd"]),H}function $(){return A||(A=1,R=function(e,t,r){function n(e,t,n,i,o){if(void 0===t){var a;if(!m[e]){s=new RegExp(e+"=([^;]+)");try{a=s.exec(r.cookie)}catch(e){return u.warn("[retcode] can not get cookie:",e),null}a&&(m[e]=a[1])}return m[e]}var s=e+"="+t;s+="; path=/",n&&(s+="; max-age="+n);try{return r.cookie=s,!!r.cookie}catch(e){return u.warn("[retcode] can not set cookie: ",e),!1}}function i(e){return(e=e._conf.uid||n("_nk_")||n("_bl_uid"))||(e=u.uu(),n("_bl_uid",e,15552e3))?e:null}var o,a,s,c,u=l(),p=(k||(k=1,s=l(),c=V().TIMING_KEYS,x=function(){var e,t,r,n=s.win||{},i=n.performance;return i&&"object"==typeof i&&"function"==typeof i.getEntriesByType?(e={},t=i.timing||{},r=i.getEntriesByType("resource")||[],e.begin=t[c[1]]||Date.now(),"function"==typeof n.PerformanceNavigationTiming&&(n=i.getEntriesByType("navigation")[0])&&(t=n),s.each({dom:[10,8],load:[14,1]},(function(r,n){var i=t[c[r[1]]];r=t[c[r[0]]];0<i&&0<r&&0<=(r=Math.round(r-i))&&r<6e5&&(e[n]=r)})),e.res=JSON.stringify(r),e):null}),x),d=(C||(C=1,o=l(),a=V().TIMING_KEYS,P=function(){var e,t,r,n,i,s=o.win||{},c=s.performance;return c&&"object"==typeof c?(e={},t=c.timing||{},r=Date.now(),n=1,"function"==typeof s.PerformanceNavigationTiming&&(i=c.getEntriesByType("navigation")[0])&&(t=i,n=2),o.each({dns:[3,2],tcp:[5,4],ssl:[5,17],ttfb:[7,6],trans:[8,7],dom:[10,8],res:[14,12],firstbyte:[7,2],fpt:[8,1],tti:[10,1],ready:[12,1],load:[14,1]},(function(r,i){var o=t[a[r[1]]];r=t[a[r[0]]];(2===n||0<o&&0<r)&&0<=(r=Math.round(r-o))&&r<6e5&&(e[i]=r)})),i=s.navigator.connection,s=c.navigation||{},e.ct=i?i.effectiveType||i.type:"",(c=999<(c=i&&(i.downlink||i.downlinkMax||i.bandwidth)||null)?999:c)&&(e.bandwidth=c),e.navtype=1===s.type?"Reload":"Other",1===n&&0<t[a[16]]&&0<t[a[1]]&&0<=(i=t[a[16]]-t[a[1]])&&i<36e5&&(e.fpt=i),1===n&&0<t[a[1]]?e.begin=t[a[1]]:e.begin=2===n&&0<e.load?r-e.load:r,e):null}),P),h=null,f=r.documentElement,y=t.innerWidth||f.clientWidth||r.body.clientWidth,g=t.innerHeight||f.clientHeight||r.body.clientHeight,v=t.navigator.connection,_={sr:screen.width+"x"+screen.height,vp:y+"x"+g,ct:v?v.effectiveType||v.type:""},m={};return u.ext(e.prototype,{activeErrHandler:function(e){return h&&!e||(h=this),this},errorHandler:function(e){if(e){var t,r=e.type;"error"===r?!(t=e.target||e.srcElement)||!t.tagName||e.message||e.filename||e.lineno||e.colno?this.error(e.error||{message:e.message},e):this.resourceErrorHandler(e):"unhandledrejection"===r&&u.T(e.reason,"Error")&&u.checkAutoError(e.reason)&&this.error(e.reason);try{this.getConfig("behavior")&&this.reportBehavior&&this.reportBehavior()}catch{}}return this},resourceErrorHandler:function(e){var t=this,r=e.target||e.srcElement;try{var n=t.getSrc(r),i="string"==typeof r.tagName?r.tagName.toLowerCase():"",o=t.getXPath(r,5),a=u.getURL(n),s={src:n&&n.substring(0,1e3),node_name:i,xpath:o,res_type:u.getResType(i,n),res_name:a.path,domain:a.domain};return t._conf.enableResource&&t.fixResourceStatus&&e.timeStamp&&t.fixResourceStatus({src:n,node_name:i,res_type:u.getResType(i,n),timeStamp:e.timeStamp,domain:a.domain}),t._lg("resourceError",s),t}catch(e){return u.warn("[ARMS] resourceErrorHandler error :",e),t}},getSrc:function(e){var t,r,n=e.src||e.href;try{n||(t="object"===("string"==typeof e.tagName?e.tagName.toLowerCase():""),r=e.getAttribute("classid")&&"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"===e.getAttribute("classid").toLowerCase()||"application/x-shockwave-flash"===e.getAttribute("type"),n=(n=t&&r?e.getAttribute("data")||e.getAttribute("codebase"):n)||e.outerHTML||e.innerHTML)}catch{n=""}return n},getXPath:function(e,t){var r=e.id?"#"+e.id:"",n="string"==typeof e.className?"."+e.className.split(" ").join("."):"";r=("string"==typeof e.tagName?e.tagName.toLowerCase():"")+r+n;return e.parentNode&&e.parentNode.tagName&&t-1!=0?this.getXPath(e.parentNode,t-1)+" > "+r:r},sendPerformance:function(e){var t=this;t.onReady((function(){var r=d();r&&r.load&&0<r.load&&(r.page=t.getPage(!0),(r=e?u.ext(r,e):r).autoSend=!0,t.performance(r))}))},sendResources:function(e){var t=this;t.onReady((function(){var r=p();r&&r.load&&0<r.load&&(r.load&&r.load<=2e3||r.load&&r.load<=8e3&&.05<Math.random()||(r.page=t.getPage(!0),r.dl=location.href,e&&(r=u.ext(r,e)),t._lg("res",r,t.getConfig("sample"))))}))},sendPV:function(){var e=this;e.onReady((function(){o=i(e),n=t.devicePixelRatio||1;var n,o={uid:o,dt:r.title,dl:location.href,dr:r.referrer,dpr:n.toFixed(2),de:(r.characterSet||r.defaultCharset||"").toLowerCase(),ul:f.lang,begin:Date.now()};o.uid&&e._lg("pv",o,e.getConfig("pvSample"))}))},commonInfo:function(){return _.uid=i(this),_.sid=(e=>{if(e.session)return e.session;var t;try{if("object"==typeof window&&"object"==typeof sessionStorage&&"function"==typeof sessionStorage.getItem)return"string"==typeof(t=sessionStorage.getItem("_bl_sid"))?e.session=t:(t=u.uu(),e.session=t,"function"==typeof sessionStorage.setItem&&sessionStorage.setItem("_bl_sid",t)),t}catch(e){u.warn("[ARMS] getSid error :",e)}return e.session=t=u.uu(),t})(this),_},handleUnload:function(e){var t=Date.now();if(t-this._lastUnload<200)return this;this._lastUnload=t,this.sendHealth(e),this.speedCache&&(this._lg("speed",this.speedCache),this.speedCache=null,clearTimeout(this.speedTimmer)),this._conf&&this._conf.enableResource&&this.resourceComboReport(),this.clear(!0)},bindHashChange:function(e){var r=this;if(!e^r.hashChangeHandler)return r;e?(r.hackHistoryState(),r.hashChangeHandler=function(e){var t=r._conf.parseHash(location.hash);t&&r.setPage(t,!1!==e)},r.stateChangeHandler=function(e){e=r._conf.parseHash(e.detail),e&&r.setPage(e)},u.on(t,"hashchange",r.hashChangeHandler),u.on(t,"historystatechange",r.stateChangeHandler),r.hashChangeHandler(!1)):(u.off(t,"hashchange",r.hashChangeHandler),u.off(t,"historystatechange",r.stateChangeHandler),r.hashChangeHandler=null,r.stateChangeHandler=null)},initHandler:function(){var e,r=this;return r.hasInitHandler||(e=r._conf,u.on(t,"beforeunload",(function(){r.handleUnload(0)})),r.bindHashChange(e.enableSPA),r.activeErrHandler(!1),r.hasInitHandler=!0),r}}),u.on(t,"error",(function(e){h&&h.errorHandler(e)}),!1,!0).on(t,"unhandledrejection",(function(e){h&&h.errorHandler(e)})),e}),R}function q(){var e,t;return O||(O=1,e=l(),t=500,I=function(r,n,i){var o=n.innerHeight||0,a=[],s=null,c=0;e.ext(r.prototype,{initFmpObserver:function(t){var r=this;if(!r._conf||!r._conf.useFmp)return null;if(!n.MutationObserver)return e.warn("[retcode] first meaningful paint can not be retrieved"),r.sendPerformance(),null;e.on(n,"beforeunload",(function(){r.endObserving(0,!0)}));var l=n.MutationObserver;return(s=new l((function(){var e,t,n;e=r._startTime,e=Date.now()-e,(n=i.querySelector("body"))?(t=0,t+=function e(t,r,n){var i=0,a=t.tagName;if("SCRIPT"!==a&&"STYLE"!==a&&"META"!==a&&"HEAD"!==a){if(0<(a=t.children?t.children.length:0))for(var s=t.children,c=a-1;0<=c;c--)i+=e(s[c],r+1,0<i);if(i<=0&&!n&&!(t.getBoundingClientRect&&t.getBoundingClientRect().top<o))return 0;i+=1+.5*r}return i}(n,1,!1),a.push({score:t,t:e})):a.push({score:0,t:e})}))).observe(document,{childList:!0,subtree:!0}),c=1,r.onReady((function(){r.endObserving(t)})),s},endObserving:function(r,n){var i=this;if(s&&c)if(i.fmpTimmer&&(clearTimeout(i.fmpTimmer),i.fmpTimmer=null),n||!((e,r)=>(e=Date.now()-e,!(r<e||e-(a&&a.length&&a[a.length-1].t||0)>2*t)))(i._startTime,r)){s.disconnect(),c=0,a=function e(t){for(var r=1;r<t.length;r++)if(t[r].score<t[r-1].score)return t.splice(r,1),e(t);return t}(a);for(var o,l=null,u=1;u<a.length;u++)a[u].t>=a[u-1].t&&(o=a[u].score-a[u-1].score,!l||l.rate<=o)&&(l={t:a[u].t,rate:o});l&&0<l.t&&l.t<36e5?i.sendPerformance({fmp:l.t}):i.sendPerformance()}else i.fmpTimmer=e.delay((function(){i.endObserving(r)}),t)}})}),I}function W(){return D||(D=1,L=function(e,t){function r(e,t,r,i,a,s,c,l,u,p,d,h,f){a=n.J(a)||null,(t=n.safetyCall(t,[a,i],null))&&(a=t.code||s,i=!("success"in t)||t.success,e.api(r,i,c,a,t.msg,l,u,p,i?{}:d,o,h,f))}var n=l(),i=null,o=n.getCurDomain(),a="fetch",s="__oFetch_",c="__oXMLHttpRequest_",u="XMLHttpRequest";return n.ext(e.prototype,{removeHook:function(e,r){return i&&(r||this===i)&&(t[s]&&(t[a]=t[s],delete t[s]),t[c]&&(t[u]=t[c],delete t[c]),i=null),this},addHook:function(e){return!e&&i||(i||("function"==typeof t[a]&&(h=t[a],t[s]=h,t[a]=function(e,a){var s=1===arguments.length?[e]:Array.apply(null,arguments),c=i;if(!c||!c.api||a&&("HEAD"===a.method||"no-cors"===a.mode))return h.apply(t,s);a=a||{};var l=Date.now(),u=c._conf,p=n.duration(),d=f=(e&&"string"!=typeof e?e.url:e)||"",f=n.cutUrlSearch(f),y=(u.ignore||{}).ignoreApis,g=u.parseTraceId;if(!n.checkAPI(f,!0)||n.ignoreByRule(f,y))return h.apply(t,s);f=n.filterByRule(f,d,u.ignoreApiPath||u.apiHelper);y=u.enableLinkTrace;var v="",_="",m=c.getConfig("pid"),b=null,S=c.getConfig("sample"),T=c.getConfig("linkType"),w=1;if(S&&!c.sampling(S)&&(w=0),y){S="";try{S=location.origin||location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")}catch{S=""}var E;y=n.checkSameOrigin(d,S);if(c.getConfig("enableApiCors")||y)if(e&&"string"!=typeof e)try{if(s[0].headers&&"function"==typeof s[0].headers.get&&"function"==typeof s[0].headers.append)switch(T){case"arms":var x=s[0].headers.get("EagleEye-TraceID"),k=s[0].headers.get("EagleEye-SessionID"),P=s[0].headers.get("EagleEye-pAppName");x?v=x:(v=c.getTraceId()["EagleEye-TraceID"],s[0].headers.append("EagleEye-TraceID",v)),k?_=k:(_=c.getPageviewId()["EagleEye-SessionID"],s[0].headers.append("EagleEye-SessionID",_)),P||s[0].headers.append("EagleEye-pAppName",m);break;case"b3":var C,R=s[0].headers.get("X-B3-TraceId");v=R||(C=c.getB3TraceId(w),s[0].headers.append("X-B3-TraceId",C["X-B3-TraceId"]),s[0].headers.append("X-B3-ParentSpanId",C["X-B3-ParentSpanId"]),s[0].headers.append("X-B3-SpanId",C["X-B3-SpanId"]),s[0].headers.append("X-B3-Sampled",C["X-B3-Sampled"]),s[0].headers.append("X-Request-ID",n.guid()),C["X-B3-TraceId"]),_=c.pageview;break;default:var A=s[0].headers.get("uber-trace-id");v=A?A.split(":")[0]:(A=c.getUberTraceId(w),s[0].headers.append("uber-trace-id",A["uber-trace-id"]),A.traceId),_=c.pageview}}catch(e){n.warn("[retcode] fetch failed to set header, exception is :\n"+e)}else switch(a.headers=a.headers||{},T){case"arms":a.headers["EagleEye-TraceID"]?v=a.headers["EagleEye-TraceID"]:(v=c.getTraceId()["EagleEye-TraceID"],a.headers["EagleEye-TraceID"]=v),a.headers["EagleEye-SessionID"]?_=a.headers["EagleEye-SessionID"]:(_=c.getPageviewId()["EagleEye-SessionID"],a.headers["EagleEye-SessionID"]=_),a.headers["EagleEye-pAppName"]||(a.headers["EagleEye-pAppName"]=m);break;case"b3":v=a.headers["X-B3-TraceId"]||(E=c.getB3TraceId(w),a.headers["X-B3-TraceId"]=E["X-B3-TraceId"],a.headers["X-B3-ParentSpanId"]=E["X-B3-ParentSpanId"],a.headers["X-B3-SpanId"]=E["X-B3-SpanId"],a.headers["X-B3-Sampled"]=E["X-B3-Sampled"],a.headers["X-Request-ID"]=n.guid(),E["X-B3-TraceId"]),_=c.getPageviewId()["EagleEye-SessionID"];break;default:v=a.headers["uber-trace-id"]?a.headers["uber-trace-id"].split(":")[0]:(E=c.getUberTraceId(w),a.headers["uber-trace-id"]=E["uber-trace-id"],E.traceId),_=c.getPageviewId()["EagleEye-SessionID"]}}return h.apply(t,s).then((function(e){if(!c||!c.api)return e;try{if(e&&"function"==typeof e.clone){var t=e.clone(),a=t.headers;if(a&&"function"==typeof a.get){var h,y=a.get("content-type");if(y&&!/(text)|(json)/.test(y))return e;v||"object"==typeof(h=n.parseFetchHeaders(a))&&h["eagleeye-traceid"]&&(v=h["eagleeye-traceid"],b="response")}var m=p();t.text().then((function(e){!v&&n.isFunction(g)&&(p=g(t,e))&&n.isString(p)&&(v=p);var p=n.getFetchSnapshot(s,e,a);t.ok?r(c,u.parseResponse,f,d,e,t.status||200,m,l,v,_,p,b,w):(c.api(f,!1,m,t.status||404,t.statusText,l,v,_,p,o,b,w),u.enableResource&&i.fixResourceStatus&&i.fixResourceStatus({src:t.url,res_type:"api"}))}))}return e}catch(h){return n.warn("[ARMS] fetch response error :",h),e}})).catch((function(e){var t;throw c&&c.api&&(t=p(),c.api(f,!1,t,e.name||"Error",e.message,l,v,_,{},o),u.enableResource)&&i.fixResourceStatus&&i.fixResourceStatus({src:d,res_type:"api"}),e}))},t[a].toString=n.createFakeToString(a)),"function"==typeof t[u]&&(p=t[u],t[c]=p,(d=function(e){var t,a,s,c,u,d,h,f,y,g,v,_,m,b,S,T,w,E=new p(e),x=i;return x&&x.api&&E.addEventListener&&(u=E.send,d=E.open,h=E.setRequestHeader,f=x._conf,y=(f.ignore||{}).ignoreApis,g=f.parseTraceId,v=x.getConfig("enableLinkTrace"),b=m=_="",S=null,e=x.getConfig("sample"),T=x.getConfig("linkType"),w=1,e&&!x.sampling(e)&&(w=0),E.open=function(e,t){if(l=e,e=1===arguments.length?[e]:Array.apply(null,arguments),d.apply(E,e),c=t||"",s=n.cutUrlSearch(c),e=!n.checkAPI(s,!0)||n.ignoreByRule(s,y),s=s?n.filterByRule(s,c,f.ignoreApiPath||f.apiHelper):"",!e&&v){t="";try{t=location.origin||location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")}catch{t=""}if(e=n.checkSameOrigin(c,t),(x.getConfig("enableApiCors")||e)&&h&&"function"==typeof h)switch(T){case"arms":_=x.getTraceId()["EagleEye-TraceID"],h.apply(E,["EagleEye-TraceID",_]),m=x.getPageviewId()["EagleEye-SessionID"],h.apply(E,["EagleEye-SessionID",m]),b=x.getConfig("pid"),h.apply(E,["EagleEye-pAppName",b]);break;case"b3":var r=x.getB3TraceId(w);h.apply(E,["X-B3-TraceId",r["X-B3-TraceId"]]),h.apply(E,["X-B3-ParentSpanId",r["X-B3-ParentSpanId"]]),h.apply(E,["X-B3-SpanId",r["X-B3-SpanId"]]),h.apply(E,["X-B3-Sampled",r["X-B3-Sampled"]]),h.apply(E,["X-Request-ID",n.guid()]),_=r["X-B3-TraceId"],m=x.getPageviewId()["EagleEye-SessionID"];break;default:r=x.getUberTraceId(w),h.apply(E,["uber-trace-id",r["uber-trace-id"]]),_=r.traceId,m=x.getPageviewId()["EagleEye-SessionID"]}}},E.send=function(){t=Date.now(),a=n.duration();var e=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);u.apply(E,e)},n.on(E,"readystatechange",(function(){if(s&&4===E.readyState){var e=a(),u=n.getXhrSnapshot(c,l,E);if(_||"object"==typeof(p=n.parseXhrHeaders("function"==typeof E.getAllResponseHeaders&&E.getAllResponseHeaders()||""))&&p["eagleeye-traceid"]&&(_=p["eagleeye-traceid"],S="response"),!_&&n.isFunction(g)&&(p=g(E))&&n.isString(p)&&(_=p),200<=E.status&&E.status<=299){var p=E.status||200;if("function"==typeof E.getResponseHeader){var d=E.getResponseHeader("Content-Type");if(d&&!/(text)|(json)/.test(d))return}E.responseType&&"text"!==E.responseType?x.api(s,!0,e,p,"",t,_,m,{},o,S,w):r(x,f.parseResponse,s,c,E.responseText,p,e,t,_,m,u,S,w)}else x.api(s,!1,e,E.status||"FAILED",E.statusText,t,_,m,u,o,S,w),f.enableResource&&i.fixResourceStatus&&i.fixResourceStatus({src:E.responseURL||c,res_type:"api"})}}))),E}).prototype=p.prototype,n.each(Object.keys(p),(function(e){d[e]=p[e]})),t[u]=d,t[u].toString=n.createFakeToString(u))),i=this),this;var l,p,d,h},initHook:function(){return this.hasInitHook||(this.getConfig("disableHook")||this.addHook(),this.hasInitHook=!0),this}}),e}),L}function z(){return M||(M=1,N=function(e,t){function r(e,r){var n;t.CustomEvent?n=new CustomEvent(e,{detail:r}):((n=a.createEvent("HTMLEvents")).initEvent(e,!1,!0),n.detail=r),t.dispatchEvent(n)}function n(e){var t=o[e];"function"==typeof t&&(o[e]=function(n,a,s){n=1===arguments.length?[n]:Array.apply(null,arguments);var c=location.href;n=t.apply(o,n);if(s&&"string"==typeof s&&s!==c)try{var l=c.split("#"),u=s.split("#"),p=i.cutUrlSearch(l[0]),d=i.cutUrlSearch(u[0]),h=l[1]&&l[1].replace(/^\/?(.*)/,"$1"),f=u[1]&&u[1].replace(/^\/?(.*)/,"$1");h!==f?r("historystatechange",f):p!==d&&r("historystatechange",d)}catch(n){i.warn("[retcode] error in "+e+": "+n)}return n},o[e].toString=i.createFakeToString(e))}var i=l(),o=t.history||{},a=t.document;i.ext(e.prototype,{hackHistoryState:function(){return this.hasHackedHistoryState||(n("pushState"),n("replaceState"),this.hasHackedHistoryState=!0),this}})}),N}function X(){var e,t;return j||(j=1,e=l(),t=V().TIMING_KEYS,U=function(r,n){var i="_resource-"+Date.now(),o="_resource_error-"+Date.now();e.ext(r.prototype,{initResource:function(){var e,t=this,r=n.performance,i=n.PerformanceObserver;return t[o]||(t[o]=new WeakMap),r&&i&&"object"==typeof r&&"function"==typeof r.getEntriesByType?(e=r.getEntriesByType("resource")||[],setTimeout((function(){t.setResource(e)}),10),new i((function(e){setTimeout((function(){t.setResource(e.getEntries())}),10)})).observe({entryTypes:["resource"]}),this.onReady((function(){setTimeout(t.resourceComboReport.bind(t),5e3)})),t):null},setResource:function(r){var a=this._conf,s=this[o];if(e.isArray(r)&&r.length){this[i]||(this[i]={});for(var c=this[i],l=0,u=r.length;l<u;l+=1){var p,d=r[l];e.checkAPI(d.name,!1)&&(d=((r,i,o)=>{if(r instanceof n.PerformanceResourceTiming&&r.initiatorType){var a,s,c,l,u,p,d,h,f,y=e.getResType(r.initiatorType,r.name),g=i.resourceTypes||[],v=(i.ignore||{}).ignoreResources;if(y&&g.includes(y)&&!e.ignoreByRule(r.name,v)&&!e.ignoreByRule(e.decode(r.name),v))return g=r[t[0]],v=r[t[1]],a=r[t[2]],s=r[t[3]],c=r[t[4]],l=r[t[5]],u=r[t[6]],p=r[t[7]],d=r[t[8]],h=r[t[18]],f=r[t[19]],(o.has(r)||e.areInOrder(g,v,a,s,c,l,u,p,d)&&!(p<g))&&e.areInOrder(g,h=h<g?g:h,f=f<g?v:f,v)?{domain:e.getURL(r.name).domain,res_type:y,src_type:e.getSrcType(r.name,i.cdnHostList),success:1,size:Math.round(r.decodedBodySize),duration:Math.round(r.duration),timeStamp:r.responseEnd,timing:r}:void 0}})(d,a,s))&&((p=d.res_type+"-"+d.domain)in c||(c[p]=[]),c[p].push(d))}return this}},fixResourceStatus:function(t){var r,i,a=n.performance;return a&&"function"==typeof a.getEntriesByName?(r=this[o],t.src&&e.checkAPI(t.src,!1)&&(i=t.timeStamp||a.now(),a=a.getEntriesByName(t.src,"resource"),e.each(a,(function(e){r.has(e)||i-e.responseEnd<100&&r.set(e,{success:0})}))),this):null},resourceComboReport:function(){var t,r,a=this[i]||{},s=this._conf.resourceSlow||2e3,c=this[o],l=(this[i]={},Object.keys(a));0!==l.length&&(t=[],e.each(l,(function(r){r=a[r];var n={domain:"",res_type:"",src_type:"",size:0,duration:0,count:0,err_count:0,err_duration:0,slow_count:0,slow_duration:0,timings:[]};e.each(r,(function(e){var t=e.timing||{},r=c.get(e.timing),i=(r=r?r.success:1,e.duration>s?1:0);n.domain=e.domain,n.res_type=e.res_type,n.src_type=e.src_type,n.count+=1,n.duration+=e.duration,n.size+=e.size,r||(n.err_count+=1,n.err_duration+=e.duration),i&&(n.slow_count+=1,n.slow_duration+=e.duration);try{var o=JSON.parse(JSON.stringify(t));o.success=r,o.resourceSlow=s,o.isSlow=i,n.timings.push(o)}catch{}})),n.count&&(n.size=Math.round(n.size/n.count),n.duration=Math.round(n.duration/n.count)),n.slow_count&&(n.slow_duration=Math.round(n.slow_duration/n.slow_count)),n.err_count&&(n.err_duration=Math.round(n.err_duration/n.err_count)),20<n.timings.length&&(n.timings.sort((function(e,t){return t.duration-e.duration})),n.timings.length=20),n.timings=encodeURIComponent(JSON.stringify(n.timings)),t.push(n)})),l={_combo:1,resource:JSON.stringify(t)},r=n.navigator.connection,l.ct=r?r.effectiveType||r.type:"",(r=999<(r=r&&(r.downlink||r.downlinkMax||r.bandwidth)||null)?999:r)&&(l.bandwidth=r),this._lg("resource",l,this.getConfig("sample")))}})}),U}function G(){var e,t,r,n,i,o,a,s,u,p,d,y,m,b,E,x,k,P;return B||(B=1,e=l(),h||(h=1,b=l(),E=g(),x=["api","success","time","code","msg","trace","traceId","begin","pv_id","sid","seq","domain","flag","apiSnapshot","tag","c1","c2","c3"],k=function(e){var t=(e.key||"default").split("::");return 1<t.length?b.ext(e,{group:t[0],key:t[1]}):b.ext(e,{group:"default_group",key:t[0]})},(P=function(e){var t;E.call(this,e);try{t="object"==typeof performance?performance.timing.fetchStart:Date.now()}catch{t=Date.now()}return this._startTime=t,this}).prototype=b.createObject(E.prototype),b.ext(E.dftCon,{startTime:null}),b.ext(P.prototype,{constructor:P,_super:E,sum:function(e,t,r){try{var n=b.dealParam(e,t,1);return this._lg("sum",k(n),r)}catch(e){b.warn("[retcode] can not get parseStatData: "+e)}},avg:function(e,t,r){try{var n=b.dealParam(e,t,0);return this._lg("avg",k(n),r)}catch(e){b.warn("[retcode] can not get parseStatData: "+e)}},percent:function(e,t,r,n){try{return this._lg("percent",k({key:e,subkey:t,val:r||0,begin:Date.now()}),n)}catch(e){b.warn("[retcode] can not get parseStatData: "+e)}},msg:function(e,t){if(e&&!(180<e.length))return this.custom({msg:e},t)},error:function(e,t){if(!e)return b.warn("[retcode] invalid param e: "+e),this;1===arguments.length?("string"==typeof e&&(e={message:e},t={}),"object"==typeof e&&(t=e=e.error||e)):("string"==typeof e&&(e={message:e}),"object"!=typeof t&&(t={}));var r,n=e.name||"CustomError",i=e.message||"",o=e.stack||"",a=(t=t||{},"object"==typeof location&&"string"==typeof location.href&&location.href.substring(0,500)||"");if(b.checkSDKError(i,t.filename))return r=e.msg||e.message,b.ignoreByRule(r,p=/^Script error\.?$/)||b.ignoreByRule(b.decode(r),p)?this:(r={msg:b.selfErrKey,err:{msg_raw:b.encode(e.msg||e.message)}},this._self("error",r,1));for(var s={begin:Date.now(),cate:n,msg:i&&i.substring(0,1e3),stack:o&&o.substring(0,1e3),file:b.removeUrlSearch(t.filename||""),line:t.lineno||"",col:t.colno||"",err:{msg_raw:b.encode(i),stack_raw:b.encode(o)},dl:a},c=["tag","c1","c2","c3"],l=0;l<c.length;l++){var u=c[l];t[u]&&(s[u]=t[u])}var p=(this.getConfig("ignore")||{}).ignoreErrors;return b.ignoreByRule(s.msg,p)||b.ignoreByRule(b.decode(s.msg),p)?this:(this.beforeSend&&this.beforeSend("error",s),this._lg("error",s,1))},behavior:function(e){if(e)return e="object"==typeof e&&e.behavior?e:{behavior:e},this.beforeSend&&this.beforeSend("behavior",e),this._lg("behavior",e,1)},api:function(e,t,r,n,i,o,a,s,c,l,u,p,d,h,f,y){return e?(e="string"==typeof e?{api:e,success:t,time:r,code:n,msg:i,begin:o,traceId:a,pv_id:s,apiSnapshot:c,domain:l,flag:p,tag:d,c1:h,c2:f,c3:y}:b.sub(e,x),b.checkAPI(e.api,!0)?(e.code=e.code||"",t=e.msg||"",t="string"==typeof t?t.substring(0,1e3):t,e.msg=t,e.success=e.success?1:0,e.time=+e.time,e.begin=e.begin,e.traceId=e.traceId||"",e.pv_id=e.pv_id||"",e.domain=e.domain||"",e.flag=e.flag,e.dl="object"==typeof location&&"string"==typeof location.href&&location.href.substring(0,500)||"",e.apiSnapshot&&("object"==typeof e.apiSnapshot&&(e.apiSnapshot=JSON.stringify(e.apiSnapshot)),"string"!=typeof e.apiSnapshot&&delete e.apiSnapshot,2e3<e.apiSnapshot.length)&&(e.apiSnapshot=e.apiSnapshot.substring(0,2e3)),u&&(e.traceOrigin=u),!e.api||isNaN(e.time)?(b.warn("[retcode] invalid time or api"),this):(r=(this.getConfig("ignore")||{}).ignoreApis,b.ignoreByRule(e.api,r)||b.ignoreByRule(b.decode(e.api),r)||e.time<0?this:(this.beforeSend&&this.beforeSend("api",e),this._lg("api",e,e.success&&this.getConfig("sample"),e.flag)))):this):(b.warn("[retcode] api is null"),this)},speed:function(e,t,r){var n=this,i=this.getConfig("startTime")||this._startTime;return/^s(\d|1[0])$/.test(e)?(t="number"!=typeof t?Date.now()-i:i<=t?t-i:t,n.speedCache=n.speedCache||{},n.speedCache[e]=t,n.speedCache.begin=i,clearTimeout(n.speedTimmer),n.speedTimmer=setTimeout((function(){r||(n.speedCache.page=n.getPage(!0)),n._lg("speed",n.speedCache),n.speedCache=null}),5e3)):b.warn("[retcode] invalid point: "+e),n},performance:function(e){if(e&&"object"==typeof e&&!this.hasSendPerf){var t,r={},n={},i=this.getConfig("autoSendPerf");if(e.autoSend&&i)return n=b.ext(this.perfData||{},e),this.hasSendPerf=!0,this._lg("perf",n,this.getConfig("sample"));if(e.autoSend&&!i)return delete e.autoSend,this.perfData?(n=b.ext(this.perfData||{},e),this.hasSendPerf=!0,this._lg("perf",n,this.getConfig("sample"))):void(this.perfData=e);for(t in e)!/^t([1-9]|1[0])$/.test(t)&&"ctti"!==t&&"cfpt"!==t||(r[t]=e[t]);if(!0===e.autoSend||!i&&this.perfData)return!0!==e.autoSend&&!1===i&&this.perfData?(r=b.ext(this.perfData||{},r),this.hasSendPerf=!0,this._lg("perf",r,this.getConfig("sample"))):void 0;this.perfData=b.ext(this.perfData||{},r)}},resource:function(e,t){if(!e||!b.isPlainObject(e))return b.warn("[arms] invalid param data: "+e),this;var r,n=Object.keys(e),i=["begin","dom","load","res","dl"],o=!1;for(r in i)if(n.indexOf(i[r])<0){o=!0;break}return o?(b.warn("[arms] lack param data: "+e),this):(e={begin:e.begin||Date.now(),dom:e.dom||"",load:e.load||"",res:b.isArray(e.res)?JSON.stringify(e.res):JSON.stringify([]),dl:e.dl||""},this._lg("res",e,t))},event:function(e,t){if("object"==typeof e&&e&&e.key){var r,n={},i=["key","success","time","c1","c2","c3"];for(r in e)-1<i.indexOf(r)&&(n[r]=e[r]);n.success=!1===e.success?0:1,this._lg("event",n,t)}}}),P._super=E,(P._root=E).Reporter=P,f.exports=P),t=f.exports,v||(v=1,d=l(),y="object"==typeof window?window:{},m="function"==typeof(m=y.__oFetch_||y.fetch)?m:void 0,S.exports=function(e,t){var r,n=-1;"object"==typeof e&&(n=e.z,e=d.serialize(e)),t+=e;if(m)return m(t,{method:"HEAD",mode:"no-cors"}).catch(d.noop);y.document&&y.document.createElement&&((e=y[r="__request_hold_"+n]=new Image).onload=e.onerror=function(){y[r]=void 0},e.src=t)}),r=S.exports,_||(_=1,u=l(),P="object"==typeof window?window:{},p="function"==typeof(p=P.__oXMLHttpRequest_||P.XMLHttpRequest)?p:void 0,T.exports=function(e,t){try{var r=new p;r.open("POST",t,!0),r.setRequestHeader("Content-Type","text/plain"),r.send(JSON.stringify(e))}catch(e){u.warn("[retcode] Failed to log, exception is :\n"+e)}}),n=T.exports,i=e.win,o=i.document,a=/^(error|api|speed|sum|avg|percent|custom|msg|setPage|setConfig|behavior|performance)$/,(s=function(r){var n=this;return t.call(n,r),n._initialPage=r.page&&e.safetyCall(r.page,[],r.page+"")||null,n._isRobot=e.isRobot(),n._health={errcount:0,apisucc:0,apifail:0},!(n.beforeSend=function(e,t){"error"===e?n._health.errcount++:"api"===e&&n._health[t.success?"apisucc":"apifail"]++})!==r.enableInstanceAutoSend&&(n.initHandler(),n.initHook(),n.initFmpObserver(1e4),n._conf&&n._conf.behavior&&"function"==typeof n.initBehavior&&n.initBehavior(),n._conf)&&n._conf.enableResource&&"function"==typeof n.initResource&&n.initResource(),Object.defineProperty&&i.addEventListener&&Object.defineProperty(n,"pipe",{set:n.sendPipe}),n}).prototype=e.createObject(t.prototype),e.ext(t._root.dftCon,{uid:null,setUsername:null,ignoreUrlPath:null,ignoreApiPath:null,urlHelper:[{rule:/\/([a-z\-_]+)?\d{2,20}/g,target:"/$1**"},/\/$/],resourceHelper:[],apiHelper:{rule:/\/([a-z\-_]+)?\d{2,20}/g,target:"/$1**"},ignoreUrlCase:!0,imgUrl:"https://arms-retcode.aliyuncs.com/r.png?",cdnHostList:[],resourceTypes:["css","script","img","font"],resourceSlow:2e3,disableHook:!1,autoSendPv:!0,autoSendPerf:!0,enableSPA:!1,enableLinkTrace:!1,linkType:"arms",enableApiCors:!1,sendResource:!0,behavior:!0,enableConsole:!1,parseHash:function(t){return(t?e.cutUrlSearch(t.replace(/^#\/?/,"")):"")||"[index]"},parseResponse:function(e){var t;return e&&"object"==typeof e?(t=e.code,"object"==typeof(e=e.msg||e.message||e.subMsg||e.errorMsg||e.ret||e.errorResponse||"")&&(t=t||e.code,e=e.msg||e.message||e.info||e.ret||JSON.stringify(e)),{msg:e,code:t,success:!0}):{}}}),e.ext(s.prototype,{constructor:s,_super:t,onReady:function(t){var r=this;if(r.hasReady)return t();"complete"===o.readyState?(r.hasReady=!0,t()):e.on(i,"load",(function(){r.hasReady=!0,t()}),!0)},getPage:function(t){var r=this._conf,n=r.page,i=location,o=i.host+i.pathname;return n&&!t?e.safetyCall(n,[],n+""):this._initialPage||e.filterByRule(r.ignoreUrlCase?o.toLowerCase():o,i.href,r.ignoreUrlPath||r.urlHelper)},setPage:function(e,t){var r=this,n=r.prevPage;if(!1!==t){if(!e||e===n)return r;r.prevPage=e,clearTimeout(r.sendPVTimmer),r.handleUnload(1),r.resetPageview(),r.sendPVTimmer=setTimeout((function(){r.sendPV()}),10)}else r.prevPage=e;return r._conf.page=e,r},setConfig:function(t,r){var n;t&&"object"==typeof t&&(e.verifyConfig(t),t=this.setImgUrl(t),n=this._conf,this._conf=e.ext({},n,t),r||((r="disableHook")in t&&n[r]!==t[r]&&(t[r]?this.removeHook():this.addHook()),(r="enableSPA")in t&&n[r]!==t[r]&&this.bindHashChange(t[r])))},sendRequest:function(e){r(e,this.getConfig("imgUrl"))},postData:function(t,r){var i={};i[r]=t[r],delete t[r],r="";"object"==typeof t&&(r=e.serialize(t)),n(i,this.getConfig("imgUrl")+r+"&post_res=")},sendPipe:function(t){var r,n=this;if(!t||!t.length)return n;try{return"Array"===e.T(t[0])?e.each(t,(function(e){return n.sendPipe(e)})):"Array"===e.T(t)&&(r=t.shift(),a.test(r))?void n[r].apply(n,t):n}catch(t){return e.warn("[retcode] error in sendPipe",t),n}},sendHealth:function(){var t=e.ext({},this._health),r=(t.healthy=0<t.errcount?0:1,t.begin=Date.now(),t.begin-this.sBegin);t.stay=r,this._lg("health",t,1),this._health={errcount:0,apisucc:0,apifail:0}},createInstance:function(t){t=e.ext({pid:this._conf.pid},t);var r=this.__proto__.constructor(t);return t.page&&r.sendPV(),r}}),w()(s,i),$()(s,i,o),q()(s,i,o),W()(s,i),z()(s,i),X()(s,i),s._super=t,s._root=t._root,t.Browser=s,c.exports=s),c.exports}var K={getArmsLogger:function(){return F||(F=1,t=window,r=t.BrowserLogger=G(),n=l().key,i="__hasInitBlSdk",r.singleton=function(r,o){return t[i]?t[n]:e(r,o)},r.createExtraInstance=function(e){e&&"object"==typeof e&&!0!==e.enableInstanceAutoSend&&(e.enableInstanceAutoSend=!1);e=new r(e);var t=e._conf;return t.enableInstanceAutoSend&&(!1!==t.autoSendPv&&e.sendPV(),t&&t.useFmp||e.sendPerformance(),t)&&t.sendResource&&e.sendResources(),e},"object"==typeof window&&!!window.navigator&&t[n]&&(r.bl=t[i]?t[n]:(o={},a=[],n in t&&(o=t[n].config||{},a=t[n].pipe||[]),e(o,a))),s.exports=r),s.exports;function e(e,o){return e=t[n]=new r(e),e.sendPipe(o),o=e._conf,!1!==o.autoSendPv&&e.sendPV(),o&&o.useFmp||e.sendPerformance(),o&&o.sendResource&&e.sendResources(),t[i]=!0,e}var t,r,n,i,o,a}};let Y="https://arms-retcode.aliyuncs.com/r.png?",Q="https://arms-retcode-sg.aliyuncs.com/r.png?",J="https://retcode-us-west-1.arms.aliyuncs.com/r.png?",Z="e1iftji1w7@7ec1cef2cc88733",ee="e1iftji1w7@10a06d1ec260adc",te="e1iftji1w7@10a06d1ec260adc",re={cn:{reportUrl:Y,pid:Z},"cn-hangzhou":{reportUrl:Y,pid:Z},sg:{reportUrl:Q,pid:ee},"ap-southeast-1":{reportUrl:Q,pid:ee},usw:{reportUrl:J,pid:te},"us-west-1":{reportUrl:J,pid:te}},ne=e=>null!==e&&"object"==typeof e,ie=e=>Object.prototype.toString.call(e).slice(8,-1),oe=e=>!!Object.isExtensible(e)&&"Object"===ie(e);function ae(e,t){if("string"==typeof e&&(t=e.indexOf(t),!(t<0)))return(e=e.indexOf("\n"))<0||t<e}function se(e,t,r){if("function"==typeof e)return s=t+1,c=r,l={MediaboxWrapperFunctionApply(e,t,r){let n;try{n=Reflect.apply(e,t,r)}catch(e){throw c(e),e}return se(n,s,c)},MediaboxWrapperFunctionGet(e,t){var r=Object.getOwnPropertyDescriptor(e,t);return!r||r.writable||r.configurable?se(e[t],s,c):e[t]},MediaboxWrapperClassConstructor(e,t){let r;try{r=new e(...t)}catch(e){throw c(e),e}return se(r,s,c)}},new Proxy(e,{apply:l.MediaboxWrapperFunctionApply,get:l.MediaboxWrapperFunctionGet,construct:l.MediaboxWrapperClassConstructor});if(e instanceof Promise)return e.then((e=>se(e,t+1,r))).catch((e=>(r(e),Promise.reject(e))));if(Array.isArray(e))e.forEach(((n,i)=>{e[i]=se(n,t+1,r)}));else if(ne(e)&&oe(e)){l=e;var n,i=t+1,o=r;if(!0===Reflect.get(l,"__v_skip"))return l;let s=[],c="function"==typeof Object.getOwnPropertyDescriptors?Object.getOwnPropertyDescriptors(Object.getPrototypeOf(l)??{}):{};for(n of Object.keys(c))c[n].get&&s.push(n);var a={MediaboxWrapperObjectGetter(e,t){if("string"==typeof t&&-1<s.indexOf(t)){let r;try{r=e[t]}catch(s){throw o(s),s}return se(r,i,o)}return 10<i?e[t]:se(e[t],i,o)},MediaboxWrapperObjectSetter(e,t,r){return e[t]=se(r,i,o),!0}};return Object.defineProperty(l,"__v_skip",{configurable:!0,enumerable:!1,writable:!1,value:!0}),new Proxy(l,{get:a.MediaboxWrapperObjectGetter,set:a.MediaboxWrapperObjectSetter})}return e;var s,c,l}function ce(e){return"string"==typeof e&&(-1<e.indexOf("g.alicdn.com/apsara-media-")||-1<e.indexOf("g.alicdn.com/thor-server")||-1<e.indexOf("MediaboxWrapper"))}class le extends Error{constructor(e){super(e),this.name="MQTError"}}let ue=1;class pe{constructor(e){a(this,"armsLogger"),a(this,"isReady",!1),a(this,"isDestroyed",!1),a(this,"options"),a(this,"queue",[]),a(this,"marker"),a(this,"helper",{MediaboxWrapperQueue(e){return new le(e)},MediaboxWrapperInitiative(e){return new le(e)}}),this.options={...e,region:e.deferRegionSet?void 0:e.region??"cn",env:e.env??"prod"},this.marker=`-${ue++}-`,this.initArmsLogger()}static get version(){return"0.23.0"}initArmsLogger(e){var{region:t,env:r,disabled:n}=this.options;if(!n&&!this.armsLogger){if(e&&!t)throw new Error("region is required");if(t){if(!re[t])throw new Error(`region ${t} is not supported`);n=K.getArmsLogger(),this.armsLogger=n.createExtraInstance({enableInstanceAutoSend:!0,pid:re[t].pid,tag:this.options.businessName,release:this.options.businessName+"_"+this.options.version,imgUrl:re[t].reportUrl,behavior:!0,sample:1,disableHook:!0,environment:r,beforeReport:e=>{if(this.isDestroyed||ae(e.stack,this.marker)||"pv"!==e.t&&"error"!==e.t)return!1;if(e.c1=this.options.cid??window.location.host,e.c2=pe.version,this.options.customData&&(e.c3=new URLSearchParams(this.options.customData).toString()),"error"===e.t){if("string"==typeof(t=e.file)&&(-1<t.indexOf("g.alicdn.com/apsara-media-")||-1<t.indexOf("g.alicdn.com/thor-server"))||ce(e.stack)){let t=e;return this.options.beforeSend&&(t=this.options.beforeSend(e)),this.isReady?t:(t&&this.queue.push(t),!1)}return!1}var t;return e}})}}}wrap(e){return this.options.disabled||"u"<typeof Proxy?e:se(e,0,(e=>{var t,r;e instanceof Error&&"string"==typeof e.stack&&ce(e.stack)&&(null!=(t=this.armsLogger)&&t.error(e),e.stack=(t=e.stack,e=this.marker,"string"!=typeof t?e:ae(t,e)?t:(r=t.indexOf("\n"))<0?""+t+e:""+t.slice(0,r)+e+t.slice(r)))}))}updateOptions(e){this.options={...this.options,...e}}setReady(){this.initArmsLogger(!0),this.isReady=!0,this.queue.length&&this.queue.forEach((e=>{var t;null!=(t=this.armsLogger)&&t.error(this.helper.MediaboxWrapperQueue(e.msg),{filename:e.file,lineno:e.line,colno:e.col})}))}report(e,t){var r;null!=(r=this.armsLogger)&&r.error(this.helper.MediaboxWrapperInitiative(e),t)}destroy(){this.isDestroyed=!0}}r.MediaboxQualityTracer=pe,r.default=pe},{}],2:[function(e,t,r){},{}],3:[function(e,t,r){(function(n){(function(){var i,o;i=this,o=function(){var t,r=Math;if("undefined"!=typeof window&&window.crypto&&(t=window.crypto),"undefined"!=typeof self&&self.crypto&&(t=self.crypto),!(t=!(t=!(t="undefined"!=typeof globalThis&&globalThis.crypto?globalThis.crypto:t)&&"undefined"!=typeof window&&window.msCrypto?window.msCrypto:t)&&void 0!==n&&n.crypto?n.crypto:t)&&"function"==typeof e)try{t=e("crypto")}catch(a){}var i=Object.create||function(e){return o.prototype=e,e=new o,o.prototype=null,e};function o(){}var a={},s=a.lib={},c=s.Base={extend:function(e){var t=i(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),(t.init.prototype=t).$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},l=s.WordArray=c.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||p).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes,i=e.sigBytes;if(this.clamp(),n%4)for(var o=0;o<i;o++){var a=r[o>>>2]>>>24-o%4*8&255;t[n+o>>>2]|=a<<24-(n+o)%4*8}else for(var s=0;s<i;s+=4)t[n+s>>>2]=r[s>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=r.ceil(t/4)},clone:function(){var e=c.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var r=[],n=0;n<e;n+=4)r.push((()=>{if(t){if("function"==typeof t.getRandomValues)try{return t.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof t.randomBytes)try{return t.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")})());return new l.init(r,e)}}),u=a.enc={},p=u.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new l.init(r,t/2)}},d=u.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(o))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new l.init(r,t)}},h=u.Utf8={stringify:function(e){try{return decodeURIComponent(escape(d.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return d.parse(unescape(encodeURIComponent(e)))}},f=s.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=h.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var t,n=this._data,i=n.words,o=n.sigBytes,a=this.blockSize,s=o/(4*a),c=(s=e?r.ceil(s):r.max((0|s)-this._minBufferSize,0))*a;e=r.min(4*c,o);if(c){for(var u=0;u<c;u+=a)this._doProcessBlock(i,u);t=i.splice(0,c),n.sigBytes-=e}return new l.init(t,e)},clone:function(){var e=c.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),y=(s.Hasher=f.extend({cfg:c.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new y.HMAC.init(e,r).finalize(t)}}}),a.algo={});return a},"object"==typeof r?t.exports=r=o():"function"==typeof define&&define.amd?define([],o):i.CryptoJS=o()}).call(this)}).call(this,"undefined"!=typeof __webpack_require__.g?__webpack_require__.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{crypto:2}],4:[function(e,t,r){var n,i;n=this,i=function(e){var t;return t=e.lib.WordArray,e.enc.Base64={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=this._map,i=(e.clamp(),[]),o=0;o<r;o+=3)for(var a=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,s=0;s<4&&o+.75*s<r;s++)i.push(n.charAt(a>>>6*(3-s)&63));var c=n.charAt(64);if(c)for(;i.length%4;)i.push(c);return i.join("")},parse:function(e){var r=e.length,n=this._map;if(!(i=this._reverseMap))for(var i=this._reverseMap=[],o=0;o<n.length;o++)i[n.charCodeAt(o)]=o;for(var a,s,c=n.charAt(64),l=(c&&-1!==(c=e.indexOf(c))&&(r=c),e),u=r,p=i,d=[],h=0,f=0;f<u;f++)f%4&&(a=p[l.charCodeAt(f-1)]<<f%4*2,s=p[l.charCodeAt(f)]>>>6-f%4*2,d[h>>>2]|=(a|s)<<24-h%4*8,h++);return t.create(d,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},e.enc.Base64},"object"==typeof r?t.exports=r=i(e("crypto-js/core")):"function"==typeof define&&define.amd?define(["crypto-js/core"],i):i(n.CryptoJS)},{"crypto-js/core":3}],5:[function(e,t,r){var n,i;n=this,i=function(e){return e.enc.Utf8},"object"==typeof r?t.exports=r=i(e("crypto-js/core")):"function"==typeof define&&define.amd?define(["crypto-js/core"],i):i(n.CryptoJS)},{"crypto-js/core":3}],6:[function(e,t,r){var n,i;n=this,i=function(e){return e.HmacSHA1},"object"==typeof r?t.exports=r=i(e("crypto-js/core"),e("crypto-js/sha1"),e("crypto-js/hmac")):"function"==typeof define&&define.amd?define(["crypto-js/core","crypto-js/sha1","crypto-js/hmac"],i):i(n.CryptoJS)},{"crypto-js/core":3,"crypto-js/hmac":7,"crypto-js/sha1":8}],7:[function(e,t,r){var n,i;n=this,i=function(e){var t,r;t=e.lib.Base,r=e.enc.Utf8,e.algo.HMAC=t.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=r.parse(t));for(var n=e.blockSize,i=4*n,o=(e=((t=t.sigBytes>i?e.finalize(t):t).clamp(),this._oKey=t.clone()),t=this._iKey=t.clone(),e.words),a=t.words,s=0;s<n;s++)o[s]^=1549556828,a[s]^=909522486;e.sigBytes=t.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher;e=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(e))}})},"object"==typeof r?t.exports=r=i(e("crypto-js/core")):"function"==typeof define&&define.amd?define(["crypto-js/core"],i):i(n.CryptoJS)},{"crypto-js/core":3}],8:[function(e,t,r){var n,i;n=this,i=function(e){var t,r,n,i,o;return r=(t=e).lib,n=r.WordArray,i=r.Hasher,o=[],r=t.algo.SHA1=i.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],a=r[2],s=r[3],c=r[4],l=0;l<80;l++){o[l]=l<16?0|e[t+l]:(u=o[l-3]^o[l-8]^o[l-14]^o[l-16])<<1|u>>>31;var u=(n<<5|n>>>27)+c+o[l];u+=l<20?1518500249+(i&a|~i&s):l<40?1859775393+(i^a^s):l<60?(i&a|i&s|a&s)-1894007588:(i^a^s)-899497514,c=s,s=a,a=i<<30|i>>>2,i=n,n=u}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+a|0,r[3]=r[3]+s|0,r[4]=r[4]+c|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(64+n>>>9<<4)]=Math.floor(r/4294967296),t[15+(64+n>>>9<<4)]=r,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}}),t.SHA1=i._createHelper(r),t.HmacSHA1=i._createHmacHelper(r),e.SHA1},"object"==typeof r?t.exports=r=i(e("crypto-js/core")):"function"==typeof define&&define.amd?define(["crypto-js/core"],i):i(n.CryptoJS)},{"crypto-js/core":3}],9:[function(e,t,r){(function(n,i){(function(){var o,a;o=this,a=function(){function t(e){return"function"==typeof e}var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=0,a=void 0,s=void 0,c=function(e,t){f[o]=e,f[o+1]=t,2===(o+=2)&&(s?s(y):b())},l="undefined"!=typeof window?window:void 0,u=l||{},p=(u=u.MutationObserver||u.WebKitMutationObserver,"undefined"==typeof self&&void 0!==n&&"[object process]"==={}.toString.call(n)),d="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function h(){var e=setTimeout;return function(){return e(y,1)}}var f=new Array(1e3);function y(){for(var e=0;e<o;e+=2)(0,f[e])(f[e+1]),f[e]=void 0,f[e+1]=void 0;o=0}function g(){try{var e=Function("return this")().require("vertx");return void 0!==(a=e.runOnLoop||e.runOnContext)?function(){a(y)}:h()}catch(e){return h()}}var v,_,m,b=void 0;function S(e,t){var r,n=this,i=new this.constructor(E),o=(void 0===i[w]&&j(i),n._state);return o?(r=arguments[o-1],c((function(){return M(o,i,r,n._result)}))):D(n,i,e,t),i}function T(e){var t;return e&&"object"==typeof e&&e.constructor===this?e:(A(t=new this(E),e),t)}b=p?function(){return n.nextTick(y)}:u?(_=0,p=new u(y),m=document.createTextNode(""),p.observe(m,{characterData:!0}),function(){m.data=_=++_%2}):d?((v=new MessageChannel).port1.onmessage=y,function(){return v.port2.postMessage(0)}):(void 0===l&&"function"==typeof e?g:h)();var w=Math.random().toString(36).substring(2);function E(){}var x=void 0,k=1,P=2;function C(e,t,r){c((function(e){var n=!1,i=((e,t,r,n)=>{try{e.call(t,r,n)}catch(e){return e}})(r,t,(function(r){n||(n=!0,(t!==r?A:O)(e,r))}),(function(t){n||(n=!0,L(e,t))}),e._label);!n&&i&&(n=!0,L(e,i))}),e)}function R(e,r,n){var i,o;r.constructor===e.constructor&&n===S&&r.constructor.resolve===T?(i=e,(o=r)._state===k?O(i,o._result):o._state===P?L(i,o._result):D(o,void 0,(function(e){return A(i,e)}),(function(e){return L(i,e)}))):void 0!==n&&t(n)?C(e,r,n):O(e,r)}function A(e,t){if(e===t)L(e,new TypeError("You cannot resolve a promise with itself"));else if(r=typeof t,null===t||"object"!=r&&"function"!=r)O(e,t);else{r=void 0;try{r=t.then}catch(t){return void L(e,t)}R(e,t,r)}var r}function I(e){e._onerror&&e._onerror(e._result),N(e)}function O(e,t){e._state===x&&(e._result=t,e._state=k,0!==e._subscribers.length)&&c(N,e)}function L(e,t){e._state===x&&(e._state=P,e._result=t,c(I,e))}function D(e,t,r,n){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+k]=r,i[o+P]=n,0===o&&e._state&&c(N,e)}function N(e){var t=e._subscribers,r=e._state;if(0!==t.length){for(var n,i=void 0,o=e._result,a=0;a<t.length;a+=3)n=t[a],i=t[a+r],n?M(r,n,i,o):i(o);e._subscribers.length=0}}function M(e,r,n,i){var o=t(n),a=void 0,s=void 0,c=!0;if(o){try{a=n(i)}catch(e){c=!1,s=e}if(r===a)return void L(r,new TypeError("A promises callback cannot return that same promise."))}else a=i;r._state===x&&(o&&c?A(r,a):!1===c?L(r,s):e===k?O(r,a):e===P&&L(r,a))}var U=0;function j(e){e[w]=U++,e._state=void 0,e._result=void 0,e._subscribers=[]}F.prototype._enumerate=function(e){for(var t=0;this._state===x&&t<e.length;t++)this._eachEntry(e[t],t)},F.prototype._eachEntry=function(e,t){var r=this._instanceConstructor,n=r.resolve;if(n===T){var i,o=void 0,a=void 0,s=!1;try{o=e.then}catch(t){s=!0,a=t}o===S&&e._state!==x?this._settledAt(e._state,t,e._result):"function"!=typeof o?(this._remaining--,this._result[t]=e):r===H?(i=new r(E),s?L(i,a):R(i,e,o),this._willSettleAt(i,t)):this._willSettleAt(new r((function(t){return t(e)})),t)}else this._willSettleAt(n(e),t)},F.prototype._settledAt=function(e,t,r){var n=this.promise;n._state===x&&(this._remaining--,e===P?L(n,r):this._result[t]=r),0===this._remaining&&O(n,this._result)},F.prototype._willSettleAt=function(e,t){var r=this;D(e,void 0,(function(e){return r._settledAt(k,t,e)}),(function(e){return r._settledAt(P,t,e)}))};var B=F;function F(e,t){this._instanceConstructor=e,this.promise=new e(E),this.promise[w]||j(this.promise),r(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0!==this.length&&(this.length=this.length||0,this._enumerate(t),0!==this._remaining)||O(this.promise,this._result)):L(this.promise,new Error("Array Methods must be provided an Array"))}V.prototype.catch=function(e){return this.then(null,e)},V.prototype.finally=function(e){var r=this.constructor;return t(e)?this.then((function(t){return r.resolve(e()).then((function(){return t}))}),(function(t){return r.resolve(e()).then((function(){throw t}))})):this.then(e,e)};var H=V;function V(e){if(this[w]=U++,this._result=this._state=void 0,this._subscribers=[],E!==e){if("function"!=typeof e)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof V))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var t=this;try{e((function(e){A(t,e)}),(function(e){L(t,e)}))}catch(e){L(t,e)}}}return H.prototype.then=S,H.all=function(e){return new B(this,e).promise},H.race=function(e){var t=this;return r(e)?new t((function(r,n){for(var i=e.length,o=0;o<i;o++)t.resolve(e[o]).then(r,n)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))},H.resolve=T,H.reject=function(e){var t=new this(E);return L(t,e),t},H._setScheduler=function(e){s=e},H._setAsap=function(e){c=e},H._asap=c,H.polyfill=function(){var e=void 0;if(void 0!==i)e=i;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=H},H.Promise=H},"object"==typeof r&&void 0!==t?t.exports=a():"function"==typeof define&&define.amd?define(a):o.ES6Promise=a()}).call(this)}).call(this,e("_process"),"undefined"!=typeof __webpack_require__.g?__webpack_require__.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:10}],10:[function(e,t,r){var n,i;t=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return(n=setTimeout)(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}var c,l=[],u=!1,p=-1;function d(){u&&c&&(u=!1,c.length?l=c.concat(l):p=-1,l.length)&&h()}function h(){if(!u){for(var e=s(d),t=(u=!0,l.length);t;){for(c=l,l=[];++p<t;)c&&c[p].run();p=-1,t=l.length}c=null,u=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return(i=clearTimeout)(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function y(){}t.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new f(e,t)),1!==l.length||u||s(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=y,t.addListener=y,t.once=y,t.off=y,t.removeListener=y,t.removeAllListeners=y,t.emit=y,t.prependListener=y,t.prependOnceListener=y,t.listeners=function(e){return[]},t.binding=function(e){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(e){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},{}],11:[function(e,t,r){t.exports={name:"aliyun-aliplayer",version:"2.29.1",description:"阿里云 Web 播放器",main:"./build/aliplayer-min",style:"./build/skins/default/aliplayer-min.css",files:["build"],repository:{type:"git",url:""},keywords:["aliyun","aliplayer"],scripts:{start:"npx grunt live","start:hls":"npx grunt live --hls=true","start:flv":"npx grunt live --flv=true",build:"npx grunt build",release:"commit-and-tag-version",prepublishOnly:"npm run build","test:unit":"karma start","test:unit:watch":"karma start --no-single-run"},devDependencies:{"@ali/mediabox-quality-tracer":"^0.23.0","@babel/core":"^7.26.0","@babel/preset-env":"^7.26.0","@types/chai":"^5.0.1","@types/mocha":"^10.0.10","babel-loader":"^9.2.1","babel-plugin-es6-promise":"^1.1.1","babel-plugin-istanbul":"^7.0.0",babelify:"^10.0.0",chai:"^5.1.2","commit-and-tag-version":"^11.2.1","es6-promise":"^4.2.8",grunt:"^1.0.4","grunt-autoprefixer":"^3.0.4","grunt-babel":"^8.0.0","grunt-browserify":"^5.3.0","grunt-contrib-clean":"^2.0.0","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-cssmin":"^3.0.0","grunt-contrib-less":"^2.0.0","grunt-contrib-uglify":"^4.0.1","grunt-contrib-watch":"^1.1.0","grunt-run":"^0.8.1","grunt-text-replace":"^0.4.0",karma:"^6.4.4","karma-chrome-launcher":"^3.2.0","karma-coverage":"^2.2.1","karma-mocha":"^2.0.1","karma-mocha-reporter":"^2.2.5","karma-webpack":"^5.0.1",mocha:"^11.0.1","node-args":"^2.1.8",sinon:"^19.0.2","sinon-chai":"^4.0.0",webpack:"^5.97.1"},dependencies:{"crypto-js":"^4.1.1"},optionalDependencies:{puppeteer:"^23.11.1"}}},{}],12:[function(e,t,r){var n=e("../ui/component"),i=(e("../lib/util"),e("../lib/dom")),o=e("../lib/event"),a=(e("../lib/ua"),e("../lang/index")),s=e("../player/base/event/eventtype");e=n.extend({init:function(e,t){n.call(this,e,t),this.className=t.className||"prism-auto-stream-selector",this.addClass(this.className)},createEl:function(){var e=n.prototype.createEl.call(this,"div");return e.innerHTML="<div><p class='tip-text'></p></div><div class='operators'><a class='prism-button prism-button-ok' type='button'>"+a.get("OK_Text")+"</a><a class='prism-button prism-button-cancel'  target='_blank'>"+a.get("Cancel_Text")+"</a></div>",e},bindEvent:function(){var e=this,t=(e._player.on(s.Private.AutoStreamShow,(function(t){var r,n=document.querySelector("#"+e.getId()+" .tip-text");e._player._getLowerQualityLevel&&(r=e._player._getLowerQualityLevel())&&(e._switchUrl=r,n.innerText=a.get("Auto_Stream_Tip_Text").replace("$$",r.item.desc),i.css(e.el(),"display","block"))})),e._player.on(s.Private.AutoStreamHide,(function(t){document.querySelector("#"+e.getId()+" .tip-text"),i.css(e.el(),"display","none")})),document.querySelector("#"+e.getId()+" .prism-button-ok"));o.on(t,"click",(function(){e._player._changeStream&&e._switchUrl&&(e._player._changeStream(e._switchUrl.index,a.get("Quality_Change_Text")),e._player.trigger(s.Private.SettingListHide)),i.css(e.el(),"display","none")})),t=document.querySelector("#"+e.getId()+" .prism-button-cancel");o.on(t,"click",(function(){i.css(e.el(),"display","none"),e._player.trigger(s.Private.SettingListHide)}))}});t.exports=e},{"../lang/index":26,"../lib/dom":35,"../lib/event":36,"../lib/ua":51,"../lib/util":53,"../player/base/event/eventtype":71,"../ui/component":137}],13:[function(e,t,r){var n=e("../ui/component"),i=e("../lib/dom"),o=e("../lib/event"),a=e("../lib/ua"),s=e("../lib/function"),c=(e("../lang/index"),e("../lib/util")),l=e("../config"),u=e("../lib/playerutil"),p=e("../player/base/event/eventtype");e=n.extend({init:function(e,t){n.call(this,e,t),this.className=t.className||"prism-liveshift-progress",this.addClass(this.className),this._liveshiftService=e._liveshiftService},createEl:function(){var e=n.prototype.createEl.call(this);return e.innerHTML='<div class="prism-enable-liveshift"><div class="prism-progress-loaded"></div><div class="prism-progress-played"></div><div class="prism-progress-cursor"><img></img></div><p class="prism-progress-time"></p><div class="prism-liveshift-seperator"></div></div><div class="prism-disable-liveshift"></div>',e},bindEvent:function(){function e(e){t._progressDown=e}var t=this,r=(this.loadedNode=document.querySelector("#"+this.id()+" .prism-progress-loaded"),this.playedNode=document.querySelector("#"+this.id()+" .prism-progress-played"),this.cursorNode=document.querySelector("#"+this.id()+" .prism-progress-cursor"),this.timeNode=document.querySelector("#"+this.id()+" .prism-progress-time"),this.controlNode=document.querySelector("#"+this._player._options.id+" .prism-controlbar"),this.seperatorNode=document.querySelector("#"+this.id()+" .prism-liveshift-seperator"),this.progressNode=document.querySelector("#"+this.id()+" .prism-enable-liveshift"),document.querySelector("#"+this.id()+" .prism-progress-cursor img")),n="//"+l.domain+l.path+l.h5Version+"/skins/default/img/dragcursor.png";this._player._options.skinsDomain=this._player._options.assetPrefix||this._player._options.skinsDomain,this._player._options.skinsDomain?n=this._player._options.skinsDomain+"/skins/default/img/dragcursor.png":l.domain?-1<l.domain.indexOf("localhost")&&(n="//"+l.domain+"/build/skins/default/img/dragcursor.png"):n=this._player&&this._player._options&&this._player._options.sdkDomain?this._player._options.sdkDomain+l.path+l.h5Version+"/skins/default/img/dragcursor.png":(l.path||"").substring(1)+l.h5Version+"/skins/default/img/dragcursor.png",r.src=n,o.on(this.cursorNode,"mousedown",(function(e){t._onMouseDown(e)})),o.on(this.cursorNode,"touchstart",(function(e){t._onMouseDown(e)})),o.on(this.progressNode,"mousemove",(function(e){t._progressMove(e)})),o.on(this.progressNode,"touchmove",(function(e){t._progressMove(e)})),o.on(this.progressNode,"mousedown",(function(t){e(!0)})),o.on(this.progressNode,"touchstart",(function(t){e(!0)})),o.on(this.progressNode,"mouseup",(function(t){e(!1)})),o.on(this.progressNode,"touchend",(function(t){e(!1)})),o.on(this._el,"click",(function(e){t._onMouseClick(e)})),this._player.on(p.Private.HideProgress,(function(e){t._hideProgress(e)})),this._player.on(p.Private.CancelHideProgress,(function(e){t._cancelHideProgress(e)})),this._player.on(p.Private.ShowBar,(function(){t._updateLayout()})),o.on(this.progressNode,p.Private.MouseOver,(function(e){t._onMouseOver(e)})),o.on(this.progressNode,p.Private.MouseOut,(function(e){t._onMouseOut(e)})),this.bindTimeupdate=s.bind(this,this._onTimeupdate),this._player.on(p.Player.TimeUpdate,this.bindTimeupdate),u.isLiveShift(this._player._options)&&t._liveshiftService.start(6e4,(function(e){e={mediaId:t._player._options.vid||"",error_code:e.Code,error_msg:e.Message},t._player.logError(e),t._player.trigger(p.Player.Error,e)})),this._player.on(p.Private.LiveShiftQueryCompleted,(function(){t._updateSeperator(),t._updateLayout()})),this._player.on(p.Private.LiveShiftSwitchToLive,(function(){t._updateCursorPosition()})),this._player.on(p.Player.Pause,(function(){t._liveshiftService.stop()})),a.IS_IPAD?this.interval=setInterval((function(){t._onProgress()}),500):this._player.on(p.Video.Progress,(function(){t._onProgress()}))},_updateSeperator:function(){this._liveshiftService.currentTimeDisplay&&(this.seperatorNode.innerText=this._liveshiftService.currentTimeDisplay)},_updateLayout:function(){var e=this.seperatorNode.offsetWidth,t=this.el().offsetWidth,r=t-e;0!=e&&0!=r&&(i.css(this.progressNode,"width",100*(r-10)/t+"%"),i.css(this.seperatorNode,"right",-1*(e+10)+"px"))},_progressMove:function(e){var t=this._getSeconds(e),r=this._liveshiftService.availableLiveShiftTime,n=(t=(this.timeNode.innerText="-"+c.formatTime(r-t),r?t/r:0),r=1-this.timeNode.clientWidth/this.el().clientWidth,r<t&&(t=r),this.timeNode&&(i.css(this.timeNode,"display","block"),i.css(this.timeNode,"left",100*t+"%")),this);!a.IS_PC&&n._progressDown&&(n.progressSeekTimer&&clearTimeout(n.progressSeekTimer),n.progressSeekTimer=setTimeout((function(){n._progressDown||n._onMouseClick(e)}),200))},_hideProgress:function(e){o.off(this.cursorNode,"mousedown"),o.off(this.cursorNode,"touchstart")},_cancelHideProgress:function(e){var t=this;o.on(this.cursorNode,"mousedown",(function(e){t._onMouseDown(e)})),o.on(this.cursorNode,"touchstart",(function(e){t._onMouseDown(e)}))},_canSeekable:function(e){var t=!0;return"function"==typeof this._player.canSeekable?this._player.canSeekable(e):t},_onMouseOver:function(e){this._updateCursorPosition(this._getCurrentTime()),i.css(this.timeNode,"display","block")},_onMouseOut:function(e){i.css(this.timeNode,"display","none")},_getSeconds:function(e){if(e.touches&&e.touches[0]){for(var t,r=this.el().offsetLeft,n=this.el();n.offsetParent;){n=n.offsetParent;var o=i.getTranslateX(n);r+=n.offsetLeft+o}n.tagName&&"body"===n.tagName.toLowerCase()&&(r+=document.getElementsByTagName("html")[0].offsetLeft),(t=(e.touches?e.touches[0]:e).pageX-r)<0&&(t=0)}else t=e.offsetX,e.target!==this.cursorNode&&e.target.offsetParent!==this.cursorNode||(t+=this.cursorNode.offsetLeft),e.target!==this._el&&(e.target.offsetParent,this._el);e=this.progressNode.offsetWidth;var a=this._liveshiftService.availableLiveShiftTime;return sec=(sec=(sec=a?t/e*a:0)<0?0:sec)>a?a:sec},_onMouseClick:function(e){var t=this,r=(e=this._getSeconds(e),this._liveshiftService.availableLiveShiftTime),n=r-e,i=this._player._options;n<=i.liveShiftMinOffset&&(e=r-(n=i.liveShiftMinOffset)),this._player.trigger(p.Private.SeekStart,{fromTime:this._getCurrentTime()}),r=this._liveshiftService.getSourceUrl(n),i=u.isHls(t._player._options.source);t._player._loadByUrlInner(r,e,!0),t._player.trigger(p.Private.Play_Btn_Hide),t._liveshiftService.seekTime=e,t._player.trigger(p.Private.EndStart,{toTime:e}),t._updateProgressBar(this.playedNode,e),t._updateCursorPosition(e),setTimeout((function(){t._progressDown||t._onMouseOut()}),500),i&&setTimeout((function(){t._player.play()}))},_onMouseDown:function(e){var t=this;e.preventDefault(),this._player.trigger(p.Private.SeekStart,{fromTime:this._getCurrentTime()}),o.on(this.controlNode,"mousemove",(function(e){t._onMouseMove(e)})),o.on(this.controlNode,"touchmove",(function(e){t._onMouseMove(e)})),o.on(this.controlNode,"mouseup",(function(e){t._onMouseUp(e)})),o.on(this.controlNode,"touchend",(function(e){t._onMouseUp(e)}))},_onMouseUp:function(e){e.preventDefault(),o.off(this.controlNode,"mousemove"),o.off(this.controlNode,"touchmove"),o.off(this._player.tag,"mouseup"),o.off(this._player.tag,"touchend"),o.off(this.controlNode,"mouseup"),o.off(this.controlNode,"touchend"),this._onMouseClick(e)},_onMouseMove:function(e){e.preventDefault()},_onTimeupdate:function(e){this._player._seeking||(a.IS_ANDROID&&a.IS_UC&&(this._hasResetFlagUC&&this._player.getCurrentTime()&&(this._hasResetFlagUC=!1,this._basePtsUC=this._player.getCurrentTime()),this._player.getCurrentTime()||(this._hasResetFlagUC=!0,this._basePtsUC=0)),this._updateProgressBar(this.playedNode,this._getCurrentTime()),this._updateCursorPosition(this._getCurrentTime()),this._player.trigger(p.Private.UpdateProgressBar,{time:this._getCurrentTime()}))},_getCurrentTime:function(){var e=this._liveshiftService.seekTime;-1==e&&(e=0),e=this._player.getCurrentTime()+e;return a.IS_ANDROID&&a.IS_UC&&(e-=this._basePtsUC||0),e},_onProgress:function(e){this._player.getDuration()&&1<=this._player.getBuffered().length&&this._updateProgressBar(this.loadedNode,this._player.getBuffered().end(this._player.getBuffered().length-1))},_updateProgressBar:function(e,t){var r,n;1!=this._player._switchSourcing&&(n=0,-1==this._liveshiftService.seekTime?n=1:1<(n=(r=this._liveshiftService.availableLiveShiftTime)?t/r:0)&&(this._liveshiftService.seekTime=-(n=1)),this.liveShiftStartDisplay,e)&&i.css(e,"width",100*n+"%")},_updateCursorPosition:function(e){var t,r,n,o;this._player.el()&&1!=this._player._switchSourcing&&(n=0,o=1,t=this._player.el().clientWidth,-1==this._liveshiftService.seekTime?n=1:1<(n=(r=this._liveshiftService.availableLiveShiftTime)?e/r:0)&&(this._liveshiftService.seekTime=-1),0!=t&&(o=1-(e=10/t),n-=e),n=n<0?0:n,this.cursorNode)&&(o<n?(i.css(this.cursorNode,"right","0px"),i.css(this.cursorNode,"left","auto")):(i.css(this.cursorNode,"right","auto"),i.css(this.cursorNode,"left",100*n+"%")))}});t.exports=e},{"../config":15,"../lang/index":26,"../lib/dom":35,"../lib/event":36,"../lib/function":38,"../lib/playerutil":48,"../lib/ua":51,"../lib/util":53,"../player/base/event/eventtype":71,"../ui/component":137}],14:[function(e,t,r){var n=e("../ui/component"),i=e("../lib/util"),o=e("../player/base/event/eventtype");e=n.extend({init:function(e,t){n.call(this,e,t),this.className=t.className||"prism-live-time-display",this.addClass(this.className),this._liveshiftService=e._liveshiftService},createEl:function(){var e=n.prototype.createEl.call(this,"div");return e.innerHTML='<span class="current-time">00:00</span> <span class="time-bound">/</span> <span class="end-time">00:00</span><span class="live-text">Live: </span><span class="live-time"></span>',e},bindEvent:function(){var e=this;this._player.on(o.Video.TimeUpdate,(function(){var t,r=e._liveshiftService,n=document.querySelector("#"+e.id()+" .current-time");r.liveShiftStartDisplay&&r.availableLiveShiftTime>r.seekTime&&-1!=r.seekTime?(t=e._liveshiftService.getBaseTime(),t=i.formatTime(t+e._player.getCurrentTime()),n.innerText=t):r.currentTimeDisplay&&(n.innerText=r.currentTimeDisplay)})),this._player.on(o.Private.LiveShiftQueryCompleted,(function(){e.updateTime()}))},updateTime:function(){document.querySelector("#"+this.id()+" .end-time").innerText=this._liveshiftService.liveTimeRange.endDisplay,document.querySelector("#"+this.id()+" .live-time").innerText=this._liveshiftService.currentTimeDisplay}});t.exports=e},{"../lib/util":53,"../player/base/event/eventtype":71,"../ui/component":137}],15:[function(e,t,r){e=e("../package.json"),t.exports={domain:"g.alicdn.com",path:"/apsara-media-box/imp-web-player/",flashVersion:"2.8.2",h5Version:e.version.split("-")[0],rtsVersion:"2.9.1",cityBrain:!0,logDuration:3,logCount:100,logReportTo:"https://videocloud.cn-hangzhou.log.aliyuncs.com/logstores/newplayer/track",dumpLogReportTo:"https://web-video.cn-hangzhou.log.aliyuncs.com/logstores/player-dump/track"}},{"../package.json":11}],16:[function(e,t,r){(function(r){(function(){var n,i,o,a,s,c=e("../node_modules/@ali/mediabox-quality-tracer/dist/index.cjs").MediaboxQualityTracer,l=(e("./lib/patch-ssr").isSSR||(e("./lang/index").load(),i=e("./player/adaptiveplayer"),o=e("./lib/reloadInstanceUtil"),l=e("./lib/componentutil"),a=e("./config"),(s=function(e,t){n&&(n.updateOptions({cid:e.license&&e.license.key,region:"SEA"===e.env?"ap-southeast-1":"cn-hangzhou"}),n.setReady());var r=i.create(e,t);return n&&n.updateOptions({beforeSend:function(e){return e.c3="likely_ri="+(r._monitor&&r._monitor.sessionId),e}}),o.storeUserEvents(r),r}).getVersion=function(){return a.h5Version},l.register(s),s.players={},s.reloadInstance=o.reloadInstance,"undefined"==typeof Uint8Array)||Uint8Array.prototype.slice||Object.defineProperty(Uint8Array.prototype,"slice",{value:Array.prototype.slice}),(n=new c({businessName:"imp-web-player",version:a.h5Version||"unknown",deferRegionSet:!0,env:"dev"!==r?"prod":"local",disabled:!0===window.AliplayerDisableTracer})).wrap(s));c=window.Aliplayer=l;c.tracer=n,t.exports=c}).call(this)}).call(this,"prod")},{"../node_modules/@ali/mediabox-quality-tracer/dist/index.cjs":1,"./config":15,"./lang/index":26,"./lib/componentutil":30,"./lib/patch-ssr":47,"./lib/reloadInstanceUtil":49,"./player/adaptiveplayer":68}],17:[function(e,t,r){var n=e("../player/base/event/eventtype"),i=e("../lib/constants"),o=e("../lang/index");t.exports=(()=>{function e(e){var t=this;void 0===e&&(e={}),this.interval=3e3,this.player=null,this.timer=null,this.playerInitDone=!1,this.player=e.player,this.player.on(n.Player.Init,(function(){t.playerInitDone=!0}))}var t=e.prototype;return t.start=function(){var e=this;this.stop(),this.player&&this.player._options&&!this.player._options.preventRecord||(this.timer=setInterval((function(){e.playerInitDone&&e.check()}),this.interval))},t.stop=function(){this.clearTimer()},t.check=function(){var e=!1,t=this.detectPrototype()||this.detectNativeFn();return(t||this.detectDeperateVideo())&&(console.log("isMediaSourceModified",t),this.clearTimer(),this.displayError(),this.setupErrorStyle(),this.destroyVideo(),localStorage.setItem("_intercept_mediastream_",""),e=!0),e},t.dispose=function(){this.stop(),this.player=null,this.playerInitDone=!1},t.clearTimer=function(){this.timer&&(clearInterval(this.timer),this.timer=null)},t.displayError=function(){var e=this.player,t={mediaId:e._options&&e._options.vid?e._options.vid:"",error_code:i.ErrorCode.RecordNotAllowed,error_msg:o.get("Record_Not_Allowed")};e.logError(t),e.trigger(n.Player.Error,t)},t.setupErrorStyle=function(){this.hideRetry();var e=document.querySelector(".prism-ErrorMessage");e&&(e.style.opacity="1",e.style.visibility="visible")},t.hideRetry=function(){var e=document.querySelector("#"+this.player.id()+" .prism-button-retry");e&&(e.style.display="none")},t.destroyVideo=function(){this.player._drm&&this.player.destroy();var e=this.player.tag;e&&e.parentNode&&e.parentNode.removeChild(e)},t.detectPrototype=function(){var e=window,t=e.MediaSource;return t&&e.EventTarget&&t.__proto__.__proto__===e.EventTarget},t.detectNativeFn=function(){var e=window.MediaSource;return e&&!this.isNativeFn(e.prototype.addSourceBuffer)},t.isNativeFn=function(e){var t=RegExp("^".concat(Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?"),"$")),r=typeof e;return null!==e&&("object"==r||"function"==r)&&t.test(e)},t.detectDeperateVideo=function(){var e=this.player.tag;if(e)return-1!==(e.getAttribute("id")||"").indexOf("360")},e})()},{"../lang/index":26,"../lib/constants":31,"../player/base/event/eventtype":71}],18:[function(e,t,r){var n=e("../lib/oo"),i=e("../lang/index"),o=(e=n.extend({init:function(e,t){this._player=e,this._options=e.options()}}),e.prototype.handle=function(e){var t,r;this._options.autoPlayDelay&&(t=(t=this._options.autoPlayDelayDisplayText)||i.get("AutoPlayDelayDisplayText").replace("$$",this._options.autoPlayDelay),this._player.trigger("info_show",t),this._player.trigger("h5_loading_hide"),this._player.trigger("play_btn_hide"),(r=this)._timeHandler=setTimeout((function(){r._player.trigger("info_hide"),r._options.autoPlayDelay=0,e&&e()}),1e3*this._options.autoPlayDelay),this._player.on("play",(function(){o(r)})),this._player.on("pause",(function(){o(r)})))},e.prototype.dispose=function(){o(this),this._player=null},function(e){e._timeHandler&&(clearTimeout(e._timeHandler),e._timeHandler=null)});t.exports=e},{"../lang/index":26,"../lib/oo":46}],19:[function(e,t,r){var n=e("../lib/event"),i=e("../lib/data"),o=e("../player/base/event/eventtype"),a=i.guid();e={};function s(e){var t,r,n=this._options.keyFastForwardStep,i=this._options.isLive;switch(e&&e.keyCode){case 39:i||(e.preventDefault(),t=this.getDuration(),r=this.getCurrentTime()+n,this.seek(r=t<r?t:r),c.call(this,r),l.call(this,r));break;case 37:i||(e.preventDefault(),r=this.getCurrentTime()-n,this.seek(r=r<0?0:r),c.call(this,r),l.call(this,r));break;case 38:e.preventDefault(),this.getVolume()<1&&0<=this.getVolume()&&this.setVolume(Number((this.getVolume()+.1).toFixed(1)));break;case 40:e.preventDefault(),0<this.getVolume()&&this.getVolume()<=1&&this.setVolume(Number((this.getVolume()-.1).toFixed(1)));break;case 32:if(i)return;e.preventDefault(),this.tag.paused?this.play(!0):this.pause(!0)}}function c(e){this.trigger(o.Private.UpdateProgress,{targetTime:e})}function l(e){this.trigger(o.Private.UpdateCursorPosition,{targetTime:e})}e.init=function(){var e;this._options.keyShortCuts&&((e=s.bind(this)).guid=a,n.on(window.document,"keydown",e))},e.dispose=function(){var e;this._options.keyShortCuts&&((e=s.bind(this)).guid=a,n.off(window.document,"keydown",e))},t.exports=e},{"../lib/data":33,"../lib/event":36,"../player/base/event/eventtype":71}],20:[function(e,t,r){var n="undefined"==typeof Promise?e("es6-promise").Promise:Promise,i=e("../lib/constants").LicenseResultCode,o=e("../lib/io"),a=((e={})[i.ResourceIncorrect]="license resource init error",e[i.LicenseKeyInvalid]="invalid license key",e[i.DomainInvalid]="invalid domain",e[i.CertInvalid]="invalid cert content",e[i.NotFound]="license not found",e[i.Expired]="license expired",e);e=(()=>{function e(){}return e.getLicense=function(e,t,r){var a=this;return this.isWasmSupported()?t?e?this.instance?n.resolve(this.instance):new n((function(n,s){a.resolvers.push(n),a.rejecters.push(s),1===a.resolvers.length&&o.loadJS("https://g.alicdn.com/apsara-media-components/amcom-web-license/0.5.1/index.js",(function(){window.loadLicenseSource().then((function(n){var o=new n({business_id:2,domain_identity:e,license_key:t,region:r});return o.update().then((function(){a.instance=o,a.resolvers.forEach((function(e){e(o)}))})).catch((function(e){a.rejecters.forEach((function(t){t(i.CertInvalid+"#"+(e||"").trim().split(":")[0])}))}))})).catch((function(){a.rejecters.forEach((function(e){e(i.ResourceIncorrect)}))})).finally((function(){a.resolvers=[],a.rejecters=[]}))}),(function(){a.rejecters.forEach((function(e){e(i.ResourceIncorrect)}))}))})):n.reject(i.DomainInvalid):n.reject(i.LicenseKeyInvalid):n.reject(i.WasmNotSupported)},e.isWasmSupported=function(){return"object"==typeof WebAssembly&&"function"==typeof WebAssembly.instantiate},e.logError=function(e){a[e]&&console.error(a[e])},e})();e.instance=void 0,e.resolvers=[],e.rejecters=[],t.exports=e},{"../lib/constants":31,"../lib/io":43,"es6-promise":9}],21:[function(e,t,r){function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)!{}.hasOwnProperty.call(n,r)||(e[r]=n[r])}return e}).apply(null,arguments)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(e=>"symbol"==typeof(e=((e,t)=>{if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);if("object"!=typeof(r=r.call(e,t||"default")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"))?e:e+"")(n.key),n)}}var o=e("../lib/event"),a="box",s="content",c="top-left",l="top-right",u="bottom-left",p="bottom-right",d="percentage",h=(e=(()=>{function e(e){this._container=void 0,this._video=void 0,this._logoList=[],this._resizeDone=!0,this._observer=void 0,this._observer=new h,this._handleVideoResize=this._handleVideoResize.bind(this),this._handleWindowResize=this._handleWindowResize.bind(this),this._setLogo(e.logo),this._setElements(e.container,e.video)}var t,r,f=e.prototype;return f.dispose=function(){this._observer.dispose(),this._observer=void 0,o.off(this._video,"resize",this._handleVideoResize),o.off(document,"fullscreenchange",this._handleWindowResize),this._logoList.forEach((function(e){e.logo&&e.logo.remove()})),this._logoList=[],this._container=void 0,this._video=void 0,this._resizeDone=!0},f._setElements=function(e,t){this._container=e,this._video=t,this.loadedMeta?this._logoList.forEach(this._setupLogo.bind(this)):o.on(t,"resize",this._handleVideoResize),this._observer.observe(this._container,this._handleWindowResize),o.on(document,"fullscreenchange",this._handleWindowResize)},f._handleVideoResize=function(){!this._video.videoWidth||this._logoList.some((function(e){return e.logo}))||this._logoList.forEach(this._setupLogo.bind(this))},f._handleWindowResize=function(){var e=this;this._container&&this._resizeDone&&this.loadedMeta&&(this._resizeDone=!1,window.requestAnimationFrame((function(){e._resizeDone=!0,e._logoList.forEach(e._placeLogo.bind(e))})))},f._setLogo=function(e){this._logoList=e.map(this._defauleValue)},f._setupLogo=function(e){var t=this,r=this._createLogo(e);(e.logo=r).onload=function(){t._placeLogo(e)}},f._createLogo=function(e){var t=document.createElement("img");return t.setAttribute("class","prism-logo"),t.src=e.src,t},f._placeLogo=function(e){var t=e.logo,r=this._calcSize(e),n=(r.width&&t.setAttribute("width",r.width+"px"),r.height&&t.setAttribute("height",r.height+"px"),this._calcMatrix(e));t.style.position="absolute",Object.keys(n).forEach((function(e){t.style[e]=n[e]+"px"})),this._container.appendChild(e.logo)},f._calcSize=function(e){return this._getPixel(e)},f._calcMatrix=function(e){var t=this._getPosition(e),r=this._getPixel(e,{width:e.offsetX,height:e.offsetY});return Object.keys(t).forEach((function(e){switch(e){case"top":t[e]+=r.height;break;case"bottom":t[e]-=r.height;break;case"left":t[e]+=r.width;break;case"right":t[e]-=r.width}})),t},f._getPosition=function(e){var t=e.origin,r=(e=e.position,0),n=0;switch(t===s&&(r=Math.abs(this.videoSize.height-this.contentSize.height)/2,n=Math.abs(this.videoSize.width-this.contentSize.width)/2),e){case c:return{top:0+r,left:0+n};case l:return{top:0+r,right:0+n};case u:return{bottom:0+r,left:0+n};case p:return{bottom:0+r,right:0+n};default:return{top:0,left:0}}},f._formalize=function(e,t){var r=1;r=e.width/e.height>t.width/t.height?t.width/e.width:t.height/e.height;return{width:e.width*r,height:e.height*r}},f._getPixel=function(e,t){t=void 0===t?{}:t;var r=t.width,n=(t=t.height,e.unit),i=e.origin;return isNaN(r)&&(r=e.width),isNaN(t)&&(t=e.height),n===d?{width:(e=i===a?this.videoSize:this.contentSize).width*r/100,height:e.height*t/100}:{width:r,height:t}},f._defauleValue=function(e){return n({},e,{position:e.position||c,offsetX:e.offsetX||0,offsetY:e.offsetY||0,origin:e.origin||a,unit:e.unit||d})},f=e,(t=[{key:"videoSize",get:function(){return this._video?{width:this._video.offsetWidth,height:this._video.offsetHeight}:{}}},{key:"contentSize",get:function(){var e;return this._video?(e={width:this._video.videoWidth,height:this._video.videoHeight},{width:(e=this._formalize(e,this.videoSize)).width,height:e.height}):{}}},{key:"loadedMeta",get:function(){return!!this._video.videoWidth}}])&&i(f.prototype,t),r&&i(f,r),Object.defineProperty(f,"prototype",{writable:!1}),f})(),t.exports=e,(()=>{function e(){this._frame=void 0}var t=e.prototype;return t.observe=function(e,t){var r=document.createElement("iframe");return r.style.cssText="position:absolute;left:0;top:-100%;width:100%;height:100%;margin:1px 0 0;border:none;opacity:0;visibility:hidden;pointer-events:none;",r.onload=function(){r.contentWindow.onresize=function(){t(e)}},e.appendChild(r),this._frame=r},t.dispose=function(){this._frame&&(this._frame.contentWindow.onresize=null,this._frame.remove(),this._frame=void 0)},e})())},{"../lib/event":36}],22:[function(e,t,r){var n=e("../lib/event"),i=e("../player/base/event/eventtype");t.exports=(()=>{function e(){this.player=void 0,this.ratio=void 0,this.resize=void 0,this.target=void 0,this.resize=this._resize.bind(this)}var t=e.prototype;return t.autoResize=function(e,t,r){void 0===r&&(r="height"),"number"!=typeof e?console.warn("Parameter [ratio] should be a number, like 16/9"):(this.target=r,this.ratio=e,this.player=t,n.on(window,"resize",this.resize),this.resize())},t._resize=function(){var e,t,r;null!=(e=this.player.fullscreenService)&&e.isFullScreen||(e=null==(e=this.player)?void 0:e.el())&&("height"===this.target?(r=(t=e.offsetWidth)/this.ratio,e.style.height=r+"px"):(t=(r=e.offsetHeight)*this.ratio,e.style.width=t+"px"),null!=(e=this.player))&&e.trigger(i.Player.AutoResize,{width:t,height:r})},t.dispose=function(){n.off(window,"resize",this.resize),this.player=void 0,this.ratio=void 0,this.resize=void 0,this.target=void 0},e})()},{"../lib/event":36,"../player/base/event/eventtype":71}],23:[function(e,t,r){t.exports={OD:"OD",FD:"360p",LD:"540p",SD:"720p",HD:"1080p","2K":"2K","4K":"4K",FHD:"FHD",XLD:"XLD",SQ:"SQ",HQ:"HQ",Speed:"Speed",Speed_05X_Text:"0.5X",Speed_1X_Text:"Normal",Speed_125X_Text:"1.25X",Speed_15X_Text:"1.5X",Speed_2X_Text:"2X",Refresh_Text:"Refresh",Cancel:"Cancel",Mute:"Mute",Click_To_Unmute:"Click to unmute",Snapshot:"Snapshot",Detection_Text:"Diagnose",Play_DateTime:"Time",Default:"Default",Quality_Change_Fail_Switch_Text:"Cannot play, switch to ",Quality_Change_Text:"Switching to ",Quality_Change_Result:"Switched to ",Quality_The_Url:"The url",AutoPlayDelayDisplayText:"Play in $$ seconds",Error_Load_Abort_Text:"Data abort erro",Error_Network_Text:"Loading failed due to network error",Error_Decode_Text:"Decode error",Error_No_Decoder_Text:"Unsupported codec",Error_Server_Network_NotSupport_Text:"Network error or  the format of video is unsupported",Error_Offline_Text:"The network is unreachable, please click Refresh",Error_Play_Text:"Error occured while playing",Error_Retry_Text:" Please close or refresh",Error_AuthKey_Text:"Authentication expired or the domain is not in white list",Error_H5_Not_Support_Text:"The format/codec of video is not supported",Error_Not_Support_M3U8_Text:"The format of m3u8 is not supported by this explorer",Error_Not_Support_MP4_Text:"The format of mp4 is not supported by this explorer",Error_Not_Support_encrypt_Text:"To play the encrypted video,please set encryptType to 1",Error_Encrypt_Fetch_Failed_Text:"Failed to fetch the encrypted video",Error_Vod_URL_Is_Empty_Text:"The url is empty",Error_Vod_Fetch_Urls_Text:"Error occured when fetch urls from vod service，please close or refresh",Fetch_Playauth_Error:"Error occured when fetch playauth close or refresh",Error_Playauth_Decode_Text:"PlayAuth parse failed",Error_Vid_Not_Same_Text:"Cannot renew url due to vid changed",Error_Playauth_Expired_Text:"Playauth expired, please close or refresh",Error_MTS_Fetch_Urls_Text:"Error occurred while requesting mst server",Error_Load_M3U8_Failed_Text:"The m3u8 file loaded failed,possibly due to HTTPS certificate issues, cross-origin problems, or DNS resolution failures",Error_Load_M3U8_Timeout_Text:"Timeout error occored when the m3u8 file loaded",Error_Liveshift_M3U8_Not_Found_Text:"No more liveshift video avaliable",Error_M3U8_Decode_Text:"The m3u8 file decoded failed",Error_TX_Decode_Text:"Video decoded failed",Error_Manifest_Decode_Text:"Failed to parse manifest",Error_Waiting_Timeout_Text:"Buffering timeout, please close or refresh",Error_Invalidate_Source:"Video shoud be mp4、mp3、m3u8、mpd or flv",Error_Empty_Source:"Video URL shouldn't be empty",Error_Vid_Empty_Source:"vid's video URL hasn't been fetched",Error_Mediaauth_Empty_Source:"mediaAuth's video URL hasn't been fetched",Error_Fetch_NotStream:"The vid has no stream to play",Error_Fetch_Media_Not_Found:"Data is not found",Error_Not_Found:"Url is not found",Error_Drm_License_Request_Failed:"DRM license request failed",Error_Drm_Not_Supported:"DRM in not supported",Error_Drm_Load:"DRM load error",Error_Drm_No_Sts:"STS(accessKeyId/accessKeySecret/securityToken) is required for DRM playback",Error_Drm_Params_Missing:"Parameters for drm.widevine/fairplay, etc. are missing",Error_Region_Block_Text:"This video is not available in your region",Error_SW_Conflict:"Service Worker conflict. Please try disabling browser extensions, restarting the browser, and closing other tabs.",Error_SW_Register_Failed:"Service Worker registration failed.",Error_SW_ScriptURL_Empty:"Please provide the swScriptURL parameter.",Error_SW_ScriptURL_Https:"The swScriptURL parameter must use an absolute address with https:// protocol.",Error_SW_ScriptURL_Scope:"The swScriptURL (subpath: @scope1@) and the current webpage (subpath: @scope2@) must be under the same subpath.",Error_SW_Version_Not_Match:"The version number of swScriptURL (@swVersion@) must match the player version (@playerVersion@).",Error_SW_ScriptURL_ILlegal:"Please provide a valid swScriptURL(@detail@).",Error_SW_Https_required:"Https is required when playing Vod's encription video",Tip_Err_Common:"please contact us for support, the error detail is:<br />",Tip_Err_Common_Short:"the error detail is:<br />",Tip_Drm_Request_Err:"The request failed with an error, please check the browser console to check whether it is caused by DNS, HTTPS certificates, or network problems. <br/> If the above tests are fine,",Tip_Drm_Secure_Context:"DRM can only be accessed under https, localhost, 127.0.0.1 web pages, and manifest and media segments must also use https.",Tip_Drm_Key_System_Unavailable:"1. This browser does not support Widevine or the current Widevine configuration<br/>2. The request that pops up in the browser was rejected by the user<br/>3. Please open the browser settings, look for the [Protected Content] setting and allow",Tip_Drm_File_Not_Allowed:"Do not use the file:// to open the file directly, you need to use a https:// to access the file",Tip_Drm_Playlist_Hierarchy:"HLS playlist level error, the main list needs to be master playlist",Tip_Drm_Info_Missing:"Please make sure the parameters of drm.widevine/fairplay you provided are valid",Tip_Drm_Unsupported:"Your browser does not currently support Widevine. If you are using Chrome, you can visit the URL chrome://components/ to locate the 'Widevine Content Decryption Module' and click on 'Update'. If this module is not present, the browser will be unable to play DRM-protected videos.",Tip_Err_Decode:"The decoding error refers to the current audio/video frame is not compatible with the browser, you can try the following methods: <br />1.chrome/edge browser open the chrome://flags, search for Hardware-accelerated video decode, select disabled<br />2.If the decoding error persists, please transcode the video to fix the problem frame",Tip_Err_Rts_Http_Failed:"The error indicates that the RTS streaming request encountered an HTTP error, which is usually related to HTTPS certificate, DNS resolution, or network connectivity issues. Due to browser restrictions on JavaScript, the player cannot obtain detailed error information. If you need further information, you can follow these steps:<br>Right-click on a blank area of the browser and select 'Inspect'.<br>2.In the newly opened interface, select 'Console'.<br>3.Check for any red error messages:<br>If you see 'SSL', it means that you have not correctly configured the HTTPS certificate for the streaming domain.<br>If you see 'NOT RESOLVED', it means that the DNS resolution for your domain has failed.<br>You can also use the <a style='color:white;text-decoration:underline;' href='https://live.console.aliyun.com/#/tool/url' target='_blank'>ApsaraVideo Live Diagnostic Tool</a> for self-diagnosis.",Tip_Err_Not_found:"For live streams, this might be due to the broadcast not starting yet, having ended, or being disrupted. For on-demand videos, it could indicate the video is unavailable.",Tip_Err_Blocked:"If you have a network proxy enabled, please try disabling it and then retrying.",Tip_Err_Splayer:"For best practices regarding playback of H.265/H.266 encoded videos, please refer to",Tip_Err_Splayer_Doc:" this document.",Tip_SW_Register:"1.Please access the webpage using HTTPS<br>2.Please ensure that the provided swScriptURL is a complete address starting with https:// and is accessible.",Tip_License_Required:"Starting 2024-12-01, the new version of the player must be configured with a license to use. The license for the basic functions of the player can be applied for free and is valid for 1 year. Please apply in advance to avoid any disruption in usage ",Tip_License_Params:"After completing the application, please refer to this document to pass the license information into the SDK ",Tip_License_Check:"Please ensure that the provided license key/domain parameters match exactly with what were obtained from the VOD console.",Tip_License_Domain:"The current website domain does not match with your licensed domain",Tip_License_Feature:"The feature is not authorized by your license:",Live_End:"Live has finished",Play_Before_Fullscreen:"Please play before fullscreen",Can_Not_Seekable:"Can not seek to this position",Cancel_Text:"Cancel",OK_Text:"OK",Auto_Stream_Tip_Text:"Internet is slow, does switch to $$",Request_Block_Text:"This request is blocked, the video Url should be over https",Open_Html_By_File:"Html page should be on the server",Maybe_Cors_Error:"there is a network error, possibly due to HTTPS certificate issues, cross-origin problems, or DNS resolution failures",Speed_Switch_To:"Speed switch to ",Curent_Volume:"Current volume:",Volume_Mute:"set to mute",Volume_UnMute:"set to unmute",ShiftLiveTime_Error:"Live start time should not be greater than over time",Error_Not_Support_Format_On_Mobile:"flv、rmtp can't be supported on mobile，please use m3u8",Error_Not_Support_Mse_Flv:"Flv is not supported by this browser.",Error_Not_Support_Mse_Dash:"Dash is not supported by this browser.",Error_Not_Support_RTMP:"RTMP is not supported by this browser.",SessionId_Ticket_Invalid:"please assign value for sessionId and ticket properties",Http_Error:" An HTTP network request failed with an error, but not from the server.",Http_Timeout:"A network request timed out",DRM_License_Expired:"DRM license is expired, please refresh",Not_Support_DRM:"Browser doesn't support DRM",CC_Switch_To:"Subtitle switch to ",AudioTrack_Switch_To:"Audio tracks switch to ",Subtitle:"Subtitle/CC",AudioTrack:"Audio Track",Quality:"Quality",Auto:"Auto",Quality_Switch_To:"Quality switching to ",Fullscreen:"Full Screen",Setting:"Settings",Volume:"Volume",Play:"Play",Pause:"Pause",CloseSubtitle:"Close CC",OpenSubtitle:"Open CC",ExistFullScreen:"Exit Full Screen",Muted:"Muted",Retry:"Retry",SwitchToLive:"Return to live",iOSNotSupportVodEncription:"Versions of iOS below 17.1 doesn't support Vod's private encription video",iOSVodEncriptionBlacklist:"Please use Safari/Chrome browser to play Vod's private encription video",UseChromeForVodEncription:"This browser desn't suport Vod's encription video, please use latest Chrome/Edge",Record_Not_Allowed:"Recording or playing in seperated window is not allowed, please disable related plugins or switch browser.",License_No_Authorization:"Aliplayer without Authorization",License_Click_To_Apply:"Click to apply",License_Empty:"License params are required",License_Not_Found:"Unregistered license",License_Expired:"Expired license",License_License_Key_Invalid:"Invalid license key",License_Domain_Invalid:"Unexpected domain",License_Feature_Unauthorized:"Unauthorized feature",Rts_Err_Http_Signal_Error:"(RTS)http signal error",Rts_Err_Play_Failed:"(RTS)play faild error",Rts_Err_No_Data_For:"s received no data",Rts_Err_Browser_Not_Support:"(RTS)browser not support",Rts_Err_Not_Support_Webrtc:"(RTS)not support webrtc",Rts_Err_Browser_Version_Too_Low:"(RTS)browser version too low",Rts_Err_Not_Support_H264:"(RTS)not support h264",Rts_Err_Create_Offer_Error:"(RTS)create offer error",Rts_Err_Play_Url_Error:"(RTS)play url error",Rts_Err_Subscribe_Nonthing:"(RTS)subscribe nonthing",Rts_Err_Http_Request_Failed:"(RTS)HTTP request failed",Rts_Err_Http_Answer_Failed:"(RTS)answer failed",Rts_Err_PeerConnection_Unknown:"(RTS)Unknown PeerConnection",Splayer_Err_Env_Check:"(SP)This browser can't play this media",Splayer_Err_Coroutine:"(SP)Coroutine error",Splayer_Err_Decoder:"(SP)Decode error",Splayer_Err_Buffering:"(SP)Buffering error",Splayer_Err_Parser_Not_Found:"(SP)Media container is not supported"}},{}],24:[function(e,t,r){t.exports={OD:"OD",LD:"360p",FD:"540p",SD:"720p",HD:"1080p","2K":"2K","4K":"4K",FHD:"FHD",XLD:"XLD",SQ:"SQ",HQ:"HQ",Forbidden_Text:"Internal information is strictly forbidden to outsider",Refresh:"Refresh",Diagnosis:"Diagnosis",Live_Finished:"Live has finished, thanks for watching",Play:"Play",Pause:"Pause",Snapshot:"Snapshot",Replay:"Replay",Live:"Live",Encrypt:"Encrypt",Sound:"Sound",Fullscreen:"Full Screen",Exist_Fullscreen:"Exit Full-screen",Resolution:"Resolution",Next:"Next Video",Brightness:"Brightness",Default:"Default",Contrast:"Contrast",Titles_Credits:"Titles and Credits",Skip_Titles:"Skip Titles",Skip_Credits:"Skip Credits",Not_Support_Out_Site:"The video is not supported for outside website, please watch it by TaoTV",Watch_Now:"Watch now",Network_Error:"Network is unreachable, please try to refresh",Video_Error:"Playing a video error, please try to refresh",Decode_Error:"Data decoding error",Live_Not_Start:"Live has not started, to be expected",Live_Loading:"Live information is loading, please try to refresh",Fetch_Playauth_Error:"Error occured when fetch playauth close or refresh",Live_End:"Live has finished",Live_Abrot:"Signal aborted, please try to refresh",Corss_Domain_Error:"Please ensure your domain has obtained IPC license and combined CNAME, \r\n or to set  cross-domain accessing available",Url_Timeout_Error:"The video url is timeout, please try to refresh",Connetction_Error:"Sorry，the video cannot play because of connection error, please try to watch other videos",Fetch_MTS_Error:"Fetching video list failed, please ensure",Token_Expired_Error:"Requesting open api failed, please ensure token expired or not",Video_Lists_Empty_Error:"The video list is empty, please check the format of video",Encrypted_Failed_Error:"Fetching encrypted file failed, please check the permission of player",Fetch_Failed_Permission_Error:"Fetching video list failed, please check the permission of player",Invalidate_Param_Error:"No video url, please check the parameters",AutoPlayDelayDisplayText:"Play in $$ seconds",Fetch_MTS_NOT_NotStream_Error:"The vid has no stream to play",Cancel_Text:"Cancel",OK_Text:"OK",Auto_Stream_Tip_Text:"Internet is slow, does switch to $$",Open_Html_By_File:"Html page should be on the server",Cant_Use_Flash_On_Mobile:"Mobile doesn't support flash player，please use h5 player",Flash_Not_Ready:"Flash Player plugin hasn't been installed <a href='https://www.flash.cn/' target='_blank'>install plugin</a>, or check if disable Flash plugin"}},{}],25:[function(e,t,r){t.exports={OD:"原画",FD:"流畅",LD:"标清",SD:"高清",HD:"超清","2K":"2K","4K":"4K",FHD:"全高清",XLD:"极速",SQ:"普通音质",HQ:"高音质",Forbidden_Text:"内部信息，严禁外传",Refresh:"刷新",Diagnosis:"诊断",Live_Finished:"直播已结束,谢谢观看",Play:"播放",Pause:"暂停",Snapshot:"截图",Replay:"重播",Live:"直播",Encrypt:"加密",Sound:"声音",Fullscreen:"全屏",Exist_Fullscreen:"退出全屏",Resolution:"清晰度",Next:"下一集",Brightness:"亮度",Default:"默认",Contrast:"对比度",Titles_Credits:"片头片尾",Skip_Titles:"跳过片头",Skip_Credits:"跳过片尾",Not_Support_Out_Site:"该视频暂不支持站外播放，请到淘TV观看",Watch_Now:"立即观看",Network_Error:"网络无法连接，请尝试检查网络后刷新试试",Video_Error:"视频播放异常，请刷新试试",Decode_Error:"播放数据解码错误",Live_Not_Start:"亲，直播还未开始哦，敬请期待",Live_Loading:"直播信息加载中，请刷新试试",Live_End:"亲，直播已结束",Live_Abrot:"当前直播信号中断，请刷新后重试",Corss_Domain_Error:"请确认您的域名已完成备案和CNAME绑定，\r\n并处于启用状态，或资源允许跨越访问",Url_Timeout_Error:"您所观看的视频地址连接超时，请刷新后重试",Connetction_Error:"抱歉,该视频由于连接错误暂时不能播放,请观看其它视频",Fetch_MTS_Error:"获取视频列表失败，请确认",Token_Expired_Error:"请求接口失败，请确认Token是否过期",Video_Lists_Empty_Error:"获取视频列表为空，请确认播放数据与格式",Encrypted_Failed_Error:"获取视频加密秘钥错误，请确认播放权限",Fetch_Failed_Permission_Error:"获取视频列表失败，请确认播放权限",Invalidate_Param_Error:"无输入视频，请确认输入参数",AutoPlayDelayDisplayText:"$$秒以后开始播放",Fetch_MTS_NOT_NotStream_Error:"此vid没有可播放视频",Cancel_Text:"取消",OK_Text:"确认",Auto_Stream_Tip_Text:"网络不给力，是否切换到$$",Fetch_Playauth_Error:"获取播放凭证出错啦，请尝试退出重试或刷新",Open_Html_By_File:"不能直接在浏览器打开html文件，请部署到服务端",Cant_Use_Flash_On_Mobile:"移动端不支持Flash播放器，请使用h5播放器",Flash_Not_Ready:"Flash Player插件未安装<a href='https://www.flash.cn/' target='_blank'>安装插件</a>，如果已经安装请检查是否被禁用"}},{}],26:[function(e,t,r){function n(t,r,n){var i=p(t),a="",s=u();a="flash"==t?"en-us"==s?e("./flash/en-us"):"zh-cn"==s?e("./flash/zh-cn"):r[s]:"en-us"==s?e("./en-us"):"zh-cn"==s?e("./zh-cn"):r[s];n&&(a=Object.assign({},a,n[s])),o.set(i,JSON.stringify(a)),l(t,a),n&&e("../lib/constants").updateByLanguage()}var i=e("../config"),o=e("../lib/storage"),a=(e("../lib/io"),"aliplayer_lang_data"),s="aliplayer_lang",c=function(){var e;return void 0!==window[s]&&window[s]||(e=(e=(navigator.language||navigator.browserLanguage).toLowerCase())&&-1<e.indexOf("zh")?"zh-cn":"en-us",window[s]=e),window[s]},l=function(e,t){e=p(e),window[e]=t},u=function(){return c()},p=function(e){var t=u();return a+"_"+(e=e||"h5")+"_"+i.h5Version.replace(/\./g,"_")+"_"+t};t.exports.setCurrentLanguage=function(t,r,i,o){var a=window[s];if(!("en-us"==(t=void 0!==t&&t?t:c())||"zh-cn"==t||i&&i[t]))throw new Error("There is not language resource for "+t+", please specify the language resource by languageTexts property");window[s]=t,n(r,i,o),t!=a&&e("../lib/constants").updateByLanguage()},t.exports.getCurrentLanguage=c,t.exports.getLanguageData=function(e,t){return e=p(e),window[e]},t.exports.load=n,t.exports.get=function(e,t,r){if(t=p(t=t||"h5"),t=window[t],t){var n=t[e];if(r)for(var i in r)n=n.replace(new RegExp("@"+i+"@","g"),r[i]);return n}}},{"../config":15,"../lib/constants":31,"../lib/io":43,"../lib/storage":50,"./en-us":23,"./flash/en-us":24,"./flash/zh-cn":25,"./zh-cn":27}],27:[function(e,t,r){t.exports={OD:"原画",FD:"流畅",LD:"标清",SD:"高清",HD:"超清","2K":"2K","4K":"4K",FHD:"全高清",XLD:"极速",SQ:"普通音质",HQ:"高音质",Speed:"倍速",Speed_05X_Text:"0.5X",Speed_1X_Text:"正常",Speed_125X_Text:"1.25X",Speed_15X_Text:"1.5X",Speed_2X_Text:"2X",Quality_Change_Fail_Switch_Text:"不能播放，切换为",Quality_Change_Text:"正在为您切换到 ",Quality_Change_Result:"已切换到 ",Quality_The_Url:"此地址",Refresh_Text:"刷新",Detection_Text:"查看建议",Cancel:"取消",Mute:"静音",Click_To_Unmute:"点击取消静音",Snapshot:"截图",Play_DateTime:"播放时间",Default:"默认",AutoPlayDelayDisplayText:"$$秒以后开始播放",Error_Load_Abort_Text:"获取数据过程被中止",Error_Network_Text:"网络错误加载数据失败",Error_Decode_Text:"解码错误",Error_No_Decoder_Text:"不支持此编码格式",Error_Server_Network_NotSupport_Text:"服务器、网络错误或格式不支持",Error_Offline_Text:"网络不可用，请确定",Error_Play_Text:"播放出错啦",Error_Retry_Text:"请尝试退出重试或刷新",Error_AuthKey_Text:"可能鉴权过期、域名不在白名单或请求被拦截",Error_H5_Not_Support_Text:"不支持此格式的视频",Error_Not_Support_M3U8_Text:"浏览器不支持m3u8视频播放",Error_Not_Support_MP4_Text:"浏览器不支持mp4视频播放",Error_Not_Support_encrypt_Text:"播放私有加密视频，请设置属性encryptType为1",Error_Encrypt_Fetch_Failed_Text:"请求加密地址失败",Error_Vod_URL_Is_Empty_Text:"获取播放地址为空",Error_Vod_Fetch_Urls_Text:"点播接口异常，请尝试退出重试或刷新",Fetch_Playauth_Error:"获取播放凭证出错啦，请尝试退出重试或刷新",Error_Playauth_Decode_Text:"playauth解析错误",Error_Vid_Not_Same_Text:"不能更新地址，vid和播放中的不一致",Error_Playauth_Expired_Text:"凭证已过期，请尝试退出重试或刷新",Error_MTS_Fetch_Urls_Text:"MTS获取取数失败",Error_Load_M3U8_Failed_Text:"获取m3u8文件失败,可能是https证书、跨域问题或DNS解析失败",Error_Load_M3U8_Timeout_Text:"获取m3u8文件超时",Error_Liveshift_M3U8_Not_Found_Text:"没有更多时移视频了",Error_M3U8_Decode_Text:"获取m3u8文件解析失败",Error_TX_Decode_Text:"解析数据出错",Error_Manifest_Decode_Text:"Manifest解析出错",Error_Waiting_Timeout_Text:"缓冲数据超时，请尝试退出重试或刷新",Error_Invalidate_Source:"播放地址格式需要为mp4、mp3、m3u8、mpd或flv",Error_Empty_Source:"播放地址不能为空",Error_Vid_Empty_Source:"vid对应的视频地址还未获取到",Error_Mediaauth_Empty_Source:"mediaAuth对应的视频地址还未获取到",Error_Fetch_NotStream:"此vid没有可播放视频",Error_Fetch_Media_Not_Found:"数据不存在或已被删除",Error_Not_Found:"播放地址不存在",Error_Drm_License_Request_Failed:"DRM License 请求失败",Error_Drm_Not_Supported:"当前浏览器不支持 DRM 播放",Error_Drm_Load:"DRM 播放错误",Error_Drm_No_Sts:"DRM 播放需要使用STS(accessKeyId/accessKeySecret/securityToken)",Error_Drm_Params_Missing:"缺少drm.widevine/fairplay等参数",Error_Region_Block_Text:"您所在的地区无法观看该视频",Error_SW_Conflict:"ServiceWorker冲突，请尝试禁用浏览器插件、重启浏览器并关闭其他网页",Error_SW_Register_Failed:"Service Worker注册失败",Error_SW_ScriptURL_Empty:"请传入 swScriptURL 参数",Error_SW_ScriptURL_Https:"swScriptURL参数请使用 https:// 协议的绝对地址",Error_SW_ScriptURL_Scope:"swScriptURL(子路径:@scope1@)和当前网页(子路径:@scope2@)必须在同一个子路径下",Error_SW_Version_Not_Match:"swScriptURL的版本号(@swVersion@)必须和播放器版本(@playerVersion@)号一致",Error_SW_ScriptURL_ILlegal:"请传入合法的swScriptURL(@detail@)",Error_SW_Https_required:"私有加密播放需要使用 https 环境",Tip_Err_Common:"您可联系售后支持，错误详情:<br />",Tip_Err_Common_Short:"错误详情:<br />",Tip_Drm_Request_Err:"请求出错，请先查看浏览器控制台，检查是否由域名解析、https证书、或网络问题引起。<br />若以上检查没问题，",Tip_Drm_Secure_Context:"DRM仅可以在https、localhost、127.0.0.1网页下访问，同时manifest和切片也必须使用https。",Tip_Drm_Key_System_Unavailable:"1.此浏览器不支持Widevine或者当前的Widevine配置<br />2.浏览器弹出的请求被用户拒绝了<br />3.请打开浏览器设置，查找关于【受保护的内容】设置并允许",Tip_Drm_File_Not_Allowed:"请不要使用file://直接打开文件，需要使用https://访问文件",Tip_Drm_Playlist_Hierarchy:"HLS播放列表层级错误，主列表需要是 master playlist",Tip_Drm_Info_Missing:"请检查传入的drm.widevine/fairplay等参数是否有效",Tip_Drm_Unsupported:"您的浏览器不支持 Widevine，如果是 Chrome，可以访问 chrome://components/，查找 Widevine Content Decryption Module，并点击更新。如果没有此模块，则该浏览器无法播放 DRM 视频。",Tip_Err_Decode:"解码错误指的是当前音/视频帧与浏览器不兼容，可以尝试以下方式：<br />1.chrome/edge 浏览器打开chrome://flags，搜索 Hardware-accelerated video decode，选择 disabled<br />2.如果解码错误仍然存在，请对视频进行转码处理，以修复问题帧<br />3.firefox浏览器请打开about:support，下拉找到【解码器支持信息】，如果没有AAC字样，代表不支持音频解码，请更换浏览器",Tip_Err_Rts_Http_Failed:"该错误指的是RTS拉流请求遇到了一个http错误，一般来说是https证书、DNS解析或者网络连通性问题，由于浏览器对JS的限制，播放器无法取得详细的错误信息，需要进一步排查，您可按照以下操作：<br>1.右键浏览器空白处，选择【检查】2.在新打开的界面中选择【控制台】3.查看红色报错：<br>如果有SSL字样，则代表您没有为拉流域名正确地配置https证书<br>如果有NOT RESOLVED字样，则代表您的域名DNS解析失败<br>您也使用<a style='color:white;text-decoration:underline;' href='https://live.console.aliyun.com/#/tool/url' target='_blank'>阿里云直播诊断工具</a>进行自助排查",Tip_Err_Not_found:"如果是直播，可能是直播未开始/已停止/已断流；如果是点播，可能是视频不存在。",Tip_Err_Blocked:"如果您开启了网络代理，请关闭后重试。",Tip_Err_Splayer:"关于 H.265/H.266 播放的最佳实践，请参考",Tip_Err_Splayer_Doc:"此文档。",Tip_SW_Register:"1.请使用https访问网页<br>2.请确保传入的swScriptURL是以https://开头的完整地址，且可以正常访问",Tip_License_Required:"2024年12月1日起，新版本播放器需要配置License才可以使用，播放器基础功能License免费申请，有效期 1 年，请提前申请以避免无法使用",Tip_License_Params:"申请完成后，请参考此文档将License信息传入SDK",Tip_License_Check:"请确保传入的 license key/domain 参数和点播控制台上获取的完全一致",Tip_License_Domain:"当前网页域名和您的 license 授权域名不一致",Tip_License_Feature:"您的license未授权功能：",Live_End:"亲，直播已结束",Play_Before_Fullscreen:"播放后再全屏",Can_Not_Seekable:"不能seek到这里",Cancel_Text:"取消",OK_Text:"确认",Auto_Stream_Tip_Text:"网络不给力，是否切换到$$",Request_Block_Text:"浏览器安全策略视频地址不能为http协议，与网站https协议不一致",Open_Html_By_File:"不能直接在浏览器打开html文件，请部署到服务端",Maybe_Cors_Error:"网络请求失败，可能是https证书、跨域问题或DNS解析失败",Speed_Switch_To:"倍速切换到 ",Curent_Volume:"当前音量：",Volume_Mute:"设置为静音",Volume_UnMute:"设置为非静音",ShiftLiveTime_Error:"直播开始时间不能大于直播结束时间",Error_Not_Support_Format_On_Mobile:"移动端不支持flv、rmtp视频，请使用m3u8",Error_Not_Support_Mse_Flv:"当前浏览器不支持 flv 视频",Error_Not_Support_Mse_Dash:"当前浏览器不支持 dash 视频",Error_Not_Support_RTMP:"浏览器不支持 rtmp 视频",SessionId_Ticket_Invalid:"DRM视频播放，sessionId和ticket属性不能为空",Http_Error:"Http网络请求失败",Http_Timeout:"http请求超时",DRM_License_Expired:"DRM license超时，请刷新",Not_Support_DRM:"浏览器不支持DRM视频的播放或未受到用户许可",CC_Switch_To:"字幕切换到 ",AudioTrack_Switch_To:"音轨切换到 ",Subtitle:"字幕",AudioTrack:"音轨",Quality:"清晰度",Auto:"自动",Quality_Switch_To:"正在切换清晰度至 ",Fullscreen:"全屏",Setting:"设置",Volume:"音量",Play:"播放",Pause:"暂停",CloseSubtitle:"关闭字幕",OpenSubtitle:"打开字幕",ExistFullScreen:"退出全屏",Muted:"静音",Retry:"重试",SwitchToLive:"返回直播",iOSNotSupportVodEncription:"iOS17.1以下不支持阿里云视频私有加密播放",iOSVodEncriptionBlacklist:"请使用Safari/Chrome浏览器播放加密视频",UseChromeForVodEncription:"浏览器不支持点播加密播放，请使用最新Chrome/Edge浏览器",Record_Not_Allowed:"禁止录屏或小窗口播放，请关闭插件或更换浏览器",License_No_Authorization:"播放器SDK未激活",License_Click_To_Apply:"点击申请License",License_Empty:"未配置License",License_Not_Found:"License未注册",License_Expired:"License已过期",License_License_Key_Invalid:"LicenseKey无效",License_Domain_Invalid:"域名不匹配",License_Feature_Unauthorized:"功能未授权",Rts_Err_Http_Signal_Error:"(RTS)信令请求失败",Rts_Err_Play_Failed:"(RTS)播放失败",Rts_Err_No_Data_For:"秒没有数据",Rts_Err_Browser_Not_Support:"(RTS)不支持此浏览器",Rts_Err_Not_Support_Webrtc:"(RTS)不支持webrtc",Rts_Err_Browser_Version_Too_Low:"(RTS)浏览器版本过低",Rts_Err_Not_Support_H264:"(RTS)不支持H264",Rts_Err_Create_Offer_Error:"(RTS)create offer失败",Rts_Err_Play_Url_Error:"(RTS)播放url协议错误",Rts_Err_Subscribe_Nonthing:"(RTS)参数设置错误",Rts_Err_Http_Request_Failed:"(RTS)HTTP请求失败",Rts_Err_Http_Answer_Failed:"(RTS)answer失败",Rts_Err_PeerConnection_Unknown:"(RTS)PeerConnection异常",Splayer_Err_Env_Check:"(SP)当前环境不支持播放该视频",Splayer_Err_Coroutine:"(SP)Coroutine 错误",Splayer_Err_Decode:"(SP)解码错误",Splayer_Err_Buffering:"(SP)缓冲区错误",Splayer_Err_Parser_Not_Found:"(SP)不支持的媒体容器"}},{}],28:[function(e,t,r){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";if(window.Uint8Array)for(var i=new Uint8Array(256),o=0;o<n.length;o++)i[n.charCodeAt(o)]=o;var a=function(e){for(var t="",r=0;r<e.length;r+=16e3){var n=e.subarray(r,r+16e3);t+=String.fromCharCode.apply(null,n)}return t};t.exports={decode:function(e){for(var t,r,n,o,a=.75*e.length,s=e.length,c=0,l=(a=("="===e[e.length-1]&&(a--,"="===e[e.length-2])&&a--,new ArrayBuffer(a)),new Uint8Array(a)),u=0;u<s;u+=4)t=i[e.charCodeAt(u)],r=i[e.charCodeAt(u+1)],n=i[e.charCodeAt(u+2)],o=i[e.charCodeAt(u+3)],l[c++]=t<<2|r>>4,l[c++]=(15&r)<<4|n>>2,l[c++]=(3&n)<<6|63&o;return a},encode:function(e){for(var t=new Uint8Array(e),r=t.length,i="",o=0;o<r;o+=3)i=(i=(i=(i+=n[t[o]>>2])+n[(3&t[o])<<4|t[o+1]>>4])+n[(15&t[o+1])<<2|t[o+2]>>6])+n[63&t[o+2]];return r%3==2?i=i.substring(0,i.length-1)+"=":r%3==1&&(i=i.substring(0,i.length-2)+"=="),i},unpackPlayReady:function(e){if(e=((e,t,r)=>{if(!e)return"";r||e.byteLength%2==0||console.log("Data has an incorrect length, must be even."),r=e instanceof ArrayBuffer?e:((r=new Uint8Array(e.byteLength)).set(new Uint8Array(e)),r.buffer);for(var n=Math.floor(e.byteLength/2),i=new Uint16Array(n),o=new DataView(r),s=0;s<n;s++)i[s]=o.getUint16(2*s,t);return a(i)})(e,!0,!0),-1!=e.indexOf("PlayReadyKeyMessage")){e=(new DOMParser).parseFromString(e,"application/xml");for(var t=e.getElementsByTagName("HttpHeader"),r={},n=0;n<t.length;++n){var i=t[n].querySelector("name"),o=t[n].querySelector("value");r[i.textContent]=o.textContent}return{header:r,changange:e.querySelector("Challenge").textContent}}console.log("PlayReady request is already unwrapped.")}}},{}],29:[function(e,t,r){var n=e("./videox-muxer.min");function i(){}t.exports=function(e,t,r){void 0===t&&(t=i),void 0===r&&(r=i);var o=new n.Demuxer({progressive:!0});o.on("loadedmetadata",(function(e){void 0===e&&(e={}),o.suspend(),o.destroy(),o=null,t(e)})),o.on("error",(function(e){r(e),o.suspend(),o.destroy(),o=null})),o.load(e)}},{"./videox-muxer.min":54}],30:[function(e,t,r){var n=e("./oo"),i=e("../player/base/event/eventtype");t.exports.stopPropagation=function(e){window.event?window.event.cancelBubble=!0:e.stopPropagation()},t.exports.register=function(e){e.util={stopPropagation:t.exports.stopPropagation},e.Component=n.extend,e.EventType=i.Player}},{"../player/base/event/eventtype":71,"./oo":46}],31:[function(e,t,r){function n(){t.exports.VideoErrorCodeText={1:i.get("Error_Load_Abort_Text"),2:i.get("Error_Network_Text"),3:i.get("Error_Decode_Text"),4:i.get("Error_Server_Network_NotSupport_Text")},t.exports.VideoLevels={0:i.get("OD"),640:i.get("FD"),960:i.get("LD"),1280:i.get("SD"),1920:i.get("HD"),2580:i.get("2K"),3840:i.get("4K")},t.exports.QualityLevels={OD:i.get("OD"),LD:i.get("LD"),FD:i.get("FD"),SD:i.get("SD"),HD:i.get("HD"),"2K":i.get("2K"),"4K":i.get("4K"),XLD:i.get("XLD"),FHD:i.get("FHD"),SQ:i.get("SQ"),HQ:i.get("HQ")},t.exports.SpeedLevels=[{key:.5,text:i.get("Speed_05X_Text")},{key:1,text:i.get("Speed_1X_Text")},{key:1.25,text:i.get("Speed_125X_Text")},{key:1.5,text:i.get("Speed_15X_Text")},{key:2,text:i.get("Speed_2X_Text")}]}var i=e("../lang/index");t.exports.LOAD_START="loadstart",t.exports.LOADED_METADATA="loadedmetadata",t.exports.LOADED_DATA="loadeddata",t.exports.PROGRESS="progress",t.exports.CAN_PLAY="canplay",t.exports.CAN_PLYA_THROUGH="canplaythrough",t.exports.PLAY="play",t.exports.PAUSE="pause",t.exports.ENDED="ended",t.exports.PLAYING="playing",t.exports.WAITING="waiting",t.exports.ERROR="error",t.exports.SUSPEND="suspend",t.exports.STALLED="stalled",t.exports.DASH_QUALITY_PROTOCOL="quality_index://",t.exports.AuthKeyExpiredEvent="authkeyexpired",t.exports.USER_EVENT_NAME="__user_events__",t.exports.PLAYER_SCOPE="__aliplayerMessage__",t.exports.SW_MSG_EVT={SETUP:"setup",SETUP_ACK:"setupAck",DISPOSE:"dispose",ENC_SEGMENT:"encSegment",DEC_SEGMENT:"decSegment",ABORT_SEGMENT:"abortSegment"},t.exports.DM_MSG_EVT={SETUP:"setup",DEMUX:"demux",RESULT:"result",FLUSH:"flush",DISPOSE:"dispose",DISPOSED:"disposed",ERROR:"error"},t.exports.PLAYER_SDK_CODE_LEGACY=9201,t.exports.PLAYER_SDK_CODE=9203,t.exports.FEATURE_ID_H265=30001,t.exports.FEATURE_ID_H266=30002,t.exports.LicenseResultCode={Success:0,NotFound:1,Expired:2,CertInvalid:3,WasmNotSupported:4,ResourceIncorrect:5,LicenseKeyInvalid:6,DomainInvalid:7},t.exports.LicenseErrorKey={Empty:"License_Empty",NotFound:"License_Not_Found",Expired:"License_Expired",CertInvalid:"License_Cert_Invalid",LicenseKeyInvalid:"License_License_Key_Invalid",DomainInvalid:"License_Domain_Invalid",Unauthorized:"License_Feature_Unauthorized"},t.exports.DRMKeySystem={4:"com.microsoft.playready",5:"com.widevine.alpha"},t.exports.EncryptionType={Private:1,Standard:2,ChinaDRM:3,PlayReady:4,Widevine:5},t.exports.VodEncryptionType={AliyunVoDEncryption:1,HLSEncryption:2,Widevine:5,"Widevine-FairPlay":5},t.exports.DRMType={Widevine:"Widevine",PlayReady:"PlayReady"},t.exports.ErrorCode={InvalidParameter:4001,AuthKeyExpired:4002,InvalidSourceURL:4003,NotFoundSourceURL:4004,StartLoadData:4005,LoadedMetadata:4006,PlayingError:4007,LoadingTimeout:4008,RequestDataError:4009,EncrptyVideoNotSupport:4010,FormatNotSupport:4011,PlayauthDecode:4012,PlayDataDecode:4013,NetworkUnavaiable:4014,UserAbort:4015,NetworkError:4016,URLsIsEmpty:4017,DrmLicenseRequestFailed:4018,RecordNotAllowed:4019,MediaNotFound:4020,DrmNotSupported:4021,DrmLoadError:4022,RegionBlock:4023,ModuleLoadError:4034,CrossDomain:4027,OtherError:4400,ServerAPIError:4500,FlashNotInstalled:4600,RtsSignalError:4100,RtsPlayFailedError:4200,RtsNotSupportWebRtc:4110,RtsBrowserNotSupport:4111,RtsBrowserVersionTooLow:4112,RtsNotSupportH264:4113,RtsCreateOfferError:4114,RtsAutoPLayFaild:4115,RtsPlayUrlError:4116,RtsSubscribeNonthing:4117,RtsHtmlElementError:4118,RtsHtmlElementNotMatch:4119,RtsBrowserNotSupportRtc:4120,RtsHttpRequestFaild:4121,RtsHttpAnswerFaild:4122,RtsPeerConnectionUnknown:4123,SplayerEnvCheckError:4300,SplayerCoroutineError:4301,SplayerDecodeError:4302,SplayerBufferingError:4303,SplayerParserNotFound:4304},t.exports.AuthKeyExpired=7200,t.exports.AuthKeyRefreshExpired=7e3,t.exports.AuthInfoExpired=100,t.exports.VideoErrorCode={1:4015,2:4016,3:4013,4:4400},t.exports.RegionBlockMessages=["black location","denied by region block"],t.exports.IconType={FontClass:"fontclass",Symbol:"symbol",Sprite:"Sprite"},t.exports.SelectedStreamLevel="selectedStreamLevel",t.exports.SelectedCC="selectedCC",t.exports.HWDetectHvc1="HWDetectHvc1",t.exports.HWDetectHvc1Hls="HWDetectHvc1Hls",t.exports.HWDetectHev1="HWDetectHev1",t.exports.HWDetectHev1Hls="HWDetectHev1Hls",t.exports.WidthMapToLevel={0:"OD",640:"FD",960:"LD",1280:"SD",1920:"HD",2580:"2K",3840:"4K"},n(),t.exports.updateByLanguage=n},{"../lang/index":26}],32:[function(e,t,r){t.exports.get=function(e){for(var t=e+"",r=document.cookie.split(";"),n=0;n<r.length;n++){var i=r[n].trim();if(0==i.indexOf(t))return unescape(i.substring(t.length+1,i.length))}return""},t.exports.set=function(e,t,r){var n=new Date;n.setTime(n.getTime()+24*r*60*60*1e3),r="expires="+n.toGMTString();document.cookie=e+"="+escape(t)+"; "+r}},{}],33:[function(e,t,r){var n=e("./object");t.exports.cache={},t.exports.guid=function(e,t){var r,n,i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),o=[];if(t=t||i.length,e)for(r=0;r<e;r++)o[r]=i[0|Math.random()*t];else for(o[8]=o[13]=o[18]=o[23]="-",o[14]="4",r=0;r<36;r++)o[r]||(n=0|16*Math.random(),o[r]=i[19==r?3&n|8:n]);return o.join("")},t.exports.expando="vdata"+(new Date).getTime(),t.exports.getData=function(e){var r=e[t.exports.expando];return r||(r=e[t.exports.expando]=t.exports.guid(),t.exports.cache[r]={}),t.exports.cache[r]},t.exports.hasData=function(e){var r="";return!(!(r=e?e[t.exports.expando]:r)||n.isEmpty(t.exports.cache[r]))},t.exports.removeData=function(e){var r="";if(r=e?e[t.exports.expando]:r){delete t.exports.cache[r];try{delete e[t.exports.expando]}catch(r){e.removeAttribute?e.removeAttribute(t.exports.expando):e[t.exports.expando]=null}}}},{"./object":45}],34:[function(e,t,r){var n,i="undefined"==typeof Promise?e("es6-promise").Promise:Promise;e="undefined"!=typeof self?self:this,n=function(){return t=[function(e,t,r){(function(e){t.b=function(e){for(var t=(e=void 0===e?{}:e).includes,r=(e=e.excludes,e=void 0===e?[]:e,!1),n=!1,i=0,o=void 0===t?[]:t;i<o.length;i++)if(!0===o[i]){r=!0;break}for(var a=0,s=e;a<s.length;a++)if(!0===s[a]){n=!0;break}return r&&!n},t.c=function(e,t,r){return e=i.a[e],void 0!==e&&Object(n.compare)(e,t,r)},t.a=function(){return"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:this};var n=r(11),i=(r.n(n),r(4))}).call(t,r(10))},function(e,t,r){r.d(t,"c",(function(){return i})),r.d(t,"d",(function(){return o})),r.d(t,"b",(function(){return a})),r.d(t,"f",(function(){return s})),r.d(t,"a",(function(){return c})),r.d(t,"e",(function(){return l}));t=r(3),r=r(0),r=Object(r.a)();var n,i="InstallTrigger"in((null==r?void 0:r.window)||{})||/firefox/i.test(t.b),o=/trident/i.test(t.b)||/msie/i.test(t.b),a=/edge/i.test(t.b),s=/webkit/i.test(t.b)&&!a,c=void 0!==(null==(n=null==r?void 0:r.window)?void 0:n.chrome)||/chrome/i.test(t.b),l="[object SafariRemoteNotification]"===((null==(r=null==(n=null==r?void 0:r.window)?void 0:n.safari)?void 0:r.pushNotification)||!1).toString()||/safari/i.test(t.b)&&!c},function(e,t,r){r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return a})),r.d(t,"a",(function(){return s}));var n=r(1);function i(e){if(console){if(!n.d&&!n.b)return console[e];if("log"===e||"clear"===e)return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];console[e].apply(console,t)}}return function(){for(var e=0;e<arguments.length;e++);}}var o=i("log"),a=i("table"),s=i("clear")},function(e,t,r){t.a=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return null!=n&&n.document?(e=n.document).createElement.apply(e,t):{}},r.d(t,"b",(function(){return i}));t=r(0);var n=Object(t.a)(),i=(null==(r=null==n?void 0:n.navigator)?void 0:r.userAgent)||"xxxxx"},function(e,t,r){r.d(t,"a",(function(){return n}));for(var n={},i=0,o=(r(3).b||"").match(/\w+\/(\d|\.)+(\s|$)/gi)||[];i<o.length;i++){var a=o[i].split("/"),s=a[0];n[s]=a[1]}},function(e,t,r){r.d(t,"b",(function(){return n})),r.d(t,"d",(function(){return i})),r.d(t,"c",(function(){return o})),r.d(t,"a",(function(){return a})),r.d(t,"e",(function(){return s}));t=r(3);var n=/ipad/i.test(t.b),i=/macintosh/i.test(t.b),o=/iphone/i.test(t.b),a=/android/i.test(t.b),s=/windows/i.test(t.b)},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.addListener=function(e){p.addListener(e)},t.removeListener=function(e){p.removeListener(e)},t.isLaunch=function(){return p.isLaunch()},t.launch=function(){p.launch()},t.stop=function(){p.stop()},t.setDetectDelay=function(e){p.setDetectDelay(e)};var n=r(7),i=r(8),o=(r.d(t,"DevtoolsDetector",(function(){return n.a})),r.d(t,"checkers",(function(){return i})),r(0)),a=(r.d(t,"match",(function(){return o.b})),r.d(t,"specificVersionMatch",(function(){return o.c})),r(1)),s=(r.d(t,"isFirefox",(function(){return a.c})),r.d(t,"isIE",(function(){return a.d})),r.d(t,"isEdge",(function(){return a.b})),r.d(t,"isWebkit",(function(){return a.f})),r.d(t,"isChrome",(function(){return a.a})),r.d(t,"isSafari",(function(){return a.e})),r(2)),c=(r.d(t,"log",(function(){return s.b})),r.d(t,"table",(function(){return s.c})),r.d(t,"clear",(function(){return s.a})),r(17)),l=(r.d(t,"isMobile",(function(){return c.a})),r(4)),u=(r.d(t,"versionMap",(function(){return l.a})),r(5)),p=(r.d(t,"isIpad",(function(){return u.b})),r.d(t,"isMac",(function(){return u.d})),r.d(t,"isIphone",(function(){return u.c})),r.d(t,"isAndroid",(function(){return u.a})),r.d(t,"isWindows",(function(){return u.e})),new n.a({checkers:[i.elementIdChecker,i.regToStringChecker,i.functionToStringChecker,i.depRegToStringChecker,i.dateToStringChecker,i.debuggerChecker]}));t.default=p},function(e,t,r){r.d(t,"a",(function(){return a}));var n=this&&this.__awaiter||function(e,t,r,n){return new(r=r||i)((function(i,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){var c=[a,s];if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&c[0]?n.return:c[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,c[1])).done)return i;switch(n=0,(c=i?[2&c[0],i.value]:c)[0]){case 0:case 1:i=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3]))o.label=c[1];else if(6===c[0]&&o.label<i[1])o.label=i[1],i=c;else{if(!(i&&o.label<i[2])){i[2]&&o.ops.pop(),o.trys.pop();continue}o.label=i[2],o.ops.push(c)}}c=t.call(e,o)}catch(s){c=[6,s],n=0}finally{r=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}},a=(s.prototype.launch=function(){this._detectLoopDelay<=0&&this.setDetectDelay(500),this._detectLoopStopped&&(this._detectLoopStopped=!1,this._detectLoop())},s.prototype.stop=function(){this._detectLoopStopped||(this._detectLoopStopped=!0,clearTimeout(this._timer))},s.prototype.isLaunch=function(){return!this._detectLoopStopped},s.prototype.setDetectDelay=function(e){this._detectLoopDelay=e},s.prototype.addListener=function(e){this._listeners.push(e)},s.prototype.removeListener=function(e){this._listeners=this._listeners.filter((function(t){return t!==e}))},s.prototype._broadcast=function(e){for(var t=0,r=this._listeners;t<r.length;t++){var n=r[t];try{n(e.isOpen,e)}catch(e){}}},s.prototype._detectLoop=function(){return n(this,void 0,void 0,(function(){var e,t,r,n,i,a=this;return o(this,(function(o){switch(o.label){case 0:e=!1,t="",r=0,n=this._checkers,o.label=1;case 1:return r<n.length?[4,(i=n[r]).isEnable()]:[3,6];case 2:return o.sent()?(t=i.name,[4,i.isOpen()]):[3,4];case 3:e=o.sent(),o.label=4;case 4:if(e)return[3,6];o.label=5;case 5:return r++,[3,1];case 6:return e!=this._isOpen&&(this._isOpen=e,this._broadcast({isOpen:e,checkerName:t})),0<this._detectLoopDelay?this._timer=setTimeout((function(){return a._detectLoop()}),this._detectLoopDelay):this.stop(),[2]}}))}))},s);function s(e){e=e.checkers,this._listeners=[],this._isOpen=!1,this._detectLoopStopped=!0,this._detectLoopDelay=500,this._checkers=e.slice()}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(9),i=(r.d(t,"depRegToStringChecker",(function(){return n.a})),r(12)),o=(r.d(t,"elementIdChecker",(function(){return i.a})),r(13)),a=(r.d(t,"functionToStringChecker",(function(){return o.a})),r(14)),s=(r.d(t,"regToStringChecker",(function(){return a.a})),r(15)),c=(r.d(t,"debuggerChecker",(function(){return s.a})),r(16));r.d(t,"dateToStringChecker",(function(){return c.a}))},function(e,t,r){r.d(t,"a",(function(){return p}));var n=r(1),o=r(2),a=r(0),s=this&&this.__awaiter||function(e,t,r,n){return new(r=r||i)((function(i,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},c=this&&this.__generator||function(e,t){var r,n,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){var c=[a,s];if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&c[0]?n.return:c[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,c[1])).done)return i;switch(n=0,(c=i?[2&c[0],i.value]:c)[0]){case 0:case 1:i=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3]))o.label=c[1];else if(6===c[0]&&o.label<i[1])o.label=i[1],i=c;else{if(!(i&&o.label<i[2])){i[2]&&o.ops.pop(),o.trys.pop();continue}o.label=i[2],o.ops.push(c)}}c=t.call(e,o)}catch(s){c=[6,s],n=0}finally{r=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}},l=/ /,u=!1,p=(l.toString=function(){return u=!0,p.name},{name:"dep-reg-to-string",isOpen:function(){return s(this,void 0,void 0,(function(){return c(this,(function(e){return u=!1,Object(o.c)({dep:l}),Object(o.a)(),[2,u]}))}))},isEnable:function(){return s(this,void 0,void 0,(function(){return c(this,(function(e){return[2,Object(a.b)({includes:[!0],excludes:[n.c,n.d]})]}))}))}})},function(e,t){var r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){var n;void 0!==(t="function"==typeof(n=function(){var e=/^v?(?:\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+))?(?:-[\da-z\-]+(?:\.[\da-z\-]+)*)?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i;function t(e){var t=e.replace(/^v/,"").replace(/\+.*$/,""),r=function(e,t){return-1===e.indexOf(t)?e.length:e.indexOf(t)}(t,"-"),n=t.substring(0,r).split(".");return n.push(t.substring(r+1)),n}function r(e){return isNaN(Number(e))?e:Number(e)}function n(t){if("string"!=typeof t)throw new TypeError("Invalid argument expected string");if(!e.test(t))throw new Error("Invalid argument not valid semver ('"+t+"' received)")}function i(e,i){[e,i].forEach(n);for(var o=t(e),a=t(i),s=0;s<Math.max(o.length-1,a.length-1);s++){var c=parseInt(o[s]||0,10),l=parseInt(a[s]||0,10);if(c>l)return 1;if(l>c)return-1}var u=o[o.length-1],p=a[a.length-1];if(u&&p){var d=u.split(".").map(r),h=p.split(".").map(r);for(s=0;s<Math.max(d.length,h.length);s++){if(void 0===d[s]||"string"==typeof h[s]&&"number"==typeof d[s])return-1;if(void 0===h[s]||"string"==typeof d[s]&&"number"==typeof h[s])return 1;if(d[s]>h[s])return 1;if(h[s]>d[s])return-1}}else if(u||p)return u?-1:1;return 0}var o=[">",">=","=","<","<="],a={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1]};return i.validate=function(t){return"string"==typeof t&&e.test(t)},i.compare=function(e,t,r){!function(e){if("string"!=typeof e)throw new TypeError("Invalid operator type, expected string but got "+typeof e);if(-1===o.indexOf(e))throw new TypeError("Invalid operator, expected one of "+o.join("|"))}(r);var n=i(e,t);return a[r].indexOf(n)>-1},i})?n.apply(t,[]):n)&&(e.exports=t)},function(e,t,r){r.d(t,"a",(function(){return p}));var n=r(1),o=r(2),a=r(0),s=(t=r(3),this&&this.__awaiter||function(e,t,r,n){return new(r=r||i)((function(i,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))}),c=this&&this.__generator||function(e,t){var r,n,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){var c=[a,s];if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&c[0]?n.return:c[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,c[1])).done)return i;switch(n=0,(c=i?[2&c[0],i.value]:c)[0]){case 0:case 1:i=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3]))o.label=c[1];else if(6===c[0]&&o.label<i[1])o.label=i[1],i=c;else{if(!(i&&o.label<i[2])){i[2]&&o.ops.pop(),o.trys.pop();continue}o.label=i[2],o.ops.push(c)}}c=t.call(e,o)}catch(s){c=[6,s],n=0}finally{r=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}},l=Object(t.a)("div"),u=!1,p=(Object.defineProperty(l,"id",{get:function(){return u=!0,p.name},configurable:!0}),{name:"element-id",isOpen:function(){return s(this,void 0,void 0,(function(){return c(this,(function(e){return u=!1,Object(o.b)(l),Object(o.a)(),[2,u]}))}))},isEnable:function(){return s(this,void 0,void 0,(function(){return c(this,(function(e){return[2,Object(a.b)({includes:[!0],excludes:[n.d,n.b,n.c]})]}))}))}})},function(e,t,r){r.d(t,"a",(function(){return d}));var n=r(1),o=r(2),a=r(5),s=r(0),c=this&&this.__awaiter||function(e,t,r,n){return new(r=r||i)((function(i,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},l=this&&this.__generator||function(e,t){var r,n,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){var c=[a,s];if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&c[0]?n.return:c[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,c[1])).done)return i;switch(n=0,(c=i?[2&c[0],i.value]:c)[0]){case 0:case 1:i=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3]))o.label=c[1];else if(6===c[0]&&o.label<i[1])o.label=i[1],i=c;else{if(!(i&&o.label<i[2])){i[2]&&o.ops.pop(),o.trys.pop();continue}o.label=i[2],o.ops.push(c)}}c=t.call(e,o)}catch(s){c=[6,s],n=0}finally{r=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}};function u(){}var p=0,d=(u.toString=function(){return p++,""},{name:"function-to-string",isOpen:function(){return c(this,void 0,void 0,(function(){return l(this,(function(e){return p=0,Object(o.b)(u),Object(o.a)(),[2,2===p]}))}))},isEnable:function(){return c(this,void 0,void 0,(function(){return l(this,(function(e){return[2,Object(s.b)({includes:[!0],excludes:[n.c,(a.b||a.c)&&n.a]})]}))}))}})},function(e,t,r){r.d(t,"a",(function(){return p}));var n=r(2),o=r(1),a=r(0),s=this&&this.__awaiter||function(e,t,r,n){return new(r=r||i)((function(i,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},c=this&&this.__generator||function(e,t){var r,n,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){var c=[a,s];if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&c[0]?n.return:c[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,c[1])).done)return i;switch(n=0,(c=i?[2&c[0],i.value]:c)[0]){case 0:case 1:i=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3]))o.label=c[1];else if(6===c[0]&&o.label<i[1])o.label=i[1],i=c;else{if(!(i&&o.label<i[2])){i[2]&&o.ops.pop(),o.trys.pop();continue}o.label=i[2],o.ops.push(c)}}c=t.call(e,o)}catch(s){c=[6,s],n=0}finally{r=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}},l=/ /,u=!1,p=(l.toString=function(){return u=!0,p.name},{name:"reg-to-string",isOpen:function(){return s(this,void 0,void 0,(function(){return c(this,(function(e){return u=!1,Object(n.b)(l),Object(n.a)(),[2,u]}))}))},isEnable:function(){return s(this,void 0,void 0,(function(){return c(this,(function(e){return[2,Object(a.b)({includes:[!0],excludes:[o.f]})]}))}))}})},function(e,t,r){r.d(t,"a",(function(){return s}));var n=this&&this.__awaiter||function(e,t,r,n){return new(r=r||i)((function(i,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){var c=[a,s];if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&c[0]?n.return:c[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,c[1])).done)return i;switch(n=0,(c=i?[2&c[0],i.value]:c)[0]){case 0:case 1:i=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3]))o.label=c[1];else if(6===c[0]&&o.label<i[1])o.label=i[1],i=c;else{if(!(i&&o.label<i[2])){i[2]&&o.ops.pop(),o.trys.pop();continue}o.label=i[2],o.ops.push(c)}}c=t.call(e,o)}catch(s){c=[6,s],n=0}finally{r=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}};function a(){return(performance||Date).now()}var s={name:"debugger-checker",isOpen:function(){return n(this,void 0,void 0,(function(){var e;return o(this,(function(t){return e=a(),function(){}.constructor("debugger")(),[2,100<a()-e]}))}))},isEnable:function(){return n(this,void 0,void 0,(function(){return o(this,(function(e){return[2,!0]}))}))}}},function(e,t,r){r.d(t,"a",(function(){return p}));var n=r(1),o=r(2),a=r(0),s=this&&this.__awaiter||function(e,t,r,n){return new(r=r||i)((function(i,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},c=this&&this.__generator||function(e,t){var r,n,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){var c=[a,s];if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&c[0]?n.return:c[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,c[1])).done)return i;switch(n=0,(c=i?[2&c[0],i.value]:c)[0]){case 0:case 1:i=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,n=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===c[0]||2===c[0])){o=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3]))o.label=c[1];else if(6===c[0]&&o.label<i[1])o.label=i[1],i=c;else{if(!(i&&o.label<i[2])){i[2]&&o.ops.pop(),o.trys.pop();continue}o.label=i[2],o.ops.push(c)}}c=t.call(e,o)}catch(s){c=[6,s],n=0}finally{r=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}},l=new Date,u=0,p=(l.toString=function(){return u++,""},{name:"date-to-string",isOpen:function(){return s(this,void 0,void 0,(function(){return c(this,(function(e){return u=0,Object(o.b)(l),Object(o.a)(),[2,2===u]}))}))},isEnable:function(){return s(this,void 0,void 0,(function(){return c(this,(function(e){return[2,Object(a.b)({includes:[n.a],excludes:[]})]}))}))}})},function(e,t,r){r.d(t,"a",(function(){return n}));t=r(3);var n=/mobile/i.test(t.b)}],r={},e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.p="",e(e.s=6);function e(n){var i;return(r[n]||(i=r[n]={i:n,l:!1,exports:{}},t[n].call(i.exports,i,i.exports,e),i.l=!0,i)).exports}var t,r},"object"==typeof r&&"object"==typeof t?t.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof r?r.devtoolsDetector=n():e.devtoolsDetector=n()},{"es6-promise":9}],35:[function(e,t,r){var n=e("./object");t.exports.el=function(e){return document.getElementById(e)},t.exports.createEl=function(e,t){var r;return e=e||"div",t=t||{},r=document.createElement(e),n.each(t,(function(e,t){-1!==e.indexOf("aria-")||"role"==e?r.setAttribute(e,t):r[e]=t})),r},t.exports.addClass=function(e,t){-1==(" "+e.className+" ").indexOf(" "+t+" ")&&(e.className=""===e.className?t:e.className+" "+t)},t.exports.removeClass=function(e,t){var r,n;if(-1!=e.className.indexOf(t)){for(n=(r=e.className.split(" ")).length-1;0<=n;n--)r[n]===t&&r.splice(n,1);e.className=r.join(" ")}},t.exports.hasClass=function(e,t){return-1!=e.className.indexOf(t)},t.exports.getClasses=function(e){return e.className?e.className.split(" "):[]},t.exports.getElementAttributes=function(e){var t,r,n={};if(e&&e.attributes&&0<e.attributes.length)for(var i,o=(i=e.attributes).length-1;0<=o;o--)t=i[o].name,r=i[o].value,"boolean"!=typeof e[t]&&-1===",autoplay,controls,loop,muted,default,".indexOf(","+t+",")||(r=null!==r),n[t]=r;return n},t.exports.insertFirst=function(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)},t.exports.blockTextSelection=function(){document.body.focus(),document.onselectstart=function(){return!1}},t.exports.unblockTextSelection=function(){document.onselectstart=function(){return!0}},t.exports.css=function(e,t,r){return!(!e||!e.style)&&(t&&r?(e.style[t]=r,!0):r||"string"!=typeof t?!r&&"object"==typeof t&&(n.each(t,(function(t,r){e.style[t]=r})),!0):e.style[t])},t.exports.getTransformName=function(e){for(var t=["transform","WebkitTransform","MozTransform","msTransform","OTransform"],r=t[0],n=0,i=t.length;n<i;n++)if(void 0!==e.style[t[n]]){r=t[n];break}return r},t.exports.getTransformEventName=function(e,t){for(var r=["","Webkit","Moz","ms","O"],n=t.toLowerCase(),i=["transform","WebkitTransform","MozTransform","msTransform","OTransform"],o=0,a=i.length;o<a;o++)if(void 0!==e.style[i[o]]){0!=o&&(n=r[o]+t);break}return n},t.exports.addCssByStyle=function(e){var t=document,r=t.createElement("style");r.setAttribute("type","text/css"),r.styleSheet?r.styleSheet.cssText=e:(e=t.createTextNode(e),r.appendChild(e)),e=t.getElementsByTagName("head");(e.length?e[0]:t.documentElement).appendChild(r)},t.exports.getTranslateX=function(e){var r=0;if(e)try{var n=window.getComputedStyle(e),i=t.exports.getTransformName(e);r=new(window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix)(n[i]).m41}catch(e){console.log(e)}return r},t.exports.getPointerPosition=function(e,r){var n={},i=t.exports.findPosition(e),o=e.offsetWidth,a=(e=e.offsetHeight,i.top),s=(i=i.left,r.pageY),c=r.pageX;return r.changedTouches&&(c=r.changedTouches[0].pageX,s=r.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(a-s+e)/e)),n.x=Math.max(0,Math.min(1,(c-i)/o)),n},t.exports.findPosition=function(e){var t,r,n,i;return(t=e.getBoundingClientRect&&e.parentNode?e.getBoundingClientRect():t)?(e=document.documentElement,i=document.body,n=e.clientLeft||i.clientLeft||0,r=window.pageXOffset||i.scrollLeft,r=t.left+r-n,n=e.clientTop||i.clientTop||0,e=window.pageYOffset||i.scrollTop,i=t.top+e-n,{left:Math.round(r),top:Math.round(i)}):{left:0,top:0}}},{"./object":45}],36:[function(e,t,r){var n=e("./object"),i=e("./data"),o=e("./ua"),a=e("./fastclick");function s(e,t,r,i){n.each(r,(function(r){e(t,r,i)}))}t.exports.on=function(e,r,c){if(e){if(n.isArray(r))return s(t.exports.on,e,r,c);o.IS_MOBILE&&"click"==r&&a.attach(e);var l=i.getData(e);l.handlers||(l.handlers={}),l.handlers[r]||(l.handlers[r]=[]),c.guid||(c.guid=i.guid()),l.handlers[r].push(c),l.dispatcher||(l.disabled=!1,l.dispatcher=function(r){if(!l.disabled){r=t.exports.fixEvent(r);var n=l.handlers[r.type];if(n)for(var i=n.slice(0),o=0,a=i.length;o<a&&!r.isImmediatePropagationStopped();o++)i[o].call(e,r)}}),1==l.handlers[r].length&&(e.addEventListener?e.addEventListener(r,l.dispatcher,!1):e.attachEvent&&e.attachEvent("on"+r,l.dispatcher))}},t.exports.off=function(e,r,o){if(e&&i.hasData(e)){var a=i.getData(e);if(a.handlers){if(n.isArray(r))return s(t.exports.off,e,r,o);var c=function(r){a.handlers[r]=[],t.exports.cleanUpEvents(e,r)};if(r){var l=a.handlers[r];if(l)if(o){if(o.guid)for(var u=0;u<l.length;u++)l[u].guid===o.guid&&l.splice(u--,1);t.exports.cleanUpEvents(e,r)}else c(r)}else for(var p in a.handlers)c(p)}}},t.exports.cleanUpEvents=function(e,t){var r=i.getData(e);0===r.handlers[t].length&&(delete r.handlers[t],e.removeEventListener?e.removeEventListener(t,r.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,r.dispatcher)),n.isEmpty(r.handlers)&&(delete r.handlers,delete r.dispatcher,delete r.disabled),n.isEmpty(r)&&i.removeData(e)},t.exports.fixEvent=function(e){function t(){return!0}function r(){return!1}if(!e||!e.isPropagationStopped){var n,i,o,a=e||window.event;for(n in e={},a)"layerX"===n||"layerY"===n||"keyboardEvent.keyLocation"===n||"returnValue"==n&&a.preventDefault||(e[n]=a[n]);e.target||(e.target=e.srcElement||document),e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement,e.preventDefault=function(){a.preventDefault&&a.preventDefault(),e.returnValue=!1,e.isDefaultPrevented=t,e.defaultPrevented=!0},e.isDefaultPrevented=r,e.defaultPrevented=!1,e.stopPropagation=function(){a.stopPropagation&&a.stopPropagation(),e.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=r,e.stopImmediatePropagation=function(){a.stopImmediatePropagation&&a.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=r,null!=e.clientX&&(i=document.documentElement,o=document.body,e.pageX=e.clientX+(i&&i.scrollLeft||o&&o.scrollLeft||0)-(i&&i.clientLeft||o&&o.clientLeft||0),e.pageY=e.clientY+(i&&i.scrollTop||o&&o.scrollTop||0)-(i&&i.clientTop||o&&o.clientTop||0)),e.which=e.charCode||e.keyCode,null!=e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e},t.exports.trigger=function(e,r){var n,o,a;if(e)return n=i.hasData(e)?i.getData(e):{},o=e.parentNode||e.ownerDocument,"string"==typeof r&&(a=null,!e.paramData&&0!=e.paramData||(a=e.paramData,e.paramData=null,e.removeAttribute(a)),r={type:r,target:e,paramData:a}),r=t.exports.fixEvent(r),n.dispatcher&&n.dispatcher.call(e,r),o&&!r.isPropagationStopped()&&!1!==r.bubbles?t.exports.trigger(o,r):o||r.defaultPrevented||(a=i.getData(r.target),r.target[r.type]&&(a.disabled=!0,"function"==typeof r.target[r.type]&&r.target[r.type](),a.disabled=!1)),!r.defaultPrevented},t.exports.one=function(e,r,o){if(e){if(n.isArray(r))return s(t.exports.one,e,r,o);var a=function(){t.exports.off(e,r,a),o.apply(this,arguments)};a.guid=o.guid=o.guid||i.guid(),t.exports.on(e,r,a)}}},{"./data":33,"./fastclick":37,"./object":45,"./ua":51}],37:[function(e,t,r){function n(e,t){var r;if(t=t||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=t.touchBoundary||10,this.layer=e,this.tapDelay=t.tapDelay||200,this.tapTimeout=t.tapTimeout||700,!n.notNeeded(e)){for(var i=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],a=0,s=i.length;a<s;a++)this[i[a]]=((e,t)=>function(){return e.apply(t,arguments)})(this[i[a]],this);o&&(e.addEventListener("mouseover",this.onMouse,!0),e.addEventListener("mousedown",this.onMouse,!0),e.addEventListener("mouseup",this.onMouse,!0)),e.addEventListener("click",this.onClick,!0),e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchmove",this.onTouchMove,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,r,n){var i=Node.prototype.removeEventListener;"click"===t?i.call(e,t,r.hijacked||r,n):i.call(e,t,r,n)},e.addEventListener=function(t,r,n){var i=Node.prototype.addEventListener;"click"===t?i.call(e,t,r.hijacked||(r.hijacked=function(e){e.propagationStopped||r(e)}),n):i.call(e,t,r,n)}),"function"==typeof e.onclick&&(r=e.onclick,e.addEventListener("click",(function(e){r(e)}),!1),e.onclick=null)}}var i=0<=navigator.userAgent.indexOf("Windows Phone"),o=0<navigator.userAgent.indexOf("Android")&&!i,a=/iP(ad|hone|od)/.test(navigator.userAgent)&&!i,s=a&&/OS 4_\d(_\d)?/.test(navigator.userAgent),c=a&&/OS [6-7]_\d/.test(navigator.userAgent),l=0<navigator.userAgent.indexOf("BB10");n.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(a&&"file"===e.type||e.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(e.className)},n.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!o;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},n.prototype.sendClick=function(e,t){var r;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),t=t.changedTouches[0],(r=document.createEvent("MouseEvents")).initMouseEvent(this.determineEventType(e),!0,!0,window,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),r.forwardedTouchEvent=!0,e.dispatchEvent(r)},n.prototype.determineEventType=function(e){return o&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},n.prototype.focus=function(e){var t;a&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type&&"month"!==e.type&&"email"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},n.prototype.updateScrollParent=function(e){var t,r=e.fastClickScrollParent;if(!r||!r.contains(e)){t=e;do{if(t.scrollHeight>t.offsetHeight){r=t,e.fastClickScrollParent=t;break}}while(t=t.parentElement)}r&&(r.fastClickLastScrollTop=r.scrollTop)},n.prototype.getTargetElementFromEventTarget=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},n.prototype.onTouchStart=function(e){var t,r,n;if(!(1<e.targetTouches.length)){if(t=this.getTargetElementFromEventTarget(e.target),r=e.targetTouches[0],a){if((n=window.getSelection()).rangeCount&&!n.isCollapsed)return!0;if(!s){if(r.identifier&&r.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=r.identifier,this.updateScrollParent(t)}}this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=r.pageX,this.touchStartY=r.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault()}return!0},n.prototype.touchHasMoved=function(e){e=e.changedTouches[0];var t=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>t||Math.abs(e.pageY-this.touchStartY)>t},n.prototype.onTouchMove=function(e){return this.trackingClick&&(this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0},n.prototype.findControl=function(e){return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},n.prototype.onTouchEnd=function(e){var t,r,n,i=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0;if(e.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,t=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,c&&(n=e.changedTouches[0],(i=document.elementFromPoint(n.pageX-window.pageXOffset,n.pageY-window.pageYOffset)||i).fastClickScrollParent=this.targetElement.fastClickScrollParent),"label"===(n=i.tagName.toLowerCase())){if(r=this.findControl(i)){if(this.focus(i),o)return!1;i=r}}else if(this.needsFocus(i))return 100<e.timeStamp-t||a&&window.top!==window&&"input"===n?this.targetElement=null:(this.focus(i),this.sendClick(i,e),a&&"select"===n||(this.targetElement=null,e.preventDefault())),!1;return!(!a||s||!(r=i.fastClickScrollParent)||r.fastClickLastScrollTop===r.scrollTop)||(this.needsClick(i)||(e.preventDefault(),this.sendClick(i,e)),!1)},n.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},n.prototype.onMouse=function(e){return!this.targetElement||!(!e.forwardedTouchEvent&&e.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)&&(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),1))},n.prototype.onClick=function(e){return this.trackingClick?(this.targetElement=null,!(this.trackingClick=!1)):"submit"===e.target.type&&0===e.detail||((e=this.onMouse(e))||(this.targetElement=null),e)},n.prototype.destroy=function(){var e=this.layer;o&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},n.notNeeded=function(e){var t,r;if(void 0===window.ontouchstart)return!0;if(r=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!o)return!0;if(t=document.querySelector("meta[name=viewport]")){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(31<r&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(l&&10<=(r=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/))[1]&&3<=r[2]&&(t=document.querySelector("meta[name=viewport]"))){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===e.style.msTouchAction||"manipulation"===e.style.touchAction||!!(27<=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]&&(t=document.querySelector("meta[name=viewport]"))&&(-1!==t.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))||"none"===e.style.touchAction||"manipulation"===e.style.touchAction},n.attach=function(e,t){return new n(e,t)},t.exports=n},{}],38:[function(e,t,r){var n=e("./data");t.exports.bind=function(e,t,r){function i(){return t.apply(e,arguments)}return t.guid||(t.guid=n.guid()),i.guid=r?r+"_"+t.guid:t.guid,i}},{"./data":33}],39:[function(e,t,r){function n(){n=function(){return t};var e,t={},r=Object.prototype,i=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function p(t,r,n,i){var a,s,c,l;r=r&&r.prototype instanceof _?r:_,r=Object.create(r.prototype),i=new P(i||[]);return o(r,"_invoke",{value:(a=t,s=n,c=i,l=h,function(t,r){if(l===y)throw Error("Generator is already running");if(l===g){if("throw"===t)throw r;return{value:e,done:!0}}for(c.method=t,c.arg=r;;){var n=c.delegate;if(n&&(n=function t(r,n){var i=n.method,o=r.iterator[i];return o===e?(n.delegate=null,"throw"===i&&r.iterator.return&&(n.method="return",n.arg=e,t(r,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),v):(i=d(o,r.iterator,n.arg),"throw"===i.type?(n.method="throw",n.arg=i.arg,n.delegate=null,v):(o=i.arg,o?o.done?(n[r.resultName]=o.value,n.next=r.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)))}(n,c),n)){if(n===v)continue;return n}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if(l===h)throw l=g,c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);if(l=y,n=d(a,s,c),"normal"===n.type){if(l=c.done?g:f,n.arg===v)continue;return{value:n.arg,done:c.done}}"throw"===n.type&&(l=g,c.method="throw",c.arg=n.arg)}})}),r}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var h="suspendedStart",f="suspendedYield",y="executing",g="completed",v={};function _(){}function m(){}function b(){}a={};var S=(u(a,s,(function(){return this})),Object.getPrototypeOf),T=(S=S&&S(S(C([]))),S&&S!==r&&i.call(S,s)&&(a=S),b.prototype=_.prototype=Object.create(a));function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var r;o(this,"_invoke",{value:function(n,o){function a(){return new t((function(r,a){!function r(n,o,a,s){var c;n=d(e[n],e,o);if("throw"!==n.type)return(o=(c=n.arg).value)&&"object"==typeof o&&i.call(o,"__await")?t.resolve(o.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(o).then((function(e){c.value=e,a(c)}),(function(e){return r("throw",e,a,s)}));s(n.arg)}(n,o,r,a)}))}return r=r?r.then(a,a):a()}})}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function C(t){if(t||""===t){var r,n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return r=-1,(n=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n}).next=n}throw new TypeError(typeof t+" is not iterable")}return o(T,"constructor",{value:m.prototype=b,configurable:!0}),o(b,"constructor",{value:m,configurable:!0}),m.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){return e="function"==typeof e&&e.constructor,!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(T),e},t.awrap=function(e){return{__await:e}},w(E.prototype),u(E.prototype,c,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new E(p(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(T),u(T,l,"Generator"),u(T,s,(function(){return this})),u(T,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t,r=Object(e),n=[];for(t in r)n.push(t);return n.reverse(),function e(){for(;n.length;){var t=n.pop();if(t in r)return e.value=t,e.done=!1,e}return e.done=!0,e}},t.values=C,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(k),!t)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,i){return s.type="throw",s.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var o=this.tryEntries.length-1;0<=o;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),l=i.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;0<=r;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var a=(o=o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc?null:o)?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r,n,i=this.tryEntries[t];if(i.tryLoc===e)return"throw"===(r=i.completion).type&&(n=r.arg,k(i)),n}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:C(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function i(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function s(e){i(a,n,o,s,c,"next",e)}function c(e){i(a,n,o,s,c,"throw",e)}s(void 0)}))}}var a,s="undefined"==typeof Promise?e("es6-promise").Promise:Promise;e=self,a=function(){return(r={d:function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}).d(i={},{default:function(){return f}}),a=navigator.userAgent,c=/qqbrowser/i.test(a.toLowerCase()),l=/Edge/i.test(a),l=/Chrome/i.test(a)&&!l&&!c,u=/Safari/i.test(a)&&!l,c=a.match(/Version\/([\d.]+)([^S](Safari)|[^M]*(Mobile)[^S]*(Safari))/),l=c&&c[1],p=l&&Number(l.split(".")[0]),d=(()=>{var e=o(n().mark((function e(t){var r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return r=e.sent,e.next=5,r.blob();case 5:return r=e.sent,e.abrupt("return",URL.createObjectURL(r));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})(),h={includeSystemHijack:!0,showVideo:!1,format:"mp4",codecTags:["hev1","hvc1"],timeout:2e3},f=function(r){return void 0===r&&(r={}),new s((()=>{var i=o(n().mark((function i(o){var a,s,c,l,f,y,g,v,_,m,b,S,T;return n().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(l=Object.assign({},h,r),a=l.includeSystemHijack,s=l.showVideo,g=l.codecTags,c=l.format,l=l.timeout,f=performance.now(),y=-1<g.indexOf("hvc1"),g=-1<g.indexOf("hev1"),_=v=!1,!(u&&p&&11<=p)){n.next=14;break}if(m=e("hvc1",c),n.t0=a,n.t0){n.next=9;break}return n.next=8,d(m);case 8:m=n.sent;case 9:return n.next=11,t(m,s,"hvc1",l);case 11:v=n.sent,n.next=34;break;case 14:if(!y){n.next=24;break}if(b=e("hvc1",c),n.t1=a,n.t1){n.next=21;break}return n.next=20,d(b);case 20:b=n.sent;case 21:return n.next=23,t(b,s,"hvc1",l);case 23:v=n.sent;case 24:if(!g){n.next=34;break}if(S=e("hev1",c),n.t2=a,n.t2){n.next=31;break}return n.next=30,d(S);case 30:S=n.sent;case 31:return n.next=33,t(S,s,"hev1",l);case 33:_=n.sent;case 34:T=performance.now(),o({isHvc1Supported:v,isHev1Supported:_,time:Math.ceil(T-f)});case 36:case"end":return n.stop()}}),i)})));return function(e){return i.apply(this,arguments)}})())},i.default;function e(e,t){var r="hls"===(t=void 0===t?"mp4":t),n="";switch(e=void 0===e?"":e){case"hvc1":n=r?"https://player.alicdn.com/lib/detect-assets/01s_20x20_hvc1.m3u8":"https://ice-pub-media.myalicdn.com/vod-demo/hevc/01s_20x20_hvc1.mp4";break;case"hev1":n=r?"https://player.alicdn.com/lib/detect-assets/01s_20x20_hev1.m3u8":"https://ice-pub-media.myalicdn.com/vod-demo/hevc/01s_20x20_hev1.mp4";break;default:n=""}return n}function t(e,t,r,n){void 0===t&&(t=!1),void 0===r&&(r="");var i=performance.now(),o=n;return new s((function(n){a=e,void 0===(s=t?100:0)&&(s=100),(c=document.createElement("video")).setAttribute("width",""+s),c.setAttribute("height",""+s),c.setAttribute("muted","muted"),c.setAttribute("crossorigin","anonymous"),c.setAttribute("preload","preload"),c.setAttribute("autoplay","autoplay"),c.setAttribute("webkit-playsinline","webkit-playsinline"),c.setAttribute("playsinline","playsinline"),c.setAttribute("x-webkit-airplay","x-webkit-airplay"),c.setAttribute("playsinline","playsinline"),c.src=a;var a,s,c,l=c,u=setInterval((function(){var e,a,s,c,p;(performance.now()-i>o||0!==l.videoWidth)&&(clearInterval(u),e=0!==l.videoWidth,t?(l.setAttribute("controls","controls"),a=l,void 0===(s=r)&&(s=""),c=document.createElement("dv"),(p=document.createElement("h3")).innerText=s,c.appendChild(a),c.appendChild(p),document.body.appendChild(c)):(l.pause(),l=null),n(e))}))}))}var r,i,a,c,l,u,p,d,h,f},"object"==typeof r&&"object"==typeof t?t.exports=a():"function"==typeof define&&define.amd?define([],a):"object"==typeof r?r.hevcDetector=a():e.hevcDetector=a()},{"es6-promise":9}],40:[function(e,t,r){function n(e){for(var t in e="string"==typeof e?this.parseAttrList(e):e)e.hasOwnProperty(t)&&(this[t]=e[t])}var i=/^(\d+)x(\d+)$/,o=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g;n.prototype={decimalInteger:function(e){return e=parseInt(this[e],10),e>Number.MAX_SAFE_INTEGER?1/0:e},hexadecimalInteger:function(e){if(this[e]){for(var t=(1&(t=(this[e]||"0x").slice(2)).length?"0":"")+t,r=new Uint8Array(t.length/2),n=0;n<t.length/2;n++)r[n]=parseInt(t.slice(2*n,2*n+2),16);return r}return null},hexadecimalIntegerAsNumber:function(e){return e=parseInt(this[e],16),e>Number.MAX_SAFE_INTEGER?1/0:e},decimalFloatingPoint:function(e){return parseFloat(this[e])},enumeratedString:function(e){return this[e]},decimalResolution:function(e){if(e=i.exec(this[e]),null!==e)return{width:parseInt(e[1],10),height:parseInt(e[2],10)}},parseAttrList:function(e){var t,r={};for(o.lastIndex=0;null!==(t=o.exec(e));){var n=t[2];0===n.indexOf('"')&&n.lastIndexOf('"')===n.length-1&&(n=n.slice(1,-1)),r[t[1]]=n}return r}},t.exports=n},{}],41:[function(e,t,r){function n(){this._url=null,this._byteRange=null,this._decryptdata=null,this.tagList=[]}function i(){this.loaders={}}var o=e("../constants"),a=e("../playerutil"),s=e("./attrlist"),c=e("../io"),l=e("./urltoolkit"),u=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g,p=/#EXT-X-MEDIA:(.*)/g,d=new RegExp([/#EXTINF:(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)(\S+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),h=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(PART-INF):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)(.*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,f="RegionBlock",y=function(){this.method=null,this.key=null,this.iv=null,this._uri=null};n.prototype.getUrl=function(){return!this._url&&this.relurl&&(this._url=l.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},n.prototype.Seturl=function(e){this._url=e},n.prototype.getProgramDateTime=function(){return!this._programDateTime&&this.rawProgramDateTime&&(this._programDateTime=new Date(Date.parse(this.rawProgramDateTime))),this._programDateTime},n.prototype.GetbyteRange=function(){var e,t,r;return this._byteRange||(e=this._byteRange=[],this.rawByteRange&&(1===(t=this.rawByteRange.split("@",2)).length?(r=this.lastByteRangeEndOffset,e[0]=r||0):e[0]=parseInt(t[1]),e[1]=parseInt(t[0])+e[0])),this._byteRange},n.prototype.getByteRangeStartOffset=function(){return this.byteRange[0]},n.prototype.getByteRangeEndOffset=function(){return this.byteRange[1]},n.prototype.getDecryptdata=function(){return this._decryptdata||(this._decryptdata=this.fragmentDecryptdataFromLevelkey(this.levelkey,this.sn)),this._decryptdata},i.prototype=((e={parseMasterPlaylist:function(e,t){var r=[];for(u.lastIndex=0;null!=(o=u.exec(e));){var n={},i=n.attrs=new s(o[1]),o=(n.url=this.resolve(o[2],t),i.decimalResolution("RESOLUTION"));if(o&&(n.width=o.width,n.height=o.height),n.bitrate=i.decimalInteger("AVERAGE-BANDWIDTH")||i.decimalInteger("BANDWIDTH"),n.name=i.NAME,a=i.CODECS)for(var a=a.split(/[ ,]+/),c=0;c<a.length;c++){var l=a[c];-1!==l.indexOf("avc1")?n.videoCodec=this.avc1toavcoti(l):-1!==l.indexOf("hvc1")?n.videoCodec=l:n.audioCodec=l}r.push(n)}return r},parseMasterPlaylistMedia:function(e,t,r,n){var i=[],o=0;for(p.lastIndex=0;null!=(c=p.exec(e));){var a={},c=new s(c[1]);c.TYPE===r&&(a.groupId=c["GROUP-ID"],a.name=c.NAME,a.type=r,a.default="YES"===c.DEFAULT,a.autoselect="YES"===c.AUTOSELECT,a.forced="YES"===c.FORCED,c.URI&&(a.url=this.resolve(c.URI,t)),a.lang=c.LANGUAGE,a.name||(a.name=a.lang),n&&(a.audioCodec=n),a.id=o++,i.push(a))}return i},avc1toavcoti:function(e){var t=e.split("."),r=2<t.length?(r=t.shift()+".",(r+=parseInt(t.shift()).toString(16))+("000"+parseInt(t.shift()).toString(16)).substr(-4)):e;return r},load:function(e,t,r){var n=this;c.get(e,(function(r){var i,o,a,s=n.parseMasterPlaylist(r,e);s.length&&(i=n.parseMasterPlaylistMedia(r,e,"AUDIO",s[0].audioCodec),o=n.parseMasterPlaylistMedia(r,e,"SUBTITLES"),i.length)&&(a=!1,i.forEach((function(e){e.url||(a=!0)})),!1===a)&&s[0].audioCodec&&!s[0].attrs.AUDIO&&(console.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),i.unshift({type:"main",name:"main"})),t({levels:s,audioTracks:i,subtitles:o,url:e,string:r})}),(function(e,t,n){r&&((n=a.parseHttpHeaders(n)["x-tengine-error"])&&-1<o.RegionBlockMessages.indexOf(n)&&(e=f),r(e,t))}))},loadMediaPlaylist:function(e,t,r){var n=this,i=(e=e||{}).string,o=e.url;i?(e=n.parseLevelPlaylist(i,o),t(e)):c.get(o,(function(e){e=n.parseLevelPlaylist(e,o),t(e)}),(function(e){r&&r(e)}))},resolve:function(e,t){return l.buildAbsoluteURL(t,e,{alwaysNormalize:!0})}}).parseMasterPlaylist=function(e,t){var r=[];for(u.lastIndex=0;null!=(o=u.exec(e));){var n={},i=n.attrs=new s(o[1]),o=(n.url=this.resolve(o[2],t),i.decimalResolution("RESOLUTION"));if(o&&(n.width=o.width,n.height=o.height),n.bitrate=i.decimalInteger("AVERAGE-BANDWIDTH")||i.decimalInteger("BANDWIDTH"),n.name=i.NAME,a=i.CODECS)for(var a=a.split(/[ ,]+/),c=0;c<a.length;c++){var l=a[c];-1!==l.indexOf("avc1")?n.videoCodec=this.avc1toavcoti(l):-1!==l.indexOf("hvc1")?n.videoCodec=l:n.audioCodec=l}r.push(n)}return r},e.parseMasterPlaylistMedia=function(e,t,r,n){var i=[],o=0;for(p.lastIndex=0;null!=(c=p.exec(e));){var a={},c=new s(c[1]);c.TYPE===r&&(a.groupId=c["GROUP-ID"],a.name=c.NAME,a.type=r,a.default="YES"===c.DEFAULT,a.autoselect="YES"===c.AUTOSELECT,a.forced="YES"===c.FORCED,c.URI&&(a.url=this.resolve(c.URI,t)),a.lang=c.LANGUAGE,a.name||(a.name=a.lang),n&&(a.audioCodec=n),a.id=o++,i.push(a))}return i},e.avc1toavcoti=function(e){var t=e.split("."),r=2<t.length?(r=t.shift()+".",(r+=parseInt(t.shift()).toString(16))+("000"+parseInt(t.shift()).toString(16)).substr(-4)):e;return r},e.parseLevelPlaylist=function(e,t,r,i){var o,a,c=0,l=0,u={type:null,version:null,url:t,fragments:[],live:!0,startSN:0},p=new y,f=0,g=null,v=new n;for(d.lastIndex=0;null!==(o=d.exec(e));){var _=o[1];if(_){v.duration=parseFloat(_);var m=(" "+o[2]).slice(1);v.title=m||null,v.tagList.push(m?["INF",_,m]:["INF",_])}else if(o[3])isNaN(v.duration)||(m=c++,v.type=i,v.start=l,v.levelkey=p,v.sn=m,v.level=r,v.cc=f,v.baseurl=t,v.relurl=(" "+o[3]).slice(1),u.fragments.push(v),l+=(g=v).duration,v=new n);else if(o[4])v.rawByteRange=(" "+o[4]).slice(1),g&&(_=g.byteRangeEndOffset)&&(v.lastByteRangeEndOffset=_);else if(o[5])v.rawProgramDateTime=(" "+o[5]).slice(1),v.tagList.push(["PROGRAM-DATE-TIME",v.rawProgramDateTime]),void 0===u.programDateTime&&(u.programDateTime=new Date(new Date(Date.parse(o[5]))-1e3*l));else{for(o=o[0].match(h),a=1;a<o.length&&void 0===o[a];a++);var b=(" "+o[a+1]).slice(1),S=(" "+o[a+2]).slice(1);switch(o[a]){case"#":v.tagList.push(S?[b,S]:[b]);break;case"PLAYLIST-TYPE":u.type=b.toUpperCase();break;case"MEDIA-SEQUENCE":c=u.startSN=parseInt(b);break;case"TARGETDURATION":u.targetduration=parseFloat(b);break;case"VERSION":u.version=parseInt(b);break;case"EXTM3U":break;case"ENDLIST":u.live=!1;break;case"DIS":f++,v.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":f=parseInt(b);break;case"KEY":var T=new s(b),w=T.enumeratedString("METHOD"),E=T.URI;T=T.hexadecimalInteger("IV");w&&(p=new y,E)&&0<=["AES-128","SAMPLE-AES"].indexOf(w)&&(p.method=w,p.baseuri=t,p.reluri=E,p.key=null,p.iv=T);break;case"START":w=new s(b).decimalFloatingPoint("TIME-OFFSET"),isNaN(w)||(u.startTimeOffset=w);break;case"MAP":E=new s(b),v.relurl=E.URI,v.rawByteRange=E.BYTERANGE,v.baseurl=t,v.level=r,v.type=i,v.sn="initSegment",u.initSegment=v,v=new n;break;case"PART-INF":T=new s(b),u.partTarget=T.decimalFloatingPoint("PART-TARGET");break;default:console.log("line parsed but not handled: "+o)}}}return(v=g)&&!v.relurl&&(u.fragments.pop(),l-=v.duration),u.totalduration=l,u.averagetargetduration=l/u.fragments.length,u.endSN=c-1,u},e),i.ERROR_REGION_BLOCK=f,t.exports=i},{"../constants":31,"../io":43,"../playerutil":48,"./attrlist":40,"./urltoolkit":42}],42:[function(e,t,r){var n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/\;?#]*)?(.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,i=/^([^\/;?#]*)(.*)$/,o=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,s={buildAbsoluteURL:function(e,t,r){if(r=r||{},e=e.trim(),!(t=t.trim())){if(!r.alwaysNormalize)return e;var n=s.parseURL(e);if(n)return n.path=s.normalizePath(n.path),s.buildURLFromParts(n);throw new Error("Error trying to parse base URL.")}if(n=s.parseURL(t),!n)throw new Error("Error trying to parse relative URL.");if(n.scheme)return r.alwaysNormalize?(n.path=s.normalizePath(n.path),s.buildURLFromParts(n)):t;if(t=s.parseURL(e),!t)throw new Error("Error trying to parse base URL.");!t.netLoc&&t.path&&"/"!==t.path[0]&&(e=i.exec(t.path),t.netLoc=e[1],t.path=e[2]),t.netLoc&&!t.path&&(t.path="/");var o;e={scheme:t.scheme,netLoc:n.netLoc,path:null,params:n.params,query:n.query,fragment:n.fragment};return n.netLoc||(e.netLoc=t.netLoc,"/"!==n.path[0]&&(n.path?(o=(o=t.path).substring(0,o.lastIndexOf("/")+1)+n.path,e.path=s.normalizePath(o)):(e.path=t.path,n.params||(e.params=t.params,n.query)||(e.query=t.query)))),null===e.path&&(e.path=r.alwaysNormalize?s.normalizePath(n.path):n.path),s.buildURLFromParts(e)},parseURL:function(e){return e=n.exec(e),e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(o,"");e.length!==(e=e.replace(a,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}};t.exports=s},{}],43:[function(e,t,r){var n=e("./url");t.exports.get=function(e,r,n,i,o,a){t.exports.ajax.call(this,"GET",e,{},r,n,i,o,void 0,a)},t.exports.post=function(e,r,n,i,o,a){var s={"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8",Accept:"application/json"};t.exports.ajax("POST",e,r,n,i,o,a,s)},t.exports.postWithHeader=function(e,r,n,i,o){t.exports.ajax("POST",e,r,i,o,!0,!1,n)},t.exports.ajax=function(e,t,r,i,o,a,s,c,l){var u,p,d;o=o||function(){},"undefined"==typeof XMLHttpRequest&&(window.XMLHttpRequest=function(){try{return new window.ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new window.ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new window.ActiveXObject("Msxml2.XMLHTTP")}catch(e){}throw new Error("This browser does not support XMLHttpRequest.")}),p=new XMLHttpRequest,l&&(p.timeout=l),l=n.parseUrl(t),d=window.location,l.protocol+l.host===d.protocol+d.host||!window.XDomainRequest||"withCredentials"in p?(u="file:"==l.protocol||"file:"==d.protocol,p.onreadystatechange=function(){4===p.readyState&&(200===p.status||u&&0===p.status?i(p.responseText):o(p.responseText,p.status,p))}):((p=new window.XDomainRequest).onload=function(){i(p.responseText)},p.onerror=o,p.onprogress=function(){},p.ontimeout=o);try{if(void 0===a&&(a=!0),p.open(e,t,a),s&&(p.withCredentials=!0),c)for(var h in c)c.hasOwnProperty(h)&&p.setRequestHeader(h,c[h])}catch(e){return void o(e)}try{p.send(r)}catch(e){o(e)}},t.exports.jsonp=function(e,t,r){var n="jsonp_callback_"+Math.round(1e5*Math.random()),i=document.createElement("script");e&&(i.src=e+(0<=e.indexOf("?")?"&":"?")+"callback="+n+"&cb="+n,i.onerror=function(){delete window[n],document.body.removeChild(i),r()},i.onload=function(){setTimeout((function(){window[n]&&(delete window[n],document.body.removeChild(i))}),0)},window[n]=function(e){delete window[n],document.body.removeChild(i),t(e)},document.body.appendChild(i))},t.exports.loadJS=function(e,t,r){var n=document.getElementsByTagName("HEAD").item(0),i=document.createElement("script");i.setAttribute("crossorigin","anonymous"),e&&e.toLowerCase().indexOf("https://")<0&&e.toLowerCase().indexOf("http://")<0&&(e=document.URL.replace(/(\/[^\/]*?)$/i,"")+e),i.type="text/javascript",i.src=e,i.onload=function(){t&&t()},i.onerror=function(){r&&r()},n.appendChild(i)}},{"./url":52}],44:[function(e,t,r){var n=e("./dom");t.exports.render=function(e,t){var r=t.align||(t.className?"":"tl"),i=t.x||0,o=(t=t.y||0,i.indexOf&&0<i.indexOf("%")?"":"px"),a=t.indexOf&&0<t.indexOf("%")?"":"px";"tl"===r?n.css(e,{float:"left","margin-left":i+o,"margin-top":t+a}):"tr"===r?n.css(e,{float:"right","margin-right":i+o,"margin-top":t+a}):"tlabs"===r?n.css(e,{position:"absolute",left:i+o,top:t+a}):"trabs"===r?n.css(e,{position:"absolute",right:i+o,top:t+a}):"blabs"===r?n.css(e,{position:"absolute",left:i+o,bottom:t+a}):"brabs"===r?n.css(e,{position:"absolute",right:i+o,bottom:t+a}):"cc"===r&&n.addClass(e,"loading-center")}},{"./dom":35}],45:[function(e,t,r){var n=Object.prototype.hasOwnProperty;t.exports.create=Object.create||function(e){function t(){}return t.prototype=e,new t},t.exports.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(arg)},t.exports.isEmpty=function(e){for(var t in e)if(null!==e[t])return!1;return!0},t.exports.each=function(e,r,i){if(t.exports.isArray(e))for(var o=0,a=e.length;o<a&&!1!==r.call(i||this,e[o],o);++o);else for(var s in e)if(n.call(e,s)&&!1===r.call(i||this,s,e[s]))break;return e},t.exports.merge=function(e,t){if(t)for(var r in t)n.call(t,r)&&(e[r]=t[r]);return e},t.exports.deepMerge=function(e,r){var i,o,a;for(i in e=t.exports.copy(e),r)n.call(r,i)&&(o=e[i],a=r[i],t.exports.isPlain(o)&&t.exports.isPlain(a)?e[i]=t.exports.deepMerge(o,a):e[i]=r[i]);return e},t.exports.copy=function(e){return t.exports.merge({},e)},t.exports.isPlain=function(e){return!!e&&"object"==typeof e&&"[object Object]"===e.toString()&&e.constructor===Object},t.exports.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},t.exports.unescape=function(e){return e.replace(/&([^;]+);/g,(function(e,t){return{amp:"&",lt:"<",gt:">",quot:'"',"#x27":"'","#x60":"`"}[t.toLowerCase()]||e}))}},{}],46:[function(e,t,r){var n,i=e("./object");(n=function(){}).extend=function(e){var t,r,o=(e=e||{}).init||this.prototype.init||function(){};for(r in(((t=function(){o.apply(this,arguments)}).prototype=i.create(this.prototype)).constructor=t).extend=n.extend,t.create=n.create,e)e.hasOwnProperty(r)&&(t.prototype[r]=e[r]);return t},n.create=function(){var e=i.create(this.prototype);return this.apply(e,arguments),e},t.exports=n},{"./object":45}],47:[function(e,t,r){var n=!new Function("try {return this===window;}catch(e){ return false;}")();t.exports.isSSR=n},{}],48:[function(e,t,r){var n=e("./object"),i=e("../config"),o=e("./dom"),a=e("./cookie"),s=e("./constants"),c=e("../lang/index"),l=e("./ua"),u=e("./io"),p=e("../player/base/plugin/defaultemptycomponent"),d=e("./hardware-decoding-detector"),h={preload:!0,autoplay:!0,autoplayPolicy:{fallbackToMute:!1,showUnmuteBtn:!0},useNativeControls:!1,width:"100%",height:"300px",cover:"",from:"",trackLog:!0,logBatched:!0,logReportTo:void 0,heartHeatInterval:30,isLive:!1,playsinline:!0,showBarTime:5e3,rePlay:!1,mute:!1,liveRetry:5,liveRetryInterval:1,liveRetryStep:0,disableVodHalfRetry:!1,disableLiveHalfRetry:!1,keyShortCuts:!1,keyFastForwardStep:10,isVBR:!1,vodRetry:3,format:"",definition:"",defaultDefinition:"",loadDataTimeout:20,waitingTimeout:60,waitingBufferedTime:3,delayLoadingShow:1,controlBarForOver:!1,controlBarVisibility:"hover",enableSystemMenu:!1,qualitySort:"asc",x5_video_position:"normal",x5_type:"",x5_fullscreen:!1,x5_orientation:"landscape|portrait",x5LandscapeAsFullScreen:!0,license:{},autoPlayDelay:0,autoPlayDelayDisplayText:"",useHlsPluginForSafari:!1,enableMSEForAndroid:!0,encryptType:0,language:"zh-cn",languageTexts:{},extLanguageTexts:{},mediaType:"video",outputType:"",playConfig:{},reAuthInfo:{},components:[],liveTimeShiftUrl:"",liveShiftSource:"",liveShiftTime:"",liveShiftMinOffset:30,videoHeight:"100%",videoWidth:"100%",enableWorker:!0,authTimeout:"",enableMockFullscreen:!1,region:"cn-shanghai",debug:!1,progressMarkers:[],ratio:void 0,snapshotWatermark:{left:"500",top:"100",text:"",font:"16px 宋体",fillColor:"#FFFFFF",strokeColor:"#FFFFFF"},liveStartTime:"",liveOverTime:"",enableStashBufferForFlv:!1,flvOption:{},hlsOption:{stopLoadAsPaused:!1},drmOption:{},hlsLoadingTimeOut:2e4,useHlsPlugOnMobile:!0,useFlvPlugOnMobile:!0,lowLatencyMode:!1,useHls2:!0,useDrm2:void 0,skipRtsSupportCheck:!1,rtsLoadDataTimeout:6e3,rtsOption:{},rtsFallback:!0,rtsFallbackSource:void 0,rtsFallbackType:void 0,rtsVersion:"",rtsSdkUrl:"",nudgeMaxRetry:5,tracks:[],recreatePlayer:function(){},diagnosisButtonVisible:!0,enableH265:!1,forceH265:!1,enableH266:!1,forceH266:!1,h265Threads:!0,h265Simd:!0,preventRecord:!1,traceId:"",mediaAuth:void 0,textTracks:void 0,_native:!0,hlsUriToken:"",thumbnailUrl:"",refreshAccessInfo:function(){},drmSessionTimeout:5e3,skinRes:"//"+i.domain+"/de/prismplayer-flash/"+i.flashVersion+"/atlas/defaultSkin",splayerUrl:null,splayerWasmDomain:null,logo:[],disablePip:!1,assetPrefix:null,clickPause:l.IS_PC,clickPauseDelay:200,statisticsReportInterval:5e3,skinLayoutIgnore:[],disableSeek:!1,dashjsUrl:null,dashOption:{},disableDumpBuffer:!1,useSW:!1,swScriptURL:void 0,env:"",autoSize:"",watchStartTime:void 0,watchEndTime:void 0,start:void 0,end:void 0,dbClickFullscreen:l.IS_PC,dbClickFullscreenDelay:200,enableHlsH265:!1,bitrateDisplayHandler:void 0},f=(t.exports.getDefaultH5Layout=function(){return[{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"unmuteButton",align:"cc"},{name:"H5Loading",align:"cc"},{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"infoDisplay"},{name:"tooltip",align:"blabs",x:0,y:50},{name:"thumbnail"},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"blabs",x:0,y:44},{name:"playButton",align:"tl",x:15,y:12},{name:"timeDisplay",align:"tl",x:10,y:5},{name:"fullScreenButton",align:"tr",x:10,y:12},{name:"subtitle",align:"tr",x:15,y:12},{name:"setting",align:"tr",x:15,y:12},{name:"volume",align:"tr",x:5,y:10}]}]},t.exports.getDefaultAudioLayout=function(){return[{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"blabs",x:0,y:44},{name:"playButton",align:"tl",x:15,y:12},{name:"timeDisplay",align:"tl",x:10,y:5},{name:"volume",align:"tr",x:5,y:10}]}]},t.exports.getDefaultFlashLayout=function(){return[{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"controlBar",align:"blabs",x:0,y:0,children:[{name:"progress",align:"tlabs",x:0,y:0},{name:"playButton",align:"tl",x:15,y:26},{name:"nextButton",align:"tl",x:10,y:26},{name:"timeDisplay",align:"tl",x:10,y:24},{name:"fullScreenButton",align:"tr",x:10,y:25},{name:"streamButton",align:"tr",x:10,y:23},{name:"volume",align:"tr",x:10,y:25}]},{name:"fullControlBar",align:"tlabs",x:0,y:0,children:[{name:"fullTitle",align:"tl",x:25,y:6},{name:"fullNormalScreenButton",align:"tr",x:24,y:13},{name:"fullTimeDisplay",align:"tr",x:10,y:12},{name:"fullZoom",align:"cc"}]}]},t.exports.canPlayType=function(e){var t=document.createElement("video");return t.canPlayType?t.canPlayType(e):""},t.exports.canPlayHls=function(){return""!=t.exports.canPlayType("application/x-mpegURL")},t.exports.isUsedHlsPluginOnMobile=function(e){return!!(l.IS_MOBILE&&(l.IS_CHROME||l.IS_FIREFOX||l.IS_X5||l.IS_EDGE_NEW)&&t.exports.isSupportHls())},t.exports.isSafariUsedHlsPlugin=function(e){return!!(l.os.pc&&l.browser.safari&&e)},t.exports.validateSource=function(e){return!0},t.exports.supportH5Video=function(){return void 0!==document.createElement("video").canPlayType},t.exports.createWrapper=function(e){var r=e.id;r="string"==typeof r?(0===r.indexOf("#")&&(r=r.slice(1)),o.el(r)):r;if(r&&r.nodeName)return t.exports.adjustContainerLayout(r,e),r;throw new TypeError("没有为播放器指定容器")},t.exports.adjustContainerLayout=function(e,t){t.width&&!e.style.width&&(e.style.width=t.width),t.height&&!e.style.height&&(e.style.height=t.height)},t.exports.isSupportHls=function(){var e=window.MediaSource=window.MediaSource||window.WebKitMediaSource,t=window.SourceBuffer=window.SourceBuffer||window.WebKitSourceBuffer;e=e&&"function"==typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),l.IS_ANDROID&&l.is_X5&&(e=!0),t=!t||t.prototype&&"function"==typeof t.prototype.appendBuffer&&"function"==typeof t.prototype.remove;return e&&t},t.exports.isSupportMMS=function(){return!!window.ManagedMediaSource},t.exports.isSupportFlv=function(){return t.exports.isSupportHls()},t.exports.isSupportMSE=function(){return t.exports.isSupportHls()||t.exports.isSupportMMS()},t.exports.isSupportedMediaSource=function(){return!!window.MediaSource&&!!MediaSource.isTypeSupported},t.exports.isSupportedDrm=function(){return!!(window.MediaKeys&&window.navigator&&window.navigator.requestMediaKeySystemAccess&&window.MediaKeySystemAccess&&window.MediaKeySystemAccess.prototype.getConfiguration)&&t.exports.isSupportMSE()},t.exports.isAudio=function(e,r){if(r)return t.exports.isMp3Format(r);r=!1;try{r=e&&"mp3"===new URL("http:"+e).pathname.split(".").pop().toLowerCase()}catch(r){return e&&0<e.toLowerCase().indexOf(".mp3")}return r},t.exports.isLiveShift=function(e){return e.isLive&&e.liveStartTime&&e.liveOverTime},t.exports.isHls=function(e,r){if(r)return t.exports.isHlsFormat(r);r=!1;try{r=e&&"m3u8"===new URL("http:"+e).pathname.split(".").pop().toLowerCase()}catch(r){return e&&0<e.toLowerCase().indexOf(".m3u8")}return r},t.exports.isDash=function(e,r){if(r)return t.exports.isDashFormat(r);r=!1;try{r=e&&"mpd"===new URL("http:"+e).pathname.split(".").pop().toLowerCase()}catch(r){return e&&0<e.toLowerCase().indexOf(".mpd")}return r},t.exports.isFlv=function(e,r){if(r)return t.exports.isFlvFormat(r);r=!1;try{r=e&&"flv"===new URL("http:"+e).pathname.split(".").pop().toLowerCase()}catch(r){return e&&0<e.toLowerCase().indexOf(".flv")}return r},t.exports.isRTMP=function(e){return e&&-1<e.toLowerCase().indexOf("rtmp:")},t.exports.isRts=function(e){return e&&-1<e.toLowerCase().indexOf("artc:")},t.exports.isMp4=function(e,r){if(r)return t.exports.isMp4Format(r);r=!1;try{r=e&&"mp4"===new URL("http:"+e).pathname.split(".").pop().toLowerCase()}catch(r){return e&&-1<e.toLowerCase().indexOf(".mp4")}return r},t.exports.isSupportedFormat=function(e){if(!e)return!1;try{var t=e.toLowerCase();return~["mp3","mp4","mpd","hls","m3u8","flv"].indexOf(t)}catch(e){return!1}},t.exports.isMp3Format=function(e){if(!e)return!1;try{var t=e.toLowerCase();return~["mp3"].indexOf(t)}catch(e){return!1}},t.exports.isMp4Format=function(e){if(!e)return!1;try{var t=e.toLowerCase();return~["mp4"].indexOf(t)}catch(e){return!1}},t.exports.isFlvFormat=function(e){if(!e)return!1;try{var t=e.toLowerCase();return~["flv"].indexOf(t)}catch(e){return!1}},t.exports.isHlsFormat=function(e){if(!e)return!1;try{var t=e.toLowerCase();return~["hls","m3u8"].indexOf(t)}catch(e){return!1}},t.exports.isDashFormat=function(e){if(!e)return!1;try{var t=e.toLowerCase();return~["mpd"].indexOf(t)}catch(e){return!1}},t.exports.getFormat=function(e){var t={artc:"rts",m3u8:"hls"};e=null==(e=/\.(mp4)|\.(mp3)|\.(m3u8)|\.(flv)|(artc):/.exec(e))?void 0:e[0];return e&&e.replace(/\.|:|artc|m3u8/gi,(function(e){return t[e]||""}))},t.exports.checkSecuritSupport=function(){return t.exports.isSupportMSE()?l.IS_IOS&&(l.IS_UC||l.IS_QUARK||l.IS_BAIDU)?c.get("iOSVodEncriptionBlacklist"):"":"serviceWorker"in navigator?void 0:"http:"===location.protocol?c.get("Error_SW_Https_required"):c.get("UseChromeForVodEncription")+"(SW not found)"},t.exports.nativeSupportH265=function(){return l.IS_IOS||l.IS_MAC_SAFARI},t.exports.findSelectedStreamLevel=function(e,t){var r=t;if(r||(r=a.get(s.SelectedStreamLevel))){for(var n=0;n<e.length;n++)if(e[n].definition==r)return n}else a.set(s.SelectedStreamLevel,e[0].definition,365);return 0},t.exports.getHistoryDetectResult=function(e,t){if(e)return t="hls"===t,"hvc1"===e?t?a.get(s.HWDetectHvc1Hls):a.get(s.HWDetectHvc1):"hev1"===e?t?a.get(s.HWDetectHev1Hls):a.get(s.HWDetectHev1):void 0},t.exports.setHistoryDetectResult=function(e,t,r){var n="unknownCodec";t="hls"===t;"hvc1"===e?n=t?s.HWDetectHvc1Hls:s.HWDetectHvc1:"hev1"===e&&(n=t?s.HWDetectHev1Hls:s.HWDetectHev1),a.set(n,r)},t.exports.handleOption=function(e,r){t.exports.isRts(e.source)&&(e.isLive=!0);var i,o=n.merge(n.copy(h),e),a=(e.autoplayPolicy&&(o.autoplayPolicy=n.merge(h.autoplayPolicy,e.autoplayPolicy)),[{name:"fullScreenButton",align:"tr",x:20,y:12},{name:"subtitle",align:"tr",x:15,y:12},{name:"setting",align:"tr",x:15,y:12},{name:"volume",align:"tr",x:5,y:10}]),s=!1;if(e.useFlashPrism||t.exports.isRTMP(e.source)?(s=!0,a=[{name:"liveIco",align:"tlabs",x:15,y:25},{name:"fullScreenButton",align:"tr",x:10,y:25},{name:"volume",align:"tr",x:10,y:25}]):(i=t.exports.isLiveShift(o))?(a.push({name:"liveShiftProgress",align:"tlabs",x:0,y:0}),a.push({name:"playButton",align:"tl",x:15,y:12}),a.push({name:"liveDisplay",align:"tl",x:15,y:6})):a.push({name:"liveDisplay",align:"tlabs",x:15,y:6}),e.isLive)if(void 0===e.skinLayout)o.skinLayout=[{name:"errorDisplay",align:"tlabs",x:0,y:0},{name:"infoDisplay"},{name:"bigPlayButton",align:"blabs",x:30,y:80},{name:"unmuteButton",align:"cc"},{name:"tooltip",align:"blabs",x:0,y:56},{name:"H5Loading",align:"cc"},{name:"controlBar",align:"blabs",x:0,y:0,children:t.exports.isRts(e.source)?[{name:"fullScreenButton",align:"tr",x:20,y:12},{name:"volume",align:"tr",x:5,y:10},{name:"liveDisplay",align:"tlabs",x:15,y:6}]:a}];else if(0!=e.skinLayout){for(var c=e.skinLayout.length,l=[],u=-1,d=0;d<c;d++)if("controlBar"==o.skinLayout[d].name){u=d;for(var f=o.skinLayout[d].children.length,y=0;y<f;y++){var g,v=o.skinLayout[d].children[y].name;"liveDisplay"!=v&&"liveIco"!=v&&"fullScreenButton"!=v&&"volume"!=v&&"snapshot"!=v&&"setting"!=v&&"subtitle"!=v&&(!i||"progress"!=v&&"playButton"!=v&&"timeDisplay"!=v)||(g=o.skinLayout[d].children[y],"progress"==v?g.name="liveShiftProgress":"timeDisplay"==v?g.name="liveShiftTimeDisplay":s&&"liveDisplay"==v&&(g.name="liveIco"),l.push(g))}break}-1!=u&&(o.skinLayout[u].children=l)}return(void 0===e.components||!e.components||n.isArray(e.components)&&0==e.components.length)&&"false"!=e.components&&(o.components=[p]),o},t.exports.ignoreSkinLayouts=function(e,t){var r;if(null!=t&&t.length&&null!=e&&e.length)return r=e,t.forEach((function(e){var t,n,i;-1<e.indexOf(".")?(i=e.split("."),t=i[0],n=i[1],(i=r.find((function(e){return e.name===t})))&&(i.children=i.children.filter((function(e){return e.name!==n})))):r=r.filter((function(t){return t.name!==e}))})),r},t.exports.getLiveHostByRegion=function(e){var t="live.aliyuncs.com";return e&&-1<["ap-southeast-1","eu-central-1"].indexOf(e)?"live."+e+".aliyuncs.com":t},t.exports.isVideoTag=function(e){return e&&"string"==typeof e.nodeName&&"video"===e.nodeName.toLowerCase()},t.exports.unqiueTextTracks=function(e){var t=[],r=(t=(e=void 0===e?[]:e).reduce((function(e,t){var r;return e.some((function(e){return e.srclang===t.srclang}))?e:((r=t).label=t.label||t.srclang,[].concat(e,[r]))}),[]),{});return t.forEach((function(e,t){r[e.label]?r[e.label].push(t):r[e.label]=[t]})),Object.keys(r).forEach((function(e){e=r[e]||[],1<e.length&&e.forEach((function(e){t[e].label=t[e].label+"("+t[e].srclang+")"}))})),t},t.exports.isHvc1Codec=function(e){return-1<(e=void 0===e?"":e).indexOf("hvc1")},t.exports.isHev1Codec=function(e){return-1<(e=void 0===e?"":e).indexOf("hev1")},t.exports.isVvccCodec=function(e){return-1<(e=void 0===e?"":e).indexOf("vvcC")},t.exports.isVvc1Codec=function(e){return-1<(e=void 0===e?"":e).indexOf("vvc1")},t.exports.isVvi1Codec=function(e){return-1<(e=void 0===e?"":e).indexOf("vvi1")},t.exports.isH265Codec=function(e){return t.exports.isHvc1Codec(e=void 0===e?"":e)||t.exports.isHev1Codec(e)},t.exports.isH266Codec=function(e){return t.exports.isVvccCodec(e=void 0===e?"":e)||t.exports.isVvc1Codec(e)||t.exports.isVvi1Codec(e)},t.exports.isH264Codec=function(e){return-1<(e=void 0===e?"":e).indexOf("avc1")},t.exports.getVideoTrack=function(e){var t;return(e=void 0===e?[]:e).forEach((function(e){1===Number(e.type)&&(t=e)})),t},l.IS_ANDROID&&(l.dingTalk()||l.IS_UC||l.is_X5||l.IS_HUAWEI||l.IS_XIAOMI||l.IS_OPPO||l.IS_VIVO||l.IS_MEIZU||l.IS_SAMSUNG||l.IS_WEBVIEW)||l.os&&"windows"===l.os.name&&l.IS_UC);t.exports.shouldUseBasePlayer=function(e,r){var n,i,o,a=e.codecTag,s=(e=e.url,"supported"),c="unsupported";return!a||(o=t.exports.isHvc1Codec(a),n=t.exports.isMp4(e),e=t.exports.isHls(e),n&&t.exports.nativeSupportH265()&&o)||n&&(()=>{if(f||!l.IS_CHROME&&!l.IS_EDGE_NEW)return!1;var t=0;try{t=l.USER_AGENT.match(/Chrome\/(\d+)/i)[1]}catch(e){t=0}return!(parseInt(t)<104||!window.MediaSource||!window.MediaSource.isTypeSupported('video/mp4;codecs="hvc1.1.6.L120.90"'))})()?r(!0):f?(o=t.exports.getHistoryDetectResult(a,i=e?"hls":"mp4"))===s?r(!0):o===c?r(!1):void d({codecTags:[a],format:i,timeout:2e3}).then((function(e){if(e=e.isHev1Supported||e.isHvc1Supported,t.exports.setHistoryDetectResult(a,i,e?s:c),e)return r(!0);r(!1)})).catch((function(e){console.log("hevcDetector ERROR",e),r(!1)})):r(!1)},t.exports.parseHttpHeaders=function(e){if(e){var t={};try{e instanceof Response?e.headers.forEach((function(e,r){t[r]=e})):e.getAllResponseHeaders().trim().split(/[\r\n]+/).forEach((function(e){e=e.split(": ");var r=e.shift();e=e.join(": ");t[r]=e}))}catch(e){}return t}},t.exports.detectRegionBlock=function(e,r){u.get(e,(function(){r(!1)}),(function(e,n,i){i=t.exports.parseHttpHeaders(i)["x-tengine-error"],403===n&&i&&-1<s.RegionBlockMessages.indexOf(i)?r(!0):r(!1)}))},t.exports.drawSnapshotText=function(e,t){t=t.snapshotWatermark,t&&t.text&&(e.font=t.font,t.fillColor&&(e.fillStyle=t.fillColor,e.fillText(t.text,t.left,t.top)),t.strokeColor&&(e.strokeStyle=t.strokeColor,e.strokeText(t.text,t.left,t.top)),e.stroke())},t.exports.hasValue=function(e){return null!=e&&""!==e}},{"../config":15,"../lang/index":26,"../player/base/plugin/defaultemptycomponent":95,"./constants":31,"./cookie":32,"./dom":35,"./hardware-decoding-detector":39,"./io":43,"./object":45,"./ua":51}],49:[function(e,t,r){var n=e("./object"),i=e("../player/adaptiveplayer"),o=e("./constants").USER_EVENT_NAME;t.exports.reloadInstance=function(e,r,n){var a=n,s=(a.dispose(),e.readyCallback),c=e._readyCallbackCalled;e=i.create(e,(function(e){r(e),c||s(e)}));t.exports.restoreUserEvents(n,e),t.exports.removeAllProps(a),(a.__proto__=e)[o]=a[o]},t.exports.storeUserEvents=function(e){var t=e,r=t.__proto__.on,n={};t.on=function(e,i){"function"==typeof i&&(n[e]?n[e].push(i):n[e]=[i],this._el)&&(i.binded=!0,r.call(t,e,i))},t[o]=n},t.exports.restoreUserEvents=function(e,t){var r=e[o];r&&n.each(r,(function(e){r[e].forEach((function(r){t.on(e,r)}))}))},t.exports.removeAllProps=function(e,t){for(var r in t=[].concat(t=t||[],[o]),e)e.hasOwnProperty(r)&&-1===t.indexOf(r)&&delete e[r]}},{"../player/adaptiveplayer":68,"./constants":31,"./object":45}],50:[function(e,t,r){t.exports.set=function(t,r){try{window.localStorage&&localStorage.setItem(t,r)}catch(e){window[t+"_localStorage"]=r}},t.exports.get=function(t){try{if(window.localStorage)return localStorage.getItem(t)}catch(e){return window[t+"_localStorage"]}return""}},{}],51:[function(e,t,r){var n,i,o;if(t.exports.USER_AGENT=navigator.userAgent,t.exports.IS_IPHONE=/iPhone/i.test(t.exports.USER_AGENT),t.exports.IS_IPAD=/iPad/i.test(t.exports.USER_AGENT),t.exports.IS_IPOD=/iPod/i.test(t.exports.USER_AGENT),t.exports.IS_MAC=/mac/i.test(t.exports.USER_AGENT),t.exports.IS_EDGE=/Edge/i.test(t.exports.USER_AGENT),t.exports.IS_EDGE_NEW=/Edg/i.test(t.exports.USER_AGENT)&&!t.exports.IS_EDGE,t.exports.IS_IE11=/Trident\/7.0/i.test(t.exports.USER_AGENT),t.exports.IS_X5=/qqbrowser/i.test(t.exports.USER_AGENT.toLowerCase()),t.exports.IS_CHROME=/Chrome/i.test(t.exports.USER_AGENT)&&!t.exports.IS_EDGE&&!t.exports.IS_EDGE_NEW&&!t.exports.IS_X5,t.exports.IS_SAFARI=/Safari/i.test(t.exports.USER_AGENT)&&!t.exports.IS_CHROME&&!t.exports.IS_EDGE_NEW,t.exports.IS_FIREFOX=/Firefox/i.test(t.exports.USER_AGENT),t.exports.IS_UC=/ucweb|UCBrowser|UBrowser/i.test(t.exports.USER_AGENT),t.exports.IS_QUARK=/Quark/i.test(t.exports.USER_AGENT),t.exports.IS_HUAWEI=/HuaweiBrowser/i.test(t.exports.USER_AGENT),t.exports.IS_XIAOMI=/MiuiBrowser/i.test(t.exports.USER_AGENT),t.exports.IS_OPPO=/HeyTapBrowser/i.test(t.exports.USER_AGENT),t.exports.IS_VIVO=/VivoBrowser/i.test(t.exports.USER_AGENT),t.exports.IS_MEIZU=/MZBrowser/i.test(t.exports.USER_AGENT),t.exports.IS_SAMSUNG=/samsungbrowser/i.test(t.exports.USER_AGENT),t.exports.IS_BAIDU=/baiduboxapp/i.test(t.exports.USER_AGENT),document.all)try{var a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");t.exports.HAS_FLASH=!!a}catch(e){t.exports.HAS_FLASH=!1}else navigator.plugins&&0<navigator.plugins.length?(a=navigator.plugins["Shockwave Flash"],t.exports.HAS_FLASH=!!a):t.exports.HAS_FLASH=!1;t.exports.IS_MAC_SAFARI=t.exports.IS_MAC&&t.exports.IS_SAFARI&&!t.exports.IS_CHROME&&!t.exports.HAS_FLASH,t.exports.IS_IOS=t.exports.IS_IPHONE||t.exports.IS_IPAD||t.exports.IS_IPOD,t.exports.IOS_VERSION=(()=>{var e=t.exports.USER_AGENT.match(/OS (\d+)_/i);if(e&&e[1])return e[1]})(),t.exports.IOS_FULL_VERSION=(()=>{var e=t.exports.USER_AGENT.match(/OS (\d+)_(\d+)_?/i);if(e&&e[1]&&e[2])return e[1]+"."+e[2]})(),t.exports.IS_HARMONY=/OpenHarmony/i.test(t.exports.USER_AGENT),t.exports.IS_ANDROID=/Android/i.test(t.exports.USER_AGENT)||t.exports.IS_HARMONY,t.exports.ANDROID_VERSION=(a=t.exports.USER_AGENT.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i))?(i=a[1]&&parseFloat(a[1]),n=a[2]&&parseFloat(a[2]),i&&n?parseFloat(a[1]+"."+a[2]):i||null):null,t.exports.IS_OLD_ANDROID=t.exports.IS_ANDROID&&/webkit/i.test(t.exports.USER_AGENT)&&t.exports.ANDROID_VERSION<2.3,t.exports.TOUCH_ENABLED=!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),t.exports.IS_MOBILE=t.exports.IS_IOS||t.exports.IS_ANDROID,t.exports.IS_H5=t.exports.IS_MOBILE||!t.exports.HAS_FLASH,t.exports.IS_PC=!t.exports.IS_MOBILE,t.exports.is_X5=/micromessenger/i.test(t.exports.USER_AGENT)||/qqbrowser/i.test(t.exports.USER_AGENT),t.exports.IS_ANDROID_FIREFOX=t.exports.IS_ANDROID&&t.exports.IS_FIREFOX,t.exports.CHROME_VERSION=t.exports.IS_CHROME&&t.exports.USER_AGENT.match(/Chrome\/(\d+)/i)[1],t.exports.getHost=function(e){var t,r,n="";return void 0===e||null==e||""==e?"":(t=e.indexOf("//"),r=e,n=r=-1<t?e.substring(t+2):r,(e=(n=(e=r.split("/"))&&0<e.length?e[0]:n).split(":"))&&0<e.length?e[0]:n)},t.exports.dingTalk=function(){var e=t.exports.USER_AGENT.toLowerCase();return/dingtalk/i.test(e)},t.exports.IS_DINGTALK=t.exports.dingTalk(),t.exports.wechat=function(){var e=t.exports.USER_AGENT.toLowerCase();return/micromessenger/i.test(e)},t.exports.inIFrame=function(){return self!=top},t.exports.getReferer=function(){var r=document.referrer;if(t.exports.inIFrame())try{r=top.document.referrer}catch(e){r=document.referrer}return r},t.exports.getHref=function(){if(location.href,t.exports.inIFrame())try{top.location.href}catch(e){location.href}return location.href},t.exports.check360=function(){return-1!=navigator.userAgent.indexOf("Safari")?(()=>{var e=navigator.userAgent.split(" ");if(-1!=e[e.length-1].indexOf("Safari"))for(var t in navigator.plugins)if("np-mswmp.dll"==navigator.plugins[t].filename)return!0;return!1})():(null==navigator.msPointerEnabled||navigator.msPointerEnabled)&&(1==navigator.msDoNotTrack||1==window.doNotTrack)&&(!!Number(window.screenX)&&window.screenLeft-window.screenX!=8||(-1!=navigator.userAgent.indexOf("MSIE 7.0")||-1!=navigator.userAgent.indexOf("MSIE 8.0"))&&null==console.count)},function(e,r){var n=this.os={},i=this.browser={},o=e.match(/Web[kK]it[\/]{0,1}([\d.]+)/),a=e.match(/(Android);?[\s\/]+([\d.]+)?/),s=!!e.match(/\(Macintosh\; Intel /),c=e.match(/(iPad).*OS\s([\d_]+)/),l=e.match(/(iPod)(.*OS\s([\d_]+))?/),u=!c&&e.match(/(iPhone\sOS)\s([\d_]+)/),p=e.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),d=(r=/Win\d{2}|Windows/.test(r),e.match(/Windows Phone ([\d.]+)/)),h=p&&e.match(/TouchPad/),f=e.match(/Kindle\/([\d.]+)/),y=e.match(/Silk\/([\d._]+)/),g=e.match(/(BlackBerry).*Version\/([\d.]+)/),v=e.match(/(BB10).*Version\/([\d.]+)/),_=e.match(/(RIM\sTablet\sOS)\s([\d.]+)/),m=e.match(/PlayBook/),b=e.match(/Chrome\/([\d.]+)/)||e.match(/CriOS\/([\d.]+)/),S=e.match(/Firefox\/([\d.]+)/),T=e.match(/\((?:Mobile|Tablet); rv:([\d.]+)\).*Firefox\/[\d.]+/),w=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/[\d](?=[^\?]+).*rv:([0-9.].)/),E=!b&&e.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/),x=E||e.match(/Version\/([\d.]+)([^S](Safari)|[^M]*(Mobile)[^S]*(Safari))/);(i.webkit=!!o)&&(i.version=o[1]),a&&(n.android=!0,n.version=a[2]),u&&!l&&(n.ios=n.iphone=!0,n.version=u[2].replace(/_/g,".")),c&&(n.ios=n.ipad=!0,n.version=c[2].replace(/_/g,".")),l&&(n.ios=n.ipod=!0,n.version=l[3]?l[3].replace(/_/g,"."):null),d&&(n.wp=!0,n.version=d[1]),p&&(n.webos=!0,n.version=p[2]),h&&(n.touchpad=!0),g&&(n.blackberry=!0,n.version=g[2]),v&&(n.bb10=!0,n.version=v[2]),_&&(n.rimtabletos=!0,n.version=_[2]),m&&(i.playbook=!0),f&&(n.kindle=!0,n.version=f[1]),y&&(i.silk=!0,i.version=y[1]),!y&&n.android&&e.match(/Kindle Fire/)&&(i.silk=!0),b&&(i.chrome=!0,i.version=b[1]),S&&(i.firefox=!0,i.version=S[1]),T&&(n.firefoxos=!0,n.version=T[1]),w&&(i.ie=!0,i.version=w[1]),x&&(s||n.ios||r||a)&&(i.safari=!0,n.ios||n.android||(i.version=x[1])),n.ios&&(i.version=n.version),E&&(i.webview=!0),s&&((o=e.match(/[\d]*_[\d]*_[\d]*/))&&0<o.length&&o[0]&&(n.version=o[0].replace(/_/g,".")),/MQBHD/.test(e))&&(i.version=((e.match(/.*OS\s([\d_]+)/)||[])[1]||"").replace(/_/g,".")),n.tablet=!!(c||m||a&&!e.match(/Mobile/)||S&&e.match(/Tablet/)||w&&!e.match(/Phone/)&&e.match(/Touch/)),n.phone=!(n.tablet||n.ipod||!(a||u||p||g||v||b&&e.match(/Android/)||b&&e.match(/CriOS\/([\d.]+)/)||S&&e.match(/Mobile/)||w&&e.match(/Touch/))),n.pc=!n.tablet&&!n.phone,s?n.name="macOS":r?(n.name="windows",n.version=(()=>{var e=navigator.userAgent,t="";return(-1<e.indexOf("Windows NT 5.0")||-1<e.indexOf("Windows 2000"))&&(t="2000"),(-1<e.indexOf("Windows NT 5.1")||-1<e.indexOf("Windows XP"))&&(t="XP"),(-1<e.indexOf("Windows NT 5.2")||-1<e.indexOf("Windows 2003"))&&(t="2003"),(-1<e.indexOf("Windows NT 6.0")||-1<e.indexOf("Windows Vista"))&&(t="Vista"),(-1<e.indexOf("Windows NT 6.1")||-1<e.indexOf("Windows 7"))&&(t="7"),(-1<e.indexOf("Windows NT 6.2")||-1<e.indexOf("Windows 8"))&&(t="8"),(-1<e.indexOf("Windows NT 6.3")||-1<e.indexOf("Windows 8.1"))&&(t="8.1"),-1<e.indexOf("Windows NT 10")||-1<e.indexOf("Windows 10")?"10":t})()):n.name=(()=>{var e=navigator.userAgent,r="other",n=t.exports.os;return n.ios?"iOS":n.android?"android":-1<e.indexOf("Baiduspider")?"Baiduspider":-1<e.indexOf("PlayStation")?"PS4":(n="Win32"==navigator.platform||"Windows"==navigator.platform||-1<e.indexOf("Windows"),(e="Mac68K"==navigator.platform||"MacPPC"==navigator.platform||"Macintosh"==navigator.platform||"MacIntel"==navigator.platform)&&(r="macOS"),"X11"!=navigator.platform||n||e||(r="Unix"),-1<String(navigator.platform).indexOf("Linux")&&(r="Linux"),n?"windows":r)})(),i.name=(l=navigator.userAgent.toLowerCase(),(d=t.exports.browser).firefox?"Firefox":d.ie?/edge/.test(l)?"Edge":"IE":t.exports.IS_EDGE_NEW?"EdgeChromium":/micromessenger/.test(l)?"微信内置浏览器":/qqbrowser/.test(l)?"QQ浏览器":t.exports.IS_UC?"UC":t.exports.IS_QUARK?"Quark":t.exports.IS_DINGTALK?"Dingtalk":t.exports.IS_HUAWEI?"HuaweiBrowser":t.exports.IS_XIAOMI?"MiBrowser":t.exports.IS_OPPO?"OppoBrowser":t.exports.IS_VIVO?"VivoBrowser":t.exports.IS_MEIZU?"MeizuBrowser":t.exports.IS_SAMSUNG?"SamsungBrowser":t.exports.IS_WEBVIEW||/MQBHD/.test(l)?"webview":d.chrome?"Chrome":d.safari?"Safari":/baiduspider/.test(l)?"Baiduspider":/opera/.test(l)?"Opera":/360se/.test(l)?"360浏览器":/bidubrowser/.test(l)?"百度浏览器":/metasr/.test(l)?"搜狗浏览器":/lbbrowser/.test(l)?"猎豹浏览器":/playstation/.test(l)?"PS4浏览器":void 0)}.call(t.exports,navigator.userAgent,navigator.platform),t.exports.IS_WEBVIEW=(n=t.exports.USER_AGENT,i=new RegExp("("+["WebView","(iPhone|iPod|iPad)(?!.*Safari)","Android.*(Version).*(wv|.0.0.0)","Linux; U; Android"].join("|")+")","ig"),o=new RegExp("("+["VivoBrowser","MZBrowser","MiuiBrowser"].join("|")+")","ig"),!!n.match(i)&&!n.match(o))},{}],52:[function(e,t,r){var n=e("./dom");t.exports.getAbsoluteURL=function(e){return e.match(/^https?:\/\//)?e:n.createEl("div",{innerHTML:'<a href="'+e+'">x</a>'}).firstChild.href},t.exports.parseUrl=function(e){var t,r=["protocol","hostname","port","pathname","search","hash","host"],i=n.createEl("a",{href:e}),o=""===i.host&&"file:"!==i.protocol;o&&((t=n.createEl("div")).innerHTML='<a href="'+e+'"></a>',i=t.firstChild,t.setAttribute("style","display:none; position:absolute;"),document.body.appendChild(t));for(var a={},s=0;s<r.length;s++)a[r[s]]=i[r[s]];return a.segments=i.pathname.replace(/^\//,"").split("/"),o&&document.body.removeChild(t),a}},{"./dom":35}],53:[function(e,t,r){var n=e("./dom"),i=e("./ua"),o=e("./playerutil");t.exports.formatTime=function(e){e=Math.max(0,e||0);e=Math.floor(e);var t,r=Math.floor(e/3600);return e%=3600,t=Math.floor(e/60),e%=60,!(r===1/0||isNaN(r)||t===1/0||isNaN(t)||e==1/0||isNaN(e))&&("00"===(r=10<=r?r:"0"+r)?"":r+":")+(10<=t?t:"0"+t)+":"+(10<=e?e:"0"+e)},t.exports.extractTime=function(e){var t;return e?("00"===(t=10<=(t=parseInt(e.getHours()))?t:"0"+t)?"":t+":")+(t=10<=(t=parseInt(e.getMinutes()))?t:"0"+t)+":"+(t=10<=(t=parseInt(e.getSeconds()))?t:"0"+t):""},t.exports.convertToTimestamp=function(e,t){var r="";return e&&(t?r=e.gettime():(r=Date.parse(e),r/=1e3)),r},t.exports.convertToDate=function(e,t){var r="";return e&&(r=new Date).setTime(1e3*e),r},t.exports.parseTime=function(e){var t,r,n;return e?(n=r=t=0,3===(e=e.split(":")).length?(t=e[0],r=e[1],n=e[2]):2===e.length?(r=e[0],n=e[1]):1===e.length&&(n=e[0]),3600*(t=parseInt(t,10))+60*(r=parseInt(r,10))+(n=Math.ceil(parseFloat(n)))):"00:00:00"},t.exports.formatDate=function(e,t){var r,n={"M+":e.getMonth()+1,"d+":e.getDate(),"H+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(r in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+r+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?n[r]:("00"+n[r]).substr((""+n[r]).length)));return t},t.exports.sleep=function(e){for(var t=Date.now();Date.now()-t<=e;);},t.exports.htmlEncodeAll=function(e){return null==e?"":e.replace(/\</g,"&lt;").replace(/\>/g,"&gt;").replace(/\&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")},t.exports.toBinary=function(e){if(!window.atob)return"";for(var t=atob(e),r=t.length,n=new Uint8Array(r),i=0;i<r;i++)n[i]=t.charCodeAt(i);return n},t.exports.readyBinary=function(e){for(var t=new Uint8Array(e),r=t.length,n="",i=0;i<r;i++)n+=t[i];return n},t.exports.delayHide=function(e,t){e&&(void 0===t&&(t=1e3),e.delayHanlder&&clearTimeout(e.delayHanlder),e.delayHanlder=setTimeout((function(){n.css(e,"display","none")}),t))},t.exports.openInFile=function(){return-1!=window.location.protocol.toLowerCase().indexOf("file")},t.exports.contentProtocolMixed=function(e,t,r){return!!((i.os.pc&&(o.isHls(e,r)&&!i.browser.safari||o.isFlv(e,r))||t)&&"https:"==window.location.protocol.toLowerCase()&&e&&-1<e.toLowerCase().indexOf("http://"))},t.exports.queryString=function(e){var t,r,n;return 2===(e=(e=decodeURIComponent(e)).split("?")).length&&(t=e[1].split("&"))?(r={},n=0,$(t).each((function(){var e=t[n].split("=");2===e.length&&(r[e[0]]=e[1].replace(/\+/g," ")),n++})),r):{}},t.exports.log=function(e){var r=window.location.href;r=t.exports.queryString(r);r&&1==r.debug&&console.log(e)},t.exports.arrayBufferToB64=function(e){for(var t="",r=new Uint8Array(e),n=r.byteLength,i=0;i<n;i++)t+=String.fromCharCode(r[i]);return window.btoa(t)},t.exports.b64ToArrayBuffer=function(e){for(var t=atob(e),r=new Uint8Array(t.length),n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r.buffer},t.exports.throttle=function(e,t){var r=null,n=0;return function(){for(var i=this,o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];var c=Date.now(),l=t-(c-n);l<=0?(e.apply(this,a),n=c):(clearTimeout(r),r=setTimeout((function(){e.apply(i,a),n=Date.now()}),l))}}},{"./dom":35,"./playerutil":48,"./ua":51}],54:[function(e,t,r){var n,i="undefined"==typeof Promise?e("es6-promise").Promise:Promise;e=this,n=function(){var e={307:function(e,t,r){e=r.nmd(e);var n="__lodash_hash_undefined__",i=1,o=2,a=9007199254740991,s="[object Arguments]",c="[object Array]",l="[object AsyncFunction]",u="[object Boolean]",p="[object Date]",d="[object Error]",h="[object Function]",f="[object GeneratorFunction]",y="[object Map]",g="[object Number]",v="[object Null]",_="[object Object]",m="[object Promise]",b="[object Proxy]",S="[object RegExp]",T="[object Set]",w="[object String]",E="[object Undefined]",x="[object WeakMap]",k="[object ArrayBuffer]",P="[object DataView]",C=/^\[object .+?Constructor\]$/,R=/^(?:0|[1-9]\d*)$/,A={},I=(r=(A["[object Float32Array]"]=A["[object Float64Array]"]=A["[object Int8Array]"]=A["[object Int16Array]"]=A["[object Int32Array]"]=A["[object Uint8Array]"]=A["[object Uint8ClampedArray]"]=A["[object Uint16Array]"]=A["[object Uint32Array]"]=!0,A[s]=A[c]=A[k]=A[u]=A[P]=A[p]=A[d]=A[h]=A[y]=A[g]=A[_]=A[S]=A[T]=A[w]=A[x]=!1,"object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g),"object"==typeof self&&self&&self.Object===Object&&self),O=(I=r||I||Function("return this")(),t=t&&!t.nodeType&&t,t&&e&&!e.nodeType&&e),L=(O=O&&O.exports===t,O&&r.process);t=(()=>{try{return L&&L.binding&&L.binding("util")}catch(e){}})(),r=t&&t.isTypedArray;function D(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function N(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}t=Array.prototype;var M,U,j=Function.prototype,B=Object.prototype,F=I["__core-js_shared__"],H=j.toString,V=B.hasOwnProperty,$=(j=/[^.]+$/.exec(F&&F.keys&&F.keys.IE_PROTO||""))?"Symbol(src)_1."+j:"",q=B.toString,W=RegExp("^"+H.call(V).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),z=(F=O?I.Buffer:void 0,j=I.Symbol,I.Uint8Array),X=B.propertyIsEnumerable,G=t.splice,K=j?j.toStringTag:void 0,Y=Object.getOwnPropertySymbols,Q=(O=F?F.isBuffer:void 0,M=Object.keys,U=Object,function(e){return M(U(e))}),J=(t=be(I,"DataView"),be(I,"Map")),Z=(F=be(I,"Promise"),be(I,"Set")),ee=(I=be(I,"WeakMap"),be(Object,"create")),te=we(t),re=we(J),ne=we(F),ie=we(Z),oe=we(I),ae=(j=j?j.prototype:void 0,j?j.valueOf:void 0);function se(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ce(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function le(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ue(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new le;++t<r;)this.add(e[t])}function pe(e){e=this.__data__=new ce(e),this.size=e.size}function de(e,t){var r,n,i,o=ke(e),s=!o&&xe(e),c=!o&&!s&&Pe(e),l=!o&&!s&&!c&&Le(e),u=o||s||c||l,p=u?((e,t)=>{for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n})(e.length,String):[],d=p.length;for(r in e)!t&&!V.call(e,r)||u&&("length"==r||c&&("offset"==r||"parent"==r)||l&&("buffer"==r||"byteLength"==r||"byteOffset"==r)||(n=r,i=d,(i=null==i?a:i)&&("number"==typeof n||R.test(n))&&-1<n&&n%1==0&&n<i))||p.push(r);return p}function he(e,t){for(var r=e.length;r--;)if(Ee(e[r][0],t))return r;return-1}function fe(e){if(null==e)return void 0===e?E:v;if(K&&K in Object(e)){var t=e,r=V.call(t,K),n=t[K];try{var i=!(t[K]=void 0)}catch(t){}var o=q.call(t);return i&&(r?t[K]=n:delete t[K]),o}return q.call(e)}function ye(e){return Ie(e)&&fe(e)==s}function ge(e,t,r,n,a){return e===t||(null==e||null==t||!Ie(e)&&!Ie(t)?e!=e&&t!=t:((e,t,r,n,a,l)=>{var h=ke(e),f=ke(t),v=h?c:Te(e),m=(f=f?c:Te(t),(v=v==s?_:v)==_),b=(f=f==s?_:f)==_;if((f=v==f)&&Pe(e)){if(!Pe(t))return!1;m=!(h=!0)}if(f&&!m)return l=l||new pe,(h||Le(e)?ve:(e,t,r,n,a,s)=>{switch(v){case P:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case k:return!(e.byteLength!=t.byteLength||!a(new z(e),new z(t)));case u:case p:case g:return Ee(+e,+t);case d:return e.name==t.name&&e.message==t.message;case S:case w:return e==t+"";case y:var c=D;case T:if(c=c||N,e.size!=t.size&&!(r&i))return!1;var l=s.get(e);return l?l==t:(r|=o,s.set(e,t),l=ve(c(e),c(t),r,n,a,s),s.delete(e),l);case"[object Symbol]":if(ae)return ae.call(e)==ae.call(t)}return!1})(e,t,r,n,a,l);if(!(r&i)&&(h=m&&V.call(e,"__wrapped__"),m=b&&V.call(t,"__wrapped__"),h||m))return a(h?e.value():e,m?t.value():t,r,n,l=l||new pe);if(f){l=l||new pe;var E=e,x=t,C=r,R=n,A=a,I=l,O=C&i,L=_e(E),M=L.length;if(M!=_e(x).length&&!O)return!1;for(var U=M;U--;){var j=L[U];if(!(O?j in x:V.call(x,j)))return!1}if(b=I.get(E),b&&I.get(x))return b==x;for(var B=!0,F=(I.set(E,x),I.set(x,E),O);++U<M;){var H,$=E[j=L[U]],q=x[j];if(!(void 0===(H=R?O?R(q,$,j,x,E,I):R($,q,j,E,x,I):H)?$===q||A($,q,C,R,I):H)){B=!1;break}F=F||"constructor"==j}return B&&!F&&(b=E.constructor)!=(h=x.constructor)&&"constructor"in E&&"constructor"in x&&!("function"==typeof b&&b instanceof b&&"function"==typeof h&&h instanceof h)&&(B=!1),I.delete(E),I.delete(x),B}return!1})(e,t,r,n,ge,a))}function ve(e,t,r,n,a,s){var c=r&i,l=e.length,u=t.length;if(l!=u&&!(c&&l<u))return!1;if(u=s.get(e),u&&s.get(t))return u==t;var p=-1,d=!0,h=r&o?new ue:void 0;for(s.set(e,t),s.set(t,e);++p<l;){var f,y=e[p],g=t[p];if(void 0!==(f=n?c?n(g,y,p,t,e,s):n(y,g,p,e,t,s):f)){if(f)continue;d=!1;break}if(h){if(!((e,t)=>{for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return 1})(t,(function(e,t){return!h.has(t)&&(y===e||a(y,e,r,n,s))&&h.push(t)}))){d=!1;break}}else if(y!==g&&!a(y,g,r,n,s)){d=!1;break}}return s.delete(e),s.delete(t),d}function _e(e){var t=Se,r=De(e);if(ke(e))return r;for(var n=r,i=t(e),o=-1,a=i.length,s=n.length;++o<a;)n[s+o]=i[o];return n}function me(e,t){var r;e=e.__data__;return("string"==(r=typeof t)||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==t:null===t)?e["string"==typeof t?"string":"hash"]:e.map}function be(e,t){return e=null==e?void 0:e[t],!Ae(t=e)||$&&$ in t||!(Ce(t)?W:C).test(we(t))?void 0:e}se.prototype.clear=function(){this.__data__=ee?ee(null):{},this.size=0},se.prototype.delete=function(e){return e=this.has(e)&&delete this.__data__[e],this.size-=e?1:0,e},se.prototype.get=function(e){var t,r=this.__data__;return ee?(t=r[e])===n?void 0:t:V.call(r,e)?r[e]:void 0},se.prototype.has=function(e){var t=this.__data__;return ee?void 0!==t[e]:V.call(t,e)},se.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=ee&&void 0===t?n:t,this},ce.prototype.clear=function(){this.__data__=[],this.size=0},ce.prototype.delete=function(e){var t=this.__data__;e=he(t,e);return!(e<0||(e==t.length-1?t.pop():G.call(t,e,1),--this.size,0))},ce.prototype.get=function(e){var t=this.__data__;e=he(t,e);return e<0?void 0:t[e][1]},ce.prototype.has=function(e){return-1<he(this.__data__,e)},ce.prototype.set=function(e,t){var r=this.__data__,n=he(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},le.prototype.clear=function(){this.size=0,this.__data__={hash:new se,map:new(J||ce),string:new se}},le.prototype.delete=function(e){return e=me(this,e).delete(e),this.size-=e?1:0,e},le.prototype.get=function(e){return me(this,e).get(e)},le.prototype.has=function(e){return me(this,e).has(e)},le.prototype.set=function(e,t){var r=me(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},ue.prototype.add=ue.prototype.push=function(e){return this.__data__.set(e,n),this},ue.prototype.has=function(e){return this.__data__.has(e)},pe.prototype.clear=function(){this.__data__=new ce,this.size=0},pe.prototype.delete=function(e){var t=this.__data__;e=t.delete(e);return this.size=t.size,e},pe.prototype.get=function(e){return this.__data__.get(e)},pe.prototype.has=function(e){return this.__data__.has(e)},pe.prototype.set=function(e,t){var r=this.__data__;if(r instanceof ce){var n=r.__data__;if(!J||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new le(n)}return r.set(e,t),this.size=r.size,this};var Se=Y?function(e){if(null==e)return[];e=Object(e);for(var t=Y(e),r=-1,n=null==t?0:t.length,i=0,o=[];++r<n;){var a=t[r];X.call(e,a)&&(o[i++]=a)}return o}:function(){return[]},Te=fe;function we(e){if(null!=e){try{return H.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ee(e,t){return e===t||e!=e&&t!=t}(t&&Te(new t(new ArrayBuffer(1)))!=P||J&&Te(new J)!=y||F&&Te(F.resolve())!=m||Z&&Te(new Z)!=T||I&&Te(new I)!=x)&&(Te=function(e){var t=fe(e);e=t==_?e.constructor:void 0,e=e?we(e):"";if(e)switch(e){case te:return P;case re:return y;case ne:return m;case ie:return T;case oe:return x}return t});var xe=ye(function(){return arguments}())?ye:function(e){return Ie(e)&&V.call(e,"callee")&&!X.call(e,"callee")},ke=Array.isArray,Pe=O||function(){return!1};function Ce(e){if(Ae(e))return(e=fe(e))==h||e==f||e==l||e==b}function Re(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=a}function Ae(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ie(e){return null!=e&&"object"==typeof e}var Oe,Le=r?(Oe=r,function(e){return Oe(e)}):function(e){return Ie(e)&&Re(e.length)&&!!A[fe(e)]};function De(e){return(null!=e&&Re(e.length)&&!Ce(e)?de:e=>{if(e!==("function"==typeof(t=e&&e.constructor)&&t.prototype||B))return Q(e);var t,r,n=[];for(r in Object(e))V.call(e,r)&&"constructor"!=r&&n.push(r);return n})(e)}e.exports=function(e,t){return ge(e,t)}},801:function(e){e.exports=function(e){return void 0===e}},378:function(e,t,r){e=r.nmd(e);var n,i,o="__lodash_hash_undefined__",a=9007199254740991,s="[object Arguments]",c="[object AsyncFunction]",l="[object Function]",u="[object GeneratorFunction]",p="[object Null]",d="[object Object]",h="[object Proxy]",f="[object Undefined]",y=/^\[object .+?Constructor\]$/,g=/^(?:0|[1-9]\d*)$/,v={},_=(r=(v["[object Float32Array]"]=v["[object Float64Array]"]=v["[object Int8Array]"]=v["[object Int16Array]"]=v["[object Int32Array]"]=v["[object Uint8Array]"]=v["[object Uint8ClampedArray]"]=v["[object Uint16Array]"]=v["[object Uint32Array]"]=!0,v[s]=v["[object Array]"]=v["[object ArrayBuffer]"]=v["[object Boolean]"]=v["[object DataView]"]=v["[object Date]"]=v["[object Error]"]=v[l]=v["[object Map]"]=v["[object Number]"]=v[d]=v["[object RegExp]"]=v["[object Set]"]=v["[object String]"]=v["[object WeakMap]"]=!1,"object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g),"object"==typeof self&&self&&self.Object===Object&&self),m=(_=r||_||Function("return this")(),t=t&&!t.nodeType&&t,t&&e&&!e.nodeType&&e),b=(t=m&&m.exports===t,t&&r.process),S=(r=(()=>{try{return m&&m.require&&m.require("util").types||b&&b.binding&&b.binding("util")}catch(e){}})(),r=r&&r.isTypedArray,Array.prototype),T=Function.prototype,w=Object.prototype,E=_["__core-js_shared__"],x=T.toString,k=w.hasOwnProperty,P=(T=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||""))?"Symbol(src)_1."+T:"",C=w.toString,R=x.call(Object),A=RegExp("^"+x.call(k).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),I=(E=t?_.Buffer:void 0,T=_.Symbol,_.Uint8Array),O=(E&&E.allocUnsafe,n=Object.getPrototypeOf,function(e){return n(i(e))}),L=(i=Object).create,D=w.propertyIsEnumerable,N=S.splice,M=T?T.toStringTag:void 0,U=(()=>{try{var e=oe(Object,"defineProperty");return e({},"",{}),e}catch(e){}})(),j=(t=E?E.isBuffer:void 0,Math.max),B=Date.now,F=oe(_,"Map"),H=oe(Object,"create"),V=function(e){return me(e)?L?L(e):($.prototype=e,e=new $,$.prototype=void 0,e):{}};function $(){}function q(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function W(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function z(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function X(e){e=this.__data__=new W(e),this.size=e.size}function G(e,t){var r,n=fe(e),i=!n&&he(e),o=!n&&!i&&ge(e),a=!n&&!i&&!o&&Te(e),s=n||i||o||a,c=s?((e,t)=>{for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n})(e.length,String):[],l=c.length;for(r in e)!t&&!k.call(e,r)||s&&("length"==r||o&&("offset"==r||"parent"==r)||a&&("buffer"==r||"byteLength"==r||"byteOffset"==r)||ae(r,l))||c.push(r);return c}function K(e,t,r){(void 0===r||de(e[t],r))&&(void 0!==r||t in e)||Q(e,t,r)}function Y(e,t){for(var r=e.length;r--;)if(de(e[r][0],t))return r;return-1}function Q(e,t,r){"__proto__"==t&&U?U(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}q.prototype.clear=function(){this.__data__=H?H(null):{},this.size=0},q.prototype.delete=function(e){return e=this.has(e)&&delete this.__data__[e],this.size-=e?1:0,e},q.prototype.get=function(e){var t,r=this.__data__;return H?(t=r[e])===o?void 0:t:k.call(r,e)?r[e]:void 0},q.prototype.has=function(e){var t=this.__data__;return H?void 0!==t[e]:k.call(t,e)},q.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=H&&void 0===t?o:t,this},W.prototype.clear=function(){this.__data__=[],this.size=0},W.prototype.delete=function(e){var t=this.__data__;e=Y(t,e);return!(e<0||(e==t.length-1?t.pop():N.call(t,e,1),--this.size,0))},W.prototype.get=function(e){var t=this.__data__;e=Y(t,e);return e<0?void 0:t[e][1]},W.prototype.has=function(e){return-1<Y(this.__data__,e)},W.prototype.set=function(e,t){var r=this.__data__,n=Y(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},z.prototype.clear=function(){this.size=0,this.__data__={hash:new q,map:new(F||W),string:new q}},z.prototype.delete=function(e){return e=ie(this,e).delete(e),this.size-=e?1:0,e},z.prototype.get=function(e){return ie(this,e).get(e)},z.prototype.has=function(e){return ie(this,e).has(e)},z.prototype.set=function(e,t){var r=ie(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},X.prototype.clear=function(){this.__data__=new W,this.size=0},X.prototype.delete=function(e){var t=this.__data__;e=t.delete(e);return this.size=t.size,e},X.prototype.get=function(e){return this.__data__.get(e)},X.prototype.has=function(e){return this.__data__.has(e)},X.prototype.set=function(e,t){var r=this.__data__;if(r instanceof W){var n=r.__data__;if(!F||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new z(n)}return r.set(e,t),this.size=r.size,this};var J,Z=function(e,t,r){for(var n=-1,i=Object(e),o=r(e),a=o.length;a--;){var s=o[J?a:++n];if(!1===t(i[s],s,i))break}return e};function ee(e){if(null==e)return void 0===e?f:p;if(M&&M in Object(e)){var t=e,r=k.call(t,M),n=t[M];try{var i=!(t[M]=void 0)}catch(t){}var o=C.call(t);return i&&(r?t[M]=n:delete t[M]),o}return C.call(e)}function te(e){return be(e)&&ee(e)==s}function re(e){return me(e)&&!(P&&P in e)&&(ve(e)?A:y).test((e=>{if(null!=e){try{return x.call(e)}catch(e){}try{return e+""}catch(e){}}return""})(e))}function ne(e,t,r,n,i){e!==t&&Z(t,(function(o,a){var s,c,l,u,p,h,f,y,g,v,_,m,b;i=i||new X,me(o)?(c=t,u=r,p=ne,h=n,f=i,_=ce(s=e,l=a),m=ce(c,l),(b=f.get(m))||((c=void 0===(b=h?h(_,m,l+"",s,c,f):void 0))&&(y=!(v=fe(m))&&ge(m),g=!v&&!y&&Te(m),b=m,v||y||g?b=fe(_)?_:be(v=_)&&ye(v)?((e,t)=>{var r=-1,n=e.length;for(t=t||Array(n);++r<n;)t[r]=e[r];return t})(_):y?(c=!1,m.slice()):g?(c=!1,g=new(y=(v=m).buffer).constructor(y.byteLength),new I(g).set(new I(y)),new v.constructor(g,v.byteOffset,v.length)):[]:(e=>{if(be(e)&&ee(e)==d)return null===(e=O(e))||"function"==typeof(e=k.call(e,"constructor")&&e.constructor)&&e instanceof e&&x.call(e)==R})(m)||he(m)?he(b=_)?b=(()=>{for(var e,t,r=_,n=we(_),i=void 0,o=!i,a=(i=i||{},-1),s=n.length;++a<s;){var c=n[a],l=void 0;void 0===l&&(l=r[c]),o?Q(i,c,l):(t=void 0,t=(e=i)[c],k.call(e,c)&&de(t,l)&&(void 0!==l||c in e)||Q(e,c,l))}return i})():me(_)&&!ve(_)||(b="function"!=typeof m.constructor||se(m)?{}:V(O(m))):c=!1),c&&(f.set(m,b),p(b,m,u,h,f),f.delete(m))),K(s,l,b)):(y=n?n(ce(e,a),o,a+"",e,t,i):void 0,K(e,a,y=void 0===y?o:y))}),we)}function ie(e,t){var r;e=e.__data__;return("string"==(r=typeof t)||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==t:null===t)?e["string"==typeof t?"string":"hash"]:e.map}function oe(e,t){return e=null==e?void 0:e[t],re(e)?e:void 0}function ae(e,t){var r=typeof e;return(t=null==t?a:t)&&("number"==r||"symbol"!=r&&g.test(e))&&-1<e&&e%1==0&&e<t}function se(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||w)}function ce(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}le=U?function(e,t){return U(e,"toString",{configurable:!0,enumerable:!1,value:(r=t,function(){return r}),writable:!0});var r}:Re,pe=ue=0;var le,ue,pe;S=function(){var e=B(),t=16-(e-pe);if(pe=e,0<t){if(800<=++ue)return arguments[0]}else ue=0;return le.apply(void 0,arguments)};function de(e,t){return e===t||e!=e&&t!=t}var he=te(function(){return arguments}())?te:function(e){return be(e)&&k.call(e,"callee")&&!D.call(e,"callee")},fe=Array.isArray;function ye(e){return null!=e&&_e(e.length)&&!ve(e)}var ge=t||function(){return!1};function ve(e){if(me(e))return(e=ee(e))==l||e==u||e==c||e==h}function _e(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=a}function me(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function be(e){return null!=e&&"object"==typeof e}var Se,Te=r?(Se=r,function(e){return Se(e)}):function(e){return be(e)&&_e(e.length)&&!!v[ee(e)]};function we(e){if(ye(e))return G(e,!0);var t=e;if(me(t)){var r,n=se(t),i=[];for(r in t)("constructor"!=r||!n&&k.call(t,r))&&i.push(r);return i}var o=[];if(null!=t)for(var a in Object(t))o.push(a);return o}Ee=function(e,t,r){ne(e,t,r)};var Ee,xe,ke,Pe,Ce;E=S((ke=T=function(e,t){var r=-1,n=t.length,i=1<n?t[n-1]:void 0,o=2<n?t[2]:void 0;i=3<Ee.length&&"function"==typeof i?(n--,i):void 0;for((o&&((e,t,r)=>{var n;if(me(r))return("number"==(n=typeof t)?ye(r)&&ae(t,r.length):"string"==n&&t in r)&&de(r[t],e)})(t[0],t[1],o)&&(i=n<3?void 0:i,n=1),e=Object(e));++r<n;){var a=t[r];a&&Ee(e,a,r)}return e},Ce=Re,Pe=j(void 0===xe?ke.length-1:xe,0),function(){for(var e=arguments,t=-1,r=j(e.length-Pe,0),n=Array(r);++t<r;)n[t]=e[Pe+t];t=-1;for(var i=Array(Pe+1);++t<Pe;)i[t]=e[t];i[Pe]=Ce(n);var o=ke,a=this,s=i;switch(s.length){case 0:return o.call(a);case 1:return o.call(a,s[0]);case 2:return o.call(a,s[0],s[1]);case 3:return o.call(a,s[0],s[1],s[2])}return o.apply(a,s)}),T+"");function Re(e){return e}e.exports=E},775:function(e){var t=Object.prototype.hasOwnProperty;function r(e){return"[Throws: "+(e?e.message:"?")+"]"}function n(e){var n=[];return function e(i){if(null===i||"object"!=typeof i)return i;if(-1!==n.indexOf(i))return"[Circular]";if(n.push(i),"function"==typeof i.toJSON)try{var o=e(i.toJSON());return n.pop(),o}catch(e){return r(e)}return o=Array.isArray(i)?i.map(e):Object.keys(i).reduce((function(r,n){return r[n]=e(((e,r)=>(t.call(e,r),e[r]))(i,n)),r}),{}),n.pop(),o}(e)}e.exports=function(e,t,r){return JSON.stringify(n(e),t,r)},e.exports.ensureProperties=n}},t={};function r(n){var i=t[n];return void 0!==i||(i=t[n]={id:n,loaded:!1,exports:{}},e[n](i,i.exports,r),i.loaded=!0),i.exports}r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(x){if("object"==typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e};var n={},o=(r.r(n),r.d(n,{AACParser:function(){return o},AudioBody:function(){return Tt},AvMultitrackType:function(){return It},AvcSPS:function(){return ie},BasicLoader:function(){return ze},BitBuffer:function(){return y},Box:function(){return be},ByteBuffer:function(){return s},CTrackTypeMap:function(){return ve},Demuxer:function(){return Ga},DiscardType:function(){return V},EAudioCodecID:function(){return ft},EAudioPacketType:function(){return _t},EFormatType:function(){return W},EFrameType:function(){return Pt},EH264NALType:function(){return m},EH265NALType:function(){return T},EH266NALType:function(){return k},EHandlerType:function(){return q},ELoaderStatus:function(){return Fe},EPID:function(){return ma},ESampleFlag:function(){return ge},ESoundType:function(){return vt},EStreamType:function(){return io},ETSPacketType:function(){return Ea},ETagType:function(){return qe},ETrackType:function(){return z},EVideoCodecID:function(){return Rt},EVideoCommand:function(){return Ct},EVideoPacketType:function(){return At},ErrorCode:function(){return $},FLVParser:function(){return $t},FullBox:function(){return Se},H264NAL:function(){return E},H265NAL:function(){return R},H266NAL:function(){return L},HLSParser:function(){return Ma},HevcSPS:function(){return le},Loader:function(){return et},LoaderError:function(){return We},MP4Parser:function(){return ia},MP4RemuxStream:function(){return us},MPEGTSParser:function(){return La},PAT:function(){return Sa},PES:function(){return Ta},PMT:function(){return wa},Remuxer:function(){return rs},SOUND_RATE:function(){return mt},SOUND_SIZE:function(){return bt},ScriptBody:function(){return Ot},TSHeader:function(){return ka},TagHeader:function(){return yt},VideoBody:function(){return Dt},VvcSPS:function(){return ue},esTypeMap:function(){return ba}}),{}),a=(r.r(o),r.d(o,{AAC_DURATION:function(){return l},AAC_SAMPLING_FREQUENCIES:function(){return c},addADTSHeader:function(){return u},getADTSHeaderLength:function(){return d},getADTSLength:function(){return h},isADTS:function(){return p},readAACSamples:function(){return f}}),{}),s=(r.r(a),r.d(a,{Box:function(){return be},avc1:function(){return Kt},avcC:function(){return Ee},btrt:function(){return tr},co64:function(){return yo},ctts:function(){return co},dinf:function(){return zt},dref:function(){return ir},edts:function(){return zt},elst:function(){return Er},esds:function(){return Hr},ftyp:function(){return Vr},hdlr:function(){return Wr},hev1:function(){return Jt},hvc1:function(){return Jt},hvcC:function(){return De},mdat:function(){return zr},mdhd:function(){return Xr},mdia:function(){return zt},mfhd:function(){return vn},mfra:function(){return zt},minf:function(){return zt},moof:function(){return pn},moov:function(){return zt},mp4a:function(){return Gr},mvex:function(){return bn},mvhd:function(){return Kr},pasp:function(){return Jr},sdtp:function(){return wn},sidx:function(){return kn},stbl:function(){return zt},stco:function(){return po},stsc:function(){return _o},stsd:function(){return So},stss:function(){return Eo},stsz:function(){return Po},stts:function(){return Io},tfdt:function(){return bi},tfhd:function(){return Gi},tkhd:function(){return tn},traf:function(){return fn},trak:function(){return zt},trex:function(){return to},trun:function(){return oo},url:function(){return on},vmhd:function(){return cn},vvc1:function(){return $r},vvcC:function(){return Ft},vvi1:function(){return qr}}),v.fromUint8=function(e){return new v(e.buffer,e.byteOffset,e.byteLength)},v.concatUint8s=function(e){return this.concatUint8.apply(this,e)},v.concatUint8=function(){for(var e,t,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length<=1?r[0]||new Uint8Array(0):(e=new Uint8Array(r.reduce((function(e,t){return e+t.byteLength}),0)),t=0,r.forEach((function(r){e.set(r,t),t+=r.byteLength})),e)},v.concat=function(e,t){return v.concatUint8(new Uint8Array(e),new Uint8Array(t)).buffer},Object.defineProperty(v.prototype,"buffer",{get:function(){return this.dv.buffer},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"unreadLength",{get:function(){return Math.max(this.end-this.offset,0)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"length",{get:function(){return this.end-this.start},enumerable:!1,configurable:!0}),v.prototype.readFloat=function(e){var t=0;switch(e){case 4:t=this.dv.getFloat32(this.offset);break;case 8:t=this.dv.getFloat64(this.offset);break;default:throw new Error("not supported for read float byte with "+e)}return this.offset+=e,t},v.prototype.back=function(e){this.offset-=e},v.prototype.skip=function(e){this.offset+=e},v.prototype.readInt=function(e){var t=this.offset;switch(this.offset+=e,e){case 1:return this.dv.getInt8(t);case 2:return this.dv.getInt16(t);case 4:return this.dv.getInt32(t);default:throw new Error("not supported for read byte with "+e)}},v.prototype.read=function(e){var t=this.offset;switch(this.offset+=e,e){case 1:return this.dv.getUint8(t);case 2:return this.dv.getUint16(t);case 3:return(this.dv.getUint16(t)<<8)+this.dv.getUint8(t+2);case 4:return this.dv.getUint32(t);default:return this.back(e-4),this.read(e-4)+this.dv.getUint32(t)*Math.pow(256,e-4)}},v.prototype.writeInt=function(e,t){var r=this.offset;switch(this.offset+=e,e){case 1:return this.dv.setInt8(r,t);case 2:return this.dv.setInt16(r,t);case 3:return this.dv.setInt8(r,t>>16),this.dv.setInt16(r+1,65535&t);case 4:return this.dv.setInt32(r,t);default:throw new Error("不支持Byte write "+e)}},v.prototype.write=function(e,t){var r=this.offset;switch(this.offset+=e,e){case 1:return this.dv.setUint8(r,t);case 2:return this.dv.setUint16(r,t);case 3:return this.dv.setUint8(r,t>>>16),this.dv.setUint16(r+1,65535&t);case 4:return this.dv.setUint32(r,t);default:throw new Error("不支持Byte write "+e)}},v.prototype.readToUint8=function(e){return e=new Uint8Array(this.dv.buffer,this.offset,e||this.unreadLength),this.offset+=e.byteLength,e},v.prototype.readToBuffer=function(e){return e=this.offset||e?this.dv.buffer.slice(this.offset,e?this.offset+e:void 0):this.dv.buffer,this.offset+=e.byteLength,e},v),c=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],l=1024,u=function(e,t){var r=t.audioObjectType,n=t.sampleRate,i=t.samplingFrequencyIndex,o=t.channelCount,a=(t=t.numberOfRawDataBlocksInFrame,t=void 0===t?0:t,i);0===i&&0<n&&(a=c.indexOf(n)),i=e.byteLength+7,n=new Uint8Array(7);return n[0]=255,n[1]=241,n[2]=r-1<<6,n[2]|=a<<2,n[2]|=(4&o)>>2,n[3]=(3&o)<<6,n[3]|=(6144&i)>>11,n[4]=(2047&i)>>3,n[5]=(7&i)<<5,n[5]|=31,n[6]=252,n[6]|=3&t,s.concatUint8(n,e)},p=function(e,t){return t<e.byteLength-1&&255===e[t]&&240==(246&e[t+1])},d=function(e,t){return 1&e[t+1]?7:9},h=function(e,t){return(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5},f=function(e){for(var t,r,n=[],i=0,o=e.byteLength;i+6<o;)p(e,i)?(t=d(e,i),r=h(e,i),n.push({audioObjectType:1+(e[2]>>>6),sampleRate:c[e[2]>>>2&15],samplingFrequencyIndex:e[2]>>>2&15,channelCount:(1&e[2])<<2|e[3]>>>6,numberOfRawDataBlocksInFrame:0,data:e.subarray(i+t,i+r)}),i+=r):i++;return n},y=(g.fromByte=function(e,t){return new g(e.read(t),t<<3)},g.prototype.skip=function(e){this.offset+=e},g.prototype.read=function(e){var t=this.len-this.offset-e;if(0<=t){for(var r=0,n=0;n<e;n++)r+=1<<n;return this.offset+=e,this.num>>>t&r}return console.warn("bit 读取位数超过限制"),0},g);function g(e,t){this.num=e,this.len=t,this.offset=0}function v(e,t,r){this.dv=new DataView(e),this.offset=t||this.dv.byteOffset,this.start=this.offset,this.end=r?this.start+r:this.dv.byteLength}S.createAnnexbStartCode=function(){return new Uint8Array([0,0,0,1])},S.createVVCAnnexbStartCode=function(){return new Uint8Array([0,0,1])},S.createAVCCStartCode=function(e){return new Uint8Array([e>>24&255,e>>16&255,e>>8&255,255&e])},S.extractAVCCNAL=function(e,t){for(var r,n=[],i=new s(e.buffer,e.byteOffset,e.byteLength);i.unreadLength>t;){if((r=i.read(t+1))<=0||r>i.unreadLength){console.warn("extract avc nalu size wrong! lengthSizeMinusOne:",t,"size:",r);break}var o=i.offset-i.start;n.push(e.subarray(o,o+r)),i.skip(r)}return n},S.extractAnnexbNAL=function(e){for(var t=e.byteLength,r=[],n=0;n<t-3;)0===e[n]?0===e[n+1]?0===e[n+2]?0===e[n+3]?n++:(1===e[n+3]&&n+4<t&&r.push({prefixStart:n,start:n+4}),n+=4):(1===e[n+2]&&r.push({prefixStart:n,start:n+3}),n+=3):n+=2:n++;return r.length?r.map((function(t,n){return n=r[n+1],n?e.subarray(t.start,n.prefixStart):e.subarray(t.start)})):[]};var _,m,b=S;function S(){}_=function(e,t){return(_=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)},(x=m=m||{})[x.UNUSED=0]="UNUSED",x[x.NON_IDR_SLICE=1]="NON_IDR_SLICE",x[x.DP_A=2]="DP_A",x[x.DP_B=3]="DP_B",x[x.DP_C=4]="DP_C",x[x.IDR=5]="IDR",x[x.SEI=6]="SEI",x[x.SPS=7]="SPS",x[x.PPS=8]="PPS",x[x.DIVIDER=9]="DIVIDER",x[x.SEQUENCE_END=10]="SEQUENCE_END",x[x.STREAM_END=11]="STREAM_END",x[x.FILL=12]="FILL";var T,w,E=(e=>{function t(t){var r=e.call(this)||this;t=new y(t.read(1),8);return r.forbiddenZeroBit=t.read(1),r.nalRefIdc=t.read(2),r.nalType=t.read(5),r}var r=t,n=e;if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=r}return _(r,n),r.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i),t.extractNALType=function(e){return 31&e[0]},t.isSlice=function(e){return e=this.extractNALType(e),e>=m.NON_IDR_SLICE&&e<=m.IDR},t})(b),x=(w=function(e,t){return(w=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}w(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});(A=T=T||{})[A.TRAIL_N=0]="TRAIL_N",A[A.TRAIL_R=1]="TRAIL_R",A[A.TSA_N=2]="TSA_N",A[A.TSA_R=3]="TSA_R",A[A.STSA_N=4]="STSA_N",A[A.STSA_R=5]="STSA_R",A[A.RADL_N=6]="RADL_N",A[A.RADL_R=7]="RADL_R",A[A.RASL_N=8]="RASL_N",A[A.RASL_R=9]="RASL_R",A[A.VCL_N10=10]="VCL_N10",A[A.VCL_R11=11]="VCL_R11",A[A.VCL_N12=12]="VCL_N12",A[A.VCL_R13=13]="VCL_R13",A[A.VCL_N14=14]="VCL_N14",A[A.VCL_R15=15]="VCL_R15",A[A.BLA_W_LP=16]="BLA_W_LP",A[A.BLA_W_RADL=17]="BLA_W_RADL",A[A.BLA_N_LP=18]="BLA_N_LP",A[A.IDR_W_RADL=19]="IDR_W_RADL",A[A.IDR_N_LP=20]="IDR_N_LP",A[A.CRA=21]="CRA",A[A.VPS=32]="VPS",A[A.SPS=33]="SPS",A[A.PPS=34]="PPS",A[A.ACCESS_UNIT_DELIMITER=35]="ACCESS_UNIT_DELIMITER",A[A.EOS=36]="EOS",A[A.EOB=37]="EOB",A[A.FILLER_DATA=38]="FILLER_DATA",A[A.SEI=39]="SEI",A[A.SEI_SUFFIX=40]="SEI_SUFFIX",A[A.INVALID=64]="INVALID",x(I,C=b),I.extractNALType=function(e,t){return(126&e[t=void 0===t?0:t])>>1},I.isNonRefNALType=function(e){switch(e){case T.TRAIL_N:case T.STSA_N:case T.RADL_N:case T.RASL_N:case T.VCL_N10:case T.VCL_N12:case T.VCL_N14:return!0;default:return!1}},I.isNonRef=function(e){return this.isNonRefNALType(this.extractNALType(e))},I.isSlice=function(e){return e=this.extractNALType(e),e>=T.TRAIL_N&&e<=T.CRA},I.littleEndian=function(){var e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),256===new Int16Array(e)[0]},I.parseHVCVideoData=function(e,t){for(var r=e.byteLength,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i=[],o=0,a=0+t,s=this.littleEndian,c=!1;o<r;){if(r<=o+4){console.warn("parseHVCVideoData Malformed Nalu near timestamp "+a+", offset = "+o+", dataSize = "+r);break}var l=n.getUint32(o,!s);if(r-4<l)return void console.warn("parseHVCVideoData Malformed Nalus near timestamp "+a+", NaluSize > DataSize!");var u=n.getUint8(o+4)>>1&63,p=(16<=u&&u<=23&&(c=!0),0+o+4);u={type:u,data:e.subarray(p,p+l)};i.push(u),o+=4+l}return{keyframe:c,units:i}};var k,P,C,R=I,A=(P=function(e,t){return(P=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}P(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});function I(e){var t=C.call(this)||this;e=new y(e.read(2),16);return t.forbiddenZeroBit=e.read(1),t.nalType=e.read(6),t.nhLayerId=e.read(6),t.nhTimeId=e.read(3),t}(x=k=k||{})[x.VVC_TRAIL_NUT=0]="VVC_TRAIL_NUT",x[x.VVC_STSA_NUT=1]="VVC_STSA_NUT",x[x.VVC_RADL_NUT=2]="VVC_RADL_NUT",x[x.VVC_RASL_NUT=3]="VVC_RASL_NUT",x[x.VVC_RSV_VCL_4=4]="VVC_RSV_VCL_4",x[x.VVC_RSV_VCL_5=5]="VVC_RSV_VCL_5",x[x.VVC_RSV_VCL_6=6]="VVC_RSV_VCL_6",x[x.VVC_IDR_W_RADL=7]="VVC_IDR_W_RADL",x[x.VVC_IDR_N_LP=8]="VVC_IDR_N_LP",x[x.VVC_CRA_NUT=9]="VVC_CRA_NUT",x[x.VVC_GDR_NUT=10]="VVC_GDR_NUT",x[x.VVC_RSV_IRAP_11=11]="VVC_RSV_IRAP_11",x[x.VVC_OPI_NUT=12]="VVC_OPI_NUT",x[x.VVC_DCI_NUT=13]="VVC_DCI_NUT",x[x.VVC_VPS_NUT=14]="VVC_VPS_NUT",x[x.VVC_SPS_NUT=15]="VVC_SPS_NUT",x[x.VVC_PPS_NUT=16]="VVC_PPS_NUT",x[x.VVC_PREFIX_APS_NUT=17]="VVC_PREFIX_APS_NUT",x[x.VVC_SUFFIX_APS_NUT=18]="VVC_SUFFIX_APS_NUT",x[x.VVC_PH_NUT=19]="VVC_PH_NUT",x[x.VVC_AUD_NUT=20]="VVC_AUD_NUT",x[x.VVC_EOS_NUT=21]="VVC_EOS_NUT",x[x.VVC_EOB_NUT=22]="VVC_EOB_NUT",x[x.VVC_PREFIX_SEI_NUT=23]="VVC_PREFIX_SEI_NUT",x[x.VVC_SUFFIX_SEI_NUT=24]="VVC_SUFFIX_SEI_NUT",x[x.VVC_FD_NUT=25]="VVC_FD_NUT",x[x.VVC_RSV_NVCL_26=26]="VVC_RSV_NVCL_26",x[x.VVC_RSV_NVCL_27=27]="VVC_RSV_NVCL_27",x[x.VVC_UNSPEC_28=28]="VVC_UNSPEC_28",x[x.VVC_UNSPEC_29=29]="VVC_UNSPEC_29",x[x.VVC_UNSPEC_30=30]="VVC_UNSPEC_30",x[x.VVC_UNSPEC_31=31]="VVC_UNSPEC_31",A(N,O=b),N.parseNaluHeader=function(e){return{nuh_layer_id:63&e[0],nal_unit_type:e[1]>>3&31,nuh_temporal_id_plus1:7&e[1]}},N.extractNALType=function(e){return this.parseNaluHeader(e).nal_unit_type},N.isNonRefNALType=function(e){switch(e){case k.VVC_IDR_W_RADL:case k.VVC_IDR_N_LP:return!0;default:return!1}},N.isNonRef=function(e){return this.isNonRefNALType(this.extractNALType(e))},N.isSlice=function(e){return e=this.extractNALType(e),e<=k.VVC_RASL_NUT||e>=k.VVC_IDR_W_RADL&&e<=k.VVC_GDR_NUT},N.littleEndian=function(){var e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),256===new Int16Array(e)[0]},N.parseHVCVideoData=function(e,t){for(var r=e.byteLength,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i=[],o=0,a=0+t,s=this.littleEndian,c=!1;o<r;){if(r<=o+4){console.warn("parseHVCVideoData Malformed Nalu near timestamp "+a+", offset = "+o+", dataSize = "+r);break}var l=n.getUint32(o,!s);if(r-4<l)return void console.warn("parseHVCVideoData Malformed Nalus near timestamp "+a+", NaluSize > DataSize!");var u=n.getUint8(o+4)>>1&63,p=(16<=u&&u<=23&&(c=!0),0+o+4);u={type:u,data:e.subarray(p,p+l)};i.push(u),o+=4+l}return{keyframe:c,units:i}};var O,L=N,D=(x=r(307),r.n(x));function N(e){var t=O.call(this)||this;e=e.readToUint8(2),e={nuh_layer_id:63&e[0],nal_unit_type:e[1]>>3&31,nuh_temporal_id_plus1:7&e[1]};return t.forbiddenZeroBit=0,t.nalType=e.nal_unit_type,t.nhLayerId=e.nuh_layer_id,t.nhTimeId=e.nuh_temporal_id_plus1,t}function M(e,t){var r=!1;return Object.keys(t).forEach((function(n){D()(e[n],t[n])||(e[n]=t[n],r=!0)})),r}function U(e){return e<10?"0"+e:e}A=r(775);var j,B=r.n(A),F="undefined"!=typeof performance&&"function"==typeof performance.now;function H(){return(F?performance:Date).now()}(x=j=j||{})[x.TRACE=-1]="TRACE",x[x.DEBUG=0]="DEBUG",x[x.LOG=1]="LOG",x[x.INFO=2]="INFO",x[x.WARN=10]="WARN",x[x.ERROR=11]="ERROR",x[x.NONE=1e3]="NONE";var V,$,q,W,z,X=j.INFO,G=j.ERROR,K=2e3,Y=H(),Q=[],J=0,Z=(fe.prototype._print=function(e,t){var r,n,i,o,a,s,c,l;X<=e&&(r=H()-Y,i="[".concat(j[e],"][").concat(this.name,"][").concat((n=r,void 0===(i=!0)&&(i=!0),l=Math.floor(n/1e3),i=void 0!==i&&i,((o=l)===1/0?o:(s=Math.floor(o/60),s-=60*(a=Math.floor(s/60)),o=Math.floor(o-60*(60*a+s)),c=[],(i||0<a)&&c.push(U(a)),c.push(U(s)),c.push(U(o)),c.join(":")))+"."+Math.floor(1e3*(n-1e3*l))),"]"),Q.push({id:J++,level:e,name:this.name,timestamp:r,args:t,prefix:i,message:""}),Q.length>K&&Q.shift(),G<=e)&&(a=(j[e]||"").toLowerCase(),s=console[a])&&s.apply(void 0,function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||((n=n||Array.prototype.slice.call(t,0,i))[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}([i],t,!1))},fe.prototype.getLogs=function(){return Q.map((function(e){return e.message=e.prefix+" "+e.args.map((function(e){return"string"==typeof e?e:B()(e)})).join(" "),e}))},fe.prototype.clear=function(){Q=[]},fe.prototype.setSize=function(e){K=e},fe.prototype.setLevel=function(e){X=e},fe.prototype.getLevel=function(){return X},fe.prototype.setPrintLevel=function(e){G=e},fe.prototype.reset=function(){X=j.INFO,G=j.ERROR,K=2e3,Y=H(),Q=[],J=0},fe.LogLevel=j,fe),ee=(new Z("common"),new Z("demuxer")),te=(he.prototype.loadWord=function(){var e=this.data,t=this.bytesAvailable,r=e.byteLength-t,n=new Uint8Array(4);t=Math.min(4,t);if(0===t)throw new Error("no bytes available");n.set(e.subarray(r,r+t)),this.word=new DataView(n.buffer).getUint32(0),this.bitsAvailable=8*t,this.bytesAvailable-=t},he.prototype.skipBits=function(e){var t;this.bitsAvailable>e||(e=(e-=this.bitsAvailable)-((t=e>>3)<<3),this.bytesAvailable-=t,this.loadWord()),this.word<<=e,this.bitsAvailable-=e},he.prototype.readBits=function(e){var t=Math.min(this.bitsAvailable,e),r=this.word>>>32-t;return 32<e&&ee.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,0<this.bitsAvailable?this.word<<=t:0<this.bytesAvailable&&this.loadWord(),0<(t=e-t)&&this.bitsAvailable?r<<t|this.readBits(t):r},he.prototype.skipLZ=function(){for(var e=0;e<this.bitsAvailable;++e)if(0!=(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()},he.prototype.skipUEG=function(){this.skipBits(1+this.skipLZ())},he.prototype.skipEG=function(){this.skipBits(1+this.skipLZ())},he.prototype.readUEG=function(){var e=this.skipLZ();return this.readBits(e+1)-1},he.prototype.readEG=function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)},he.prototype.readUByte=function(){return this.readBits(8)},he.prototype.readUShort=function(){return this.readBits(16)},he.prototype.readUInt=function(){return this.readBits(32)},he.prototype.skipScalingList=function(e){for(var t=8,r=8,n=0;n<e;n++)t=0===(r=0!==r?(t+this.readEG()+256)%256:r)?t:r},he),re=[100,110,122,244,44,83,86,118,128,138,144],ne=[[0,1],[1,1],[12,11],[10,11],[16,11],[40,33],[24,11],[20,11],[32,11],[80,33],[18,11],[15,11],[64,33],[160,99],[4,3],[3,2],[2,1]],ie=(de.generateCodec=function(e){return"avc1."+[e.generalProfileIdc,e.generalProfileCompatibility,e.generalLevelIdc].map((function(e){return(e=e.toString(16)).length<2?"0"+e:e})).join("")},de),oe=[1,2,2,1],ae=[1,2,1,1],se=[1,2,2,1],ce=[1,2,1,1],le=(pe.generateCodec=function(e){var t=["hvc1"],r=e.generalProfileSpace;t.push((0<r&&r<4?String.fromCharCode(64+r):"")+e.generalProfileIdc.toString()),t.push(e.generalProfileCompatibilityFlags.reverse().reduce((function(e,t){return e<<1|t}),0).toString(16)),t.push((e.generalTierFlag?"H":"L")+e.generalLevelIdc);for(var n=!1,i=[],o=5;0<=o;o--){var a=e.generalConstraintIndicatorFlags[o];(a||n)&&(i.unshift(a.toString(16)),n=!0)}return t.concat(i).join(".")},pe),ue=function(e){this.log2CtuSizeMinus5=0,this.ptlDpbHrdParamsPresentFlag=0,this.gdrEnabledFlag=0,this.refPicResamplingEnabledFlag=0,this.resChangeInClvsAllowedFlag=0,this.picWidthMaxInLumasamples=0,this.picHeightMaxInLumasamples=0,this.conformanceWindowFlag=0,this.profileTierPresentFlag=0,this.generalProfileIdc=0,this.generalTierFlag=0,this.generalLevelIdc=0,this.ptlFrameOnlyConstraintFlag=0,this.ptlMultiLayerEnabledFlag=0,this.subLayerProfilePresentFlags=[],this.ptlSubLayerLevelPresentFlags=[],this.subLayerLevelIdc=[],this.ptlNumSubProfiles=0,this.generalSubProfileIdc=[],this.gciPresentFlag=0,this.width=0,this.height=0,this.pixelRatio=[],this.codec="vvc1.1.L48.CA";var t,r,n,i=new te(e),o=0;if(this.spsId=i.readBits(4),this.vpsId=i.readBits(4),this.maxSubLayersMinus1=i.readBits(3),this.chromaFormatIdc=i.readBits(2),this.log2CtuSizeMinus5=i.readBits(2),this.ptlDpbHrdParamsPresentFlag=i.readBits(1),o+=16,this.ptlDpbHrdParamsPresentFlag){if(this.profileTierPresentFlag=1,this.profileTierPresentFlag&&(this.generalProfileIdc=i.readBits(7),this.generalTierFlag=i.readBits(1),o+=8),this.generalLevelIdc=i.readBits(8),o+=8,this.ptlFrameOnlyConstraintFlag=i.readBits(1),this.ptlMultiLayerEnabledFlag=i.readBits(1),o+=2,this.profileTierPresentFlag&&(this.gciPresentFlag=i.readBits(1),o+=1,this.gciPresentFlag)){i.skipBits(1),i.skipBits(1),i.skipBits(1),o+=3,i.skipBits(4),i.skipBits(2),o+=6,i.skipBits(1),i.skipBits(1),i.skipBits(1),i.skipBits(1),i.skipBits(1),i.skipBits(1),i.skipBits(1),i.skipBits(1),i.skipBits(1),i.skipBits(1),o+=10,i.skipBits(1),i.skipBits(1),i.skipBits(1),i.skipBits(1),i.skipBits(1),i.skipBits(1),o+=6,i.skipBits(2),i.skipBits(1),i.skipBits(1),i.skipBits(1),o+=5,i.skipBits(1),i.skipBits(1),i.skipBits(1),i.skipBits(1),i.skipBits(1),i.skipBits(1),o+=6,i.skipBits(1),i.skipBits(1),i.skipBits(1),i.skipBits(1),i.skipBits(1),i.skipBits(1),i.skipBits(1),i.skipBits(1),i.skipBits(1),i.skipBits(1),i.skipBits(1),i.skipBits(1),i.skipBits(1),i.skipBits(1),i.skipBits(1),i.skipBits(1),o+=16,i.skipBits(1),i.skipBits(1),i.skipBits(1),i.skipBits(1),i.skipBits(1),i.skipBits(1),i.skipBits(1),i.skipBits(1),i.skipBits(1),i.skipBits(1),i.skipBits(1),i.skipBits(1),i.skipBits(1),o+=13,i.skipBits(1),i.skipBits(1),i.skipBits(1),i.skipBits(1),i.skipBits(1),i.skipBits(1),o+=6;var a=i.readBits(8),s=(o+=8,0),c=(5<a&&(i.skipBits(1),i.skipBits(1),i.skipBits(1),i.skipBits(1),i.skipBits(1),i.skipBits(1),o+=6,s=6),0);for(c=0;c<a-s;c++)i.skipBits(1),o+=1}e=8-o%8;for(i.skipBits(e),o+=e,c=this.maxSubLayersMinus1-1;0<=c;c--)this.ptlSubLayerLevelPresentFlags[c]=i.readBits(1),o+=1;for(i.skipBits(e=8-o%8),o+=e,c=this.maxSubLayersMinus1-1;0<=c;c--)this.ptlSubLayerLevelPresentFlags[c]&&(this.subLayerLevelIdc[c]=i.readBits(8),o+=8);if(this.profileTierPresentFlag)for(this.ptlNumSubProfiles=i.readBits(8),c=0;c<this.ptlNumSubProfiles;c++)this.generalSubProfileIdc[c]=i.readBits(32),o+=32}this.gdrEnabledFlag=i.readBits(1),this.refPicResamplingEnabledFlag=i.readBits(1),o+=2,this.refPicResamplingEnabledFlag&&(this.resChangeInClvsAllowedFlag=i.readBits(1),o+=1),this.picWidthMaxInLumasamples=i.readUEG(),this.picHeightMaxInLumasamples=i.readUEG(),o+=16,this.conformanceWindowFlag=i.readBits(1),o+=1,this.width=this.picWidthMaxInLumasamples,this.height=this.picHeightMaxInLumasamples,this.conformanceWindowFlag&&(e=se[this.chromaFormatIdc],n=ce[this.chromaFormatIdc],t=i.readUEG()*e,e=i.readUEG()*e,r=i.readUEG()*n,n=i.readUEG()*n,this.width-=t+e,this.height-=r+n)};function pe(e){var t=this;this.generalProfileSpace=0,this.generalTierFlag=0,this.generalProfileIdc=0,this.generalProfileCompatibilityFlags=[],this.generalConstraintIndicatorFlags=[],this.subLayerProfilePresentFlags=[],this.subLayerLevelPresentFlags=[],this.separateColourPlaneFlag=0,this.pixelRatio=[],this.codec="",this.checkProfileIdc=function(e){return t.generalProfileIdc===e||t.generalProfileCompatibilityFlags[e]};var r,n,i,o,a=new te(e);for(this.vpsId=a.readBits(4),this.maxSubLayersMinus1=a.readBits(3),this.temporalIdNestingFlag=a.readBits(1),this.generalProfileSpace=a.readBits(2),this.generalTierFlag=a.readBits(1),this.generalProfileIdc=a.readBits(5),r=0;r<32;r++)this.generalProfileCompatibilityFlags[r]=a.readBits(1),0===this.generalProfileIdc&&0<r&&this.generalProfileCompatibilityFlags[r]&&(this.generalProfileIdc=r);for(r=0;r<6;r++)this.generalConstraintIndicatorFlags.push(a.readUByte());for(this.generalLevelIdc=a.readUByte(),r=0;r<this.maxSubLayersMinus1;r++)this.subLayerProfilePresentFlags[r]=a.readBits(1),this.subLayerLevelPresentFlags[r]=a.readBits(1);for(0<this.maxSubLayersMinus1&&a.skipBits(2*(8-this.maxSubLayersMinus1)),r=0;r<this.maxSubLayersMinus1;r++)this.subLayerProfilePresentFlags[r]&&a.skipBits(48),this.subLayerLevelPresentFlags[r]&&a.readUByte();this.spsId=a.readUEG(),this.codec=pe.generateCodec(this),this.chromaFormatIdc=a.readUEG(),3===this.chromaFormatIdc&&(this.separateColourPlaneFlag=a.readBits(1)),this.separateColourPlaneFlag&&(this.chromaFormatIdc=0),this.width=a.readUEG(),this.height=a.readUEG(),a.readBits(1)&&(e=oe[this.chromaFormatIdc],o=ae[this.chromaFormatIdc],n=a.readUEG()*e,e=a.readUEG()*e,i=a.readUEG()*o,o=a.readUEG()*o,this.width-=n+e,this.height-=i+o)}function de(e){this.generalProfileSpace=0,this.generalTierFlag=0,this.generalProfileIdc=0,this.generalProfileCompatibility=0,this.crop=0,this.cropLeft=0,this.cropRight=0,this.cropTop=0,this.cropBottom=0,this.pixelRatio=[],this.codec="";var t,r,n=new te(e);if(this.generalProfileIdc=n.readUByte(),this.generalProfileCompatibility=n.readUByte(),this.generalLevelIdc=n.readUByte(),this.spsId=n.readUEG(),this.codec=de.generateCodec(this),-1<re.indexOf(this.generalProfileIdc)){if(this.chromaFormatIdc=n.readUEG(),3===this.chromaFormatIdc&&n.skipBits(1),n.skipUEG(),n.skipUEG(),n.skipBits(1),n.readBits(1))for(t=0,r=3!==this.chromaFormatIdc?8:12;t<r;t++)n.readBits(1)&&(t<6?n.skipScalingList(16):n.skipScalingList(64))}else this.chromaFormatIdc=1;if(n.skipUEG(),e=n.readUEG(),0===e)n.skipUEG();else if(1===e)for(n.skipBits(1),n.skipEG(),n.skipEG(),t=0,r=n.readUEG();t<r;t++)n.skipEG();n.skipUEG(),n.skipBits(1);e=n.readUEG()+1;var i,o=n.readUEG()+1,a=n.readBits(1);a||n.skipBits(1),this.height=o*(2-a),n.skipBits(1),this.crop=n.readBits(1),this.crop&&(i=1<<(1===this.chromaFormatIdc||2===this.chromaFormatIdc?1:0),a=2-a<<(1===this.chromaFormatIdc?1:0),this.cropLeft=n.readUEG()*i,this.cropRight=n.readUEG()*i,this.cropTop=n.readUEG()*a,this.cropBottom=n.readUEG()*a),this.width=16*e-(this.cropRight+this.cropLeft),this.height=16*o-(this.cropTop+this.cropBottom),n.readBits(1)&&n.readBits(1)&&(255===(i=n.readUByte())?(this.pixelRatio[0]=n.readUByte()<<8|n.readUByte(),this.pixelRatio[1]=n.readUByte()<<8|n.readUByte()):i<ne.length&&(this.pixelRatio=ne[i]))}function he(e){this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}function fe(e){var t=this;this.trace=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return t._print(j.TRACE,e)},this.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return t._print(j.DEBUG,e)},this.log=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return t._print(j.LOG,e)},this.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return t._print(j.INFO,e)},this.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return t._print(j.WARN,e)},this.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return t._print(j.ERROR,e)},this.name=e}function ye(e,t){var r=e.offset;this.start=t,this.size=e.read(4),this.type=String.fromCharCode(e.read(1),e.read(1),e.read(1),e.read(1)).trim(),1===this.size&&(this.size=e.read(8)),this.length=e.offset-r}(A=V=V||{})[A.NONE=-16]="NONE",A[A.DEFAULT=0]="DEFAULT",A[A.NONREF=8]="NONREF",A[A.BIDIR=16]="BIDIR",A[A.NONINTRA=24]="NONINTRA",A[A.NONKEY=32]="NONKEY",A[A.ALL=48]="ALL",(x=$=$||{})[x.ABORTED=1]="ABORTED",x[x.NETWORK=2]="NETWORK",x[x.DECODE=3]="DECODE",x[x.SRC_NOT_SUPPORTED=4]="SRC_NOT_SUPPORTED",x[x.PARSER=1001]="PARSER",x[x.WEBGL_NOT_SUPPORTED=10005]="WEBGL_NOT_SUPPORTED",x[x.COROUTINE=20001]="COROUTINE",x[x.BUFFERING=20003]="BUFFERING",x[x.RENDERER=20005]="RENDERER",(A=q=q||{}).VIDE="vide",A.SOUN="soun",(x=W=W||{})[x.FLV=0]="FLV",x[x.MP4=1]="MP4",x[x.HLS=2]="HLS",x[x.MPEGTS=3]="MPEGTS",x[x.UNKNOWN=4]="UNKNOWN",(A=z=z||{})[A.UNKNOWN=0]="UNKNOWN",A[A.VIDEO=1]="VIDEO",A[A.AUDIO=2]="AUDIO",(x={})[q.VIDE]=z.VIDEO,x[q.SOUN]=z.AUDIO;var ge,ve=x,_e=(x=((A=ge=ge||{})[A.DEGRADATION_PRIORITY_MASK=65535]="DEGRADATION_PRIORITY_MASK",A[A.IS_NON_SYNC=65536]="IS_NON_SYNC",A[A.PADDING_MASK=917504]="PADDING_MASK",A[A.REDUNDANCY_MASK=3145728]="REDUNDANCY_MASK",A[A.DEPENDED_MASK=12582912]="DEPENDED_MASK",A[A.DEPENDS_MASK=50331648]="DEPENDS_MASK",A[A.DEPENDS_NO=33554432]="DEPENDS_NO",A[A.DEPENDS_YES=16777216]="DEPENDS_YES",Le=function(e,t){return(Le=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}Le(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),function(){return(_e=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)}),me=new Date("1904-01-01T00:00:00Z").getTime(),be=(je.prototype.append=function(e){this.children.push(e)},je.mapBoxToJSON=function(e){return _e({box:e},e.children.reduce((function(e,t){var r=t.header.type,n=e[r];t=je.mapBoxToJSON(t);return n?Array.isArray(n)?n.push(t):e[r]=[n,t]:e[r]=t,e}),{}))},je),Se=(x(Ue,Oe=be),Ue),Te=(Ie=function(e,t){return(Ie=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)},Me);if("function"!=typeof(xr=Ae=be)&&null!==xr)throw new TypeError("Class extends value "+String(xr)+" is not a constructor or null");function we(){this.constructor=Te}Ie(Te,xr),Te.prototype=null===xr?Object.create(xr):(we.prototype=xr.prototype,new we);var Ee=Me;function xe(e){for(var t=e.byteLength,r=[],n=1;n<t-2;)0===e[n]&&0===e[n+1]&&3===e[n+2]?r.push(n+=2):n++;if(0===r.length)return e;var i=t-r.length,o=new Uint8Array(i),a=0;for(n=0;n<i;a++,n++)a===r[0]&&(a++,r.shift()),o[n]=e[a];return o}Re=function(e,t){return(Re=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)};var ke=Ne;if("function"!=typeof(xr=Ce=be)&&null!==xr)throw new TypeError("Class extends value "+String(xr)+" is not a constructor or null");function Pe(){this.constructor=ke}Re(ke,xr),ke.prototype=null===xr?Object.create(xr):(Pe.prototype=xr.prototype,new Pe);var Ce,Re,Ae,Ie,Oe,Le,De=Ne;function Ne(e,t){var r,n=Ce.call(this,e,t)||this;n.nalus=[],n.vps=[],n.sps=[],n.pps=[],n.sei=[],n.configVersion=t.read(1),r=new y(t.read(1),8),n.generalProfileSpace=r.read(2),n.generalTierFlag=r.read(1),n.generalProfileIdc=r.read(5),r=new y(t.read(4),32),n.generalProfileCompatibilityFlags=Array.from(new Array(32)).map((function(){return r.read(1)})),n.generalConstraintIndicatorFlags=Array.from(new Array(6)).map((function(){return t.read(1)})),n.generalLevelIdc=t.read(1),n.minSpatialSegmentationIdc=4095&t.read(2),n.parallelismType=3&t.read(1),n.chromaFormatIdc=3&t.read(1),n.bitDepthLumaMinus8=7&t.read(1),n.bitDepthChromaMinus8=7&t.read(1),n.avgFrameRate=t.read(2),r=new y(t.read(1),8),n.constantFrameRate=r.read(2),n.numTemporalLayers=r.read(3),n.temporalIdNested=r.read(1),n.lengthSizeMinusOne=r.read(2),n.nalus=[];for(var i=t.read(1),o=0;o<i;o++){var a=[],s=(r=new y(t.read(1),8)).read(1);r.read(1);for(var c=r.read(6),l=t.read(2),u=0;u<l;u++)a.push(new Uint8Array(t.read(2)).map((function(){return t.read(1)})));n.nalus.push({completeness:s,type:c,data:a}),c===T.VPS?a.forEach((function(e){return n.vps.push(e)})):c===T.SPS?a.forEach((function(e){return n.sps.push(e)})):c===T.PPS?a.forEach((function(e){return n.pps.push(e)})):c===T.SEI&&a.forEach((function(e){return n.sei.push(e)}))}return n.codec=le.generateCodec(n),n}function Me(e,t){var r=Ae.call(this,e,t)||this;r.sps=[],r.pps=[],r.configVersion=t.read(1),r.generalProfileIdc=t.read(1),r.generalProfileCompatibility=t.read(1),r.generalLevelIdc=t.read(1),r.lengthSizeMinusOne=3&t.read(1),r.numOfSequenceParameterSets=31&t.read(1);var n,i=0,o=[];for(i=0;i<r.numOfSequenceParameterSets;i++){for(n=t.read(2),o=[];n--;)o.push(t.read(1));r.sps.push(new Uint8Array(o))}for(r.numOfPictureParameterSets=31&t.read(1),i=0;i<r.numOfPictureParameterSets;i++){for(n=t.read(2),o=[];n--;)o.push(t.read(1));r.pps.push(new Uint8Array(o))}return r.codec=ie.generateCodec(r),r}function Ue(e,t){return e=Oe.call(this,e,t)||this,e.version=t.read(1),e.flag=t.read(3),e}function je(e,t){this.children=[],this.isContainer=!1,this.toStandardTime=function(e){return e&&me+1e3*e},this.header=e}function Be(){var e=this;this._eventMap={},this.listeners=function(t){return e._eventMap[t]||[]},this.emit=function(t,r){return t=e._eventMap[t],!!Array.isArray(t)&&(t.forEach((function(e){return e(r)})),!0)},this.off=function(t,r){var n=e._eventMap[t];return Array.isArray(n)&&(e._eventMap[t]=n.filter((function(e){return e!==r}))),e},this.removeAllListeners=function(t){return void 0===t?e._eventMap={}:e._eventMap[t]&&(e._eventMap[t]=[]),e},this.on=function(t,r){return e._eventMap[t]?e._eventMap[t].push(r):e._eventMap[t]=[r],e},this.once=function(t,r){var n=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];e.off(t,n),r.apply(e,i)};return e.on(t,n),e},this.proxy=function(t,r){r.forEach((function(r){e.on(r,(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];e.unshift(r),t.emit.apply(t,e)}))}))},this.proxyOnce=function(t,r){r.forEach((function(r){e.once(r,(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];e.unshift(r),t.emit.apply(t,e)}))}))}}He=function(e,t){return(He=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)};A=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}He(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};var Fe,He,Ve,$e,qe,We=((x=Fe=Fe||{})[x.IDLE=0]="IDLE",x[x.LOADING=1]="LOADING",x[x.SUSPENGING=2]="SUSPENGING",x[x.ERROR=3]="ERROR",$e=Error,A(Ke,$e),Ke),ze=(A(Ge,Ve=Be),Object.defineProperty(Ge.prototype,"eof",{get:function(){return this.offset===this.total},enumerable:!1,configurable:!0}),Ge.prototype._changeStatus=function(e){this.status!==e&&(ee.log("loader status changed: ".concat(Fe[this.status]," -> ").concat(Fe[e])),this.status=e)},Ge.prototype.jump=function(e){this.offset=e},Ge.prototype.load=function(e,t,r){return this.reset(),this.url=e,this.loadRange(t,r)},Ge.prototype.resume=function(){return this.loadRange(this.offset)},Ge.prototype.suspend=function(){var e=this.status;this._abort(),e===Fe.LOADING&&(this._changeStatus(Fe.SUSPENGING),this.emit("suspend",void 0))},Ge.prototype.abort=function(){var e=this.status;this._abort(),e!==Fe.SUSPENGING&&e!==Fe.LOADING||this.emit("abort",void 0)},Ge.prototype.reset=function(){this.abort(),this.offset=0,this.total=1/0,this.url=""},Ge.prototype.destroy=function(){this.removeAllListeners(),this.reset()},Ge),Xe={isIos:!1,isDingtalk:!1,isQQBrowser:!1};x=(window.navigator.userAgent||"").toLowerCase();function Ge(e){void 0===e&&(e={});var t=Ve.call(this)||this;return t.timeout=15e3,t.total=1/0,t.offset=0,t.status=Fe.IDLE,t.url="",t._handleError=function(e){"AbortError"!==e.name&&(t._changeStatus(Fe.ERROR),t.emit("error",{code:$.NETWORK,message:e.message,origin:e}))},t.timeout=e.timeout||t.timeout,t}function Ke(e){return $e.call(this,e)||this}/(iPhone\sOS)\s([\d_]+)/i.test(x)&&(Xe.isIos=!0),-1<x.indexOf("dingtalk")?Xe.isDingtalk=!0:-1<x.indexOf("qqbrowser")&&(Xe.isQQBrowser=!0),ct=function(e,t){return(ct=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)};var Ye=ht;if("function"!=typeof(xr=st=ze)&&null!==xr)throw new TypeError("Class extends value "+String(xr)+" is not a constructor or null");function Qe(){this.constructor=Ye}ct(Ye,xr),Ye.prototype=null===xr?Object.create(xr):(Qe.prototype=xr.prototype,new Qe),ht.isSupported=function(){return Xe.isIos&&(Xe.isDingtalk||Xe.isQQBrowser)?(console.log("ios","isDingtalk",Xe.isDingtalk,"isQQBrowser",Xe.isQQBrowser),!1):"undefined"!=typeof AbortController&&"undefined"!=typeof ReadableStream},ht.prototype.loadRange=function(e,t){var r=this;if(void 0===e&&(e=0),void 0===t&&(t=1/0),!this.url||e>=this.total)return i.resolve(!1);if(this.status===Fe.LOADING||this.status===Fe.ERROR)return i.resolve(!1);ee.info("执行load, ".concat(this.total," from=").concat(e," to=").concat(t," url=").concat(this.url)),this.abort();var n=new Headers,o=0<e||t<1/0;return o&&(t=Math.min(this.total-1,t),n.set("Range","bytes=".concat(e,"-").concat(t===1/0?"":t))),this._changeStatus(Fe.LOADING),this.controller=new AbortController,this.emit("loadstart",void 0),this.timer=setTimeout(this.triggerTimeout,this.timeout),fetch(this.url,{method:"GET",headers:n,signal:this.controller.signal}).then((function(t){if(clearTimeout(r.timer),200<=t.status&&t.status<300){var n,i;if(r.offset=e,o?(a=t.headers.get("Content-Range")||"",r.total=Number(a.split("/")[1])||r.total):r.total=Number(t.headers.get("Content-Length"))||r.total,t.body)return n=t.body.getReader(),(i=function(){return n.read().then((function(e){return e.done?(r.total===1/0&&(r.total=r.offset),r.controller=null,r._changeStatus(Fe.IDLE),r.emit("loadend",void 0),!0):(r.offset+=e.value.byteLength,r.emit("progress",{offset:r.offset-e.value.byteLength,data:e.value}),i())}))})();if(t.arrayBuffer)return t.arrayBuffer().then((function(e){return r.offset+=e.byteLength,r.emit("progress",{offset:r.offset-e.byteLength,data:new Uint8Array(e)}),r.controller=null,r._changeStatus(Fe.IDLE),r.emit("loadend",void 0),!0}))}var a=new We("媒体流数据不存在: ".concat(r.url));throw a.response=t,a})).catch((function(e){return clearTimeout(r.timer),r._handleError(e),!1}))},A=ht,at=function(e,t){return(at=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)};var Je=dt;if("function"!=typeof(xr=ot=ze)&&null!==xr)throw new TypeError("Class extends value "+String(xr)+" is not a constructor or null");function Ze(){this.constructor=Je}at(Je,xr),Je.prototype=null===xr?Object.create(xr):(Ze.prototype=xr.prototype,new Ze),dt.prototype._abort=function(){var e=this.xhr;e&&(e.onerror=null,e.onprogress=null,e.onloadend=null,e.onreadystatechange=null,e.abort(),this.xhr=null,this._resolve(!1)),this._changeStatus(Fe.IDLE)},dt.prototype.loadRange=function(e,t){var r=this;return void 0===e&&(e=0),void 0===t&&(t=1/0),!this.url||e>=this.total||this.status===Fe.LOADING||this.status===Fe.ERROR?i.resolve(!1):(this.abort(),new i((function(n,i){function o(e){var t,n=a.responseText,i=n.length,o=c,l=r.offset,u=i-o;0<u&&(r.offset+=u),!s&&e&&r.total===1/0&&(r.total=r.offset),0<u&&(c=i,r.emit("progress",{offset:l,data:(t=n.substring(o,i),new Uint8Array(t.length).map((function(e,r){return t.charCodeAt(r)})))}))}r.xhr=new XMLHttpRequest,r._resolve=n;var a=r.xhr,s=0<e||t<1/0,c=(a.open("GET",r.url),s&&a.setRequestHeader("Range","bytes=".concat(e,"-").concat(t===1/0?"":t)),a.onreadystatechange=function(){var e;a.readyState===a.HEADERS_RECEIVED&&200<=a.status&&a.status<300&&(s?(e=a.getResponseHeader("Content-Range")||"",r.total=Number(e.split("/")[1])||r.total):r.total=Number(a.getResponseHeader("Content-Length"))||r.total),a.readyState>=a.HEADERS_RECEIVED&&clearTimeout(r._timer)},r.offset=e,0);a.timeout=r.timeout,a.onprogress=function(){o(!1)},a.onloadend=function(){o(!0),r.xhr=null,r._changeStatus(Fe.IDLE),r.emit("loadend",void 0),n(!0)},a.onerror=function(e){r.xhr=null,e=new Error(e.constructor.name),r._handleError(e),i(e)},a.overrideMimeType("text/plain; charset=x-user-defined"),r._changeStatus(Fe.LOADING),r.emit("loadstart",void 0),r._timer=setTimeout(r.triggerTimeout,r.timeout),a.send()})))};x=dt;var et=A.isSupported()?A:x,tt=(it=function(e,t){return(it=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)},pt);if("function"!=typeof(xr=nt=Be)&&null!==xr)throw new TypeError("Class extends value "+String(xr)+" is not a constructor or null");function rt(){this.constructor=tt}it(tt,xr),tt.prototype=null===xr?Object.create(xr):(rt.prototype=xr.prototype,new rt),Object.defineProperty(pt.prototype,"loader",{get:function(){return this.customLoader||this.originLoader},enumerable:!1,configurable:!0}),Object.defineProperty(pt.prototype,"url",{get:function(){return this.loader.url},enumerable:!1,configurable:!0}),Object.defineProperty(pt.prototype,"status",{get:function(){return this.loader.status},enumerable:!1,configurable:!0}),pt.probe=function(e){throw new Error("parser should implements static probe")},pt.prototype.onProgress=function(e){},pt.prototype.onLoadEnd=function(){},pt.prototype.load=function(e){return this.reset(),this.loader.load(e)},pt.prototype.suspend=function(){return this.loader.suspend()},pt.prototype.resume=function(){return this.loader.resume()},pt.prototype.reset=function(){this.loader.reset(),this.metadata=null},pt.prototype.destroy=function(){this.reset(),this.loader.off("progress",this.onProgress),this.loader.off("loadend",this.onLoadEnd),this.originLoader.destroy(),this.removeAllListeners()};A=pt;var nt,it,ot,at,st,ct,lt=(ut.BUFFER_LENGTH=9,ut);function ut(e){this.signature=String.fromCharCode(e.read(1),e.read(1),e.read(1)),this.version=e.read(1);var t=e.read(1);this.size=e.read(4),e=new y(t,8);e.read(5),this.hasAudio=!!e.read(1),e.read(1),this.hasVideo=!!e.read(1)}function pt(e){var t=nt.call(this)||this;return t.skipFrame=V.DEFAULT,t.metadata=null,t.options=e,t.onProgress=t.onProgress.bind(t),t.onLoadEnd=t.onLoadEnd.bind(t),t.originLoader=new et(t.options),t.customLoader=e.loader,t.loader.on("progress",t.onProgress),t.loader.on("loadend",t.onLoadEnd),t.skipFrame=e.skipFrame||V.DEFAULT,t}function dt(){var e=null!==ot&&ot.apply(this,arguments)||this;return e.xhr=null,e._timer=-1,e._resolve=function(e){},e.triggerTimeout=function(){e._abort(),e._handleError(new Error("加载超时，请重试"))},e}function ht(){var e=null!==st&&st.apply(this,arguments)||this;return e.controller=null,e.timer=-1,e._abort=function(){clearTimeout(e.timer),e.controller&&!e.controller.signal.aborted&&(e.controller.abort(),e.controller=null),e._changeStatus(Fe.IDLE)},e.triggerTimeout=function(){e._abort(),e._handleError(new We("加载超时，请重试"))},e}(x=qe=qe||{})[x.AUDIO=8]="AUDIO",x[x.VIDEO=9]="VIDEO",x[x.SCRIPT=18]="SCRIPT",gt.BUFFER_LENGTH=11;var ft,yt=gt;function gt(e){this.type=e.read(1),this.size=e.read(3),this.dts=e.read(3),this.dts|=e.read(1)<<24,e.skip(3)}(x=ft=ft||{})[x.PCM=0]="PCM",x[x.ADPCM=1]="ADPCM",x[x.MP3=2]="MP3",x[x.PCM_LE=3]="PCM_LE",x[x.NELLYMOSER_16KHZ_MONO=4]="NELLYMOSER_16KHZ_MONO",x[x.NELLYMOSER_8KHZ_MONO=5]="NELLYMOSER_8KHZ_MONO",x[x.NELLYMOSER=6]="NELLYMOSER",x[x.PCM_ALAW=7]="PCM_ALAW",x[x.PCM_MULAW=8]="PCM_MULAW",x[x.AAC=10]="AAC",x[x.SPEEX=11]="SPEEX";var vt,_t,mt=[5512,11025,22050,44100],bt=[8,16];(x=vt=vt||{})[x.MONO=0]="MONO",x[x.STEREO=1]="STEREO",(x=_t=_t||{})[x.ADTS_HEADER=0]="ADTS_HEADER",x[x.RAW=1]="RAW",wt.readAudioSpecificConfig=function(e){e=new y(e.read(2),16);var t=e.read(5),r=e.read(4);e=e.read(4);return{audioObjectType:t,sampleRate:c[r],samplingFrequencyIndex:r,channelCount:e}};var St,Tt=wt;function wt(e){var t=new y(e.read(1),8);this.codecId=t.read(4),this.sampleRate=mt[t.read(2)],this.sampleSize=bt[t.read(1)],this.soundType=t.read(1),this.packetType=e.read(1),this.data=e.readToUint8()}function Et(e){var t=e.read(2);return Array.from(Array(t)).map((function(){var t=e.read(1);return 0<t?String.fromCharCode(t):""})).join("")}function xt(e){var t=Et(e);e=kt(e);return{key:t,value:e.value,objectEnd:e.objectEnd}}function kt(e){var t={value:null,objectEnd:!1},r=e.read(1);switch(r){case St.NUMBER:t.value=e.readFloat(8);break;case St.BOOLEAN:t.value=!!e.read(1);break;case St.LONG_STRING:case St.STRING:t.value=Et(e);break;case St.OBJECT_START:t.value=(e=>{for(var t={};0<e.unreadLength;){var r=xt(e);if(r.objectEnd)break;t[r.key]=r.value}return t})(e);break;case St.ECMA_ARRAY:t.value=(e=>{for(var t=e.read(4),r={};0<t--;){var n=xt(e);r[n.key]=n.value}return r})(e);break;case St.OBJECT_END:t.objectEnd=!0;break;case St.STRICT_ARRAY:t.value=(e=>{for(var t=e.read(4),r=[];0<t--;){var n=kt(e);r.push(n.value)}return r})(e);break;case St.DATE:t.value=new Date(e.readFloat(8)+60*e.readInt(2)+1e3);break;default:console.warn("unknown AMF value type",r)}return t}(x=St=St||{})[x.NUMBER=0]="NUMBER",x[x.BOOLEAN=1]="BOOLEAN",x[x.STRING=2]="STRING",x[x.OBJECT_START=3]="OBJECT_START",x[x.NULL=5]="NULL",x[x.UNDEFINED=6]="UNDEFINED",x[x.REFERENCE=7]="REFERENCE",x[x.ECMA_ARRAY=8]="ECMA_ARRAY",x[x.OBJECT_END=9]="OBJECT_END",x[x.STRICT_ARRAY=10]="STRICT_ARRAY",x[x.DATE=11]="DATE",x[x.LONG_STRING=12]="LONG_STRING";var Pt,Ct,Rt,At,It,Ot=function(e){this.name=kt(e).value,this.value=kt(e).value};(x=Pt=Pt||{})[x.KEY=1]="KEY",x[x.INTER=2]="INTER",x[x.DISP_INTER=3]="DISP_INTER",x[x.GENERATED_KEY=4]="GENERATED_KEY",x[x.VIDEO_INFO_CMD=5]="VIDEO_INFO_CMD",(x=Ct=Ct||{})[x.STARTSEEK=0]="STARTSEEK",x[x.ENDSEEK=1]="ENDSEEK",(x=Rt=Rt||{})[x.JPEG=1]="JPEG",x[x.H263=2]="H263",x[x.SCREEN=3]="SCREEN",x[x.VP6=4]="VP6",x[x.VP6A=5]="VP6A",x[x.SCREEN2=6]="SCREEN2",x[x.H264=7]="H264",x[x.REALH263=8]="REALH263",x[x.MPEG4=9]="MPEG4",x[x.H265=12]="H265",x[x.H266=14]="H266",(x=At=At||{})[x.AVC_SEQUENCE_HEADER=0]="AVC_SEQUENCE_HEADER",x[x.AVC_NALU=1]="AVC_NALU",x[x.AVC_END=2]="AVC_END",x[x.COCED_FRAMES_X=3]="COCED_FRAMES_X",x[x.METADATA=4]="METADATA",x[x.MPEG2_TS_SEQUENCE_START=5]="MPEG2_TS_SEQUENCE_START",x[x.MULTI_TRACK=6]="MULTI_TRACK",(x=It=It||{})[x.OneTrackOneCodec=0]="OneTrackOneCodec",x[x.ManyTracksOneCodec=1]="ManyTracksOneCodec",x[x.ManyTracksManyCodecs=2]="ManyTracksManyCodecs",Mt.prototype.bin2str=function(e){return String.fromCharCode.apply(null,e)},Mt.prototype.convertCodecNameToVideoCodecID=function(e){return/hvc1/.test(e)||/1cvh/.test(e)?Rt.H265:/vvc1/.test(e)||/1cvv/.test(e)||/vvi1/.test(e)?Rt.H266:void 0};var Lt,Dt=Mt,Nt={isFirefox:!1,isOpera:!1,isTrident:!1,isEdge:!1,isChrome:!1,isSafari:!1,isMQQBrowser:!1,isMobile:!1,isIos:!1,isDingtalk:!1};x=void 0!==window.navigator;function Mt(e){this.videoCommand=Ct.STARTSEEK,this.codecId=Rt.H265,this.packetType=At.AVC_NALU,this.cts=0,this.videoFourCC="";var t,r,n=new y(e.read(1),8);this.isExVideoHeader=n.read(1),this.type=n.read(3),this.videoFrameType=this.type,0===this.isExVideoHeader&&(this.codecId=n.read(4),this.packetType=e.read(1),this.type===Pt.VIDEO_INFO_CMD)&&(this.videoCommand=e.read(1)),1===this.isExVideoHeader&&((n=n.read(4))!=At.METADATA&&this.videoFrameType===Pt.VIDEO_INFO_CMD?this.videoCommand=e.read(1):n==At.MULTI_TRACK?(r=(t=new y(e.read(1),8)).read(4),n=t.read(4),r==It.ManyTracksManyCodecs&&(String.fromCharCode(e.read(1)),this.videoFourCC=this.bin2str(e.readToUint8(4)))):this.videoFourCC=this.bin2str(e.readToUint8(4)),this.packetType=n),this.codecId=this.convertCodecNameToVideoCodecID(this.videoFourCC)||this.codecId,this.cts=e.read(3)+4286578688^4286578688,this.data=e.readToUint8()}-1<(xr=x?window.navigator.userAgent:"").indexOf("MQQBrowser")?Nt.isMQQBrowser=!0:-1<xr.indexOf("Firefox")?Nt.isFirefox=!0:-1<xr.indexOf("Opera")||-1<xr.indexOf("OPR")?Nt.isOpera=!0:-1<xr.indexOf("Trident")?Nt.isTrident=!0:-1<xr.indexOf("Edge")?Nt.isEdge=!0:-1<xr.indexOf("Chrome")?(Nt.isChrome=!0,(xr.toLowerCase().match(/chrome\/([\d.]+)/)||[])[1]):-1<xr.indexOf("Safari")||-1<xr.indexOf("iPhone")||-1<xr.indexOf("iPad")||-1<xr.indexOf("iPod")?Nt.isSafari=!0:-1<xr.toLowerCase().indexOf("dingtalk")&&(Nt.isDingtalk=!0),/(iPhone\sOS)\s([\d_]+)/i.test(xr)&&(Nt.isIos=!0),x&&("maxTouchPoints"in(xr=window.navigator)?Nt.isMobile=0<xr.maxTouchPoints:"msMaxTouchPoints"in xr?Nt.isMobile=0<xr.msMaxTouchPoints:(x=null==(x=window.matchMedia)?void 0:x.call(window,"(pointer:coarse)"))&&"(pointer:coarse)"===x.media?Nt.isMobile=!!x.matches:"orientation"in window?Nt.isMobile=!0:(x=xr.userAgent,Nt.isMobile=/\b(BlackBerry|webOS|iPhone|IEMobile)\b/i.test(x)||/\b(Android|Windows Phone|iPad|iPod)\b/i.test(x))),wr=function(e,t){return(wr=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)};var Ut=Lr,jt=Tr=Se;if("function"!=typeof jt&&null!==jt)throw new TypeError("Class extends value "+String(jt)+" is not a constructor or null");function Bt(){this.constructor=Ut}wr(Ut,jt),Ut.prototype=null===jt?Object.create(jt):(Bt.prototype=jt.prototype,new Bt);var Ft=Lr,Ht=(Sr=function(e,t){return(Sr=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)},Or);if("function"!=typeof(jt=br=A)&&null!==jt)throw new TypeError("Class extends value "+String(jt)+" is not a constructor or null");function Vt(){this.constructor=Ht}Sr(Ht,jt),Ht.prototype=null===jt?Object.create(jt):(Vt.prototype=jt.prototype,new Vt),Or.probe=function(e){return!(e.byteLength<9)&&"FLV"===new lt(new s(e.buffer,e.byteOffset,e.byteLength)).signature},Or.prototype.parse=function(e,t){var r=[];if(e.byteLength){this.unhandleBuffer&&(e=s.concat(this.unhandleBuffer,e),t-=this.unhandleBuffer.byteLength,this.unhandleBuffer=null);var n=new s(e);for(!this.header&&n.unreadLength>=lt.BUFFER_LENGTH&&(this.header=new lt(n),!1===this.header.hasVideo&&(this.header.hasVideo=!0),n.skip(this.header.size-lt.BUFFER_LENGTH));n.unreadLength>4+yt.BUFFER_LENGTH;){n.skip(4);var i=new yt(n);if(!(n.unreadLength>=i.size)){n.back(4+yt.BUFFER_LENGTH);break}var o=new s(n.buffer,n.offset,i.size);switch(n.skip(i.size),i.type){case qe.VIDEO:r=r.concat(this.parseVideoBody(i,o,n.offset+t));break;case qe.AUDIO:r=r.concat(this.parseAudioBody(i,o,n.offset+t));break;case qe.SCRIPT:this.parseScriptBody(i,o);break;default:return ee.warn("unknown tag type",i.type),r}}this.unhandleBuffer=n.unreadLength?n.readToBuffer():null}return r},Or.prototype.checkMetadata=function(){var e=this.flvMetadata,t=this.header;if(console.log("checkMetadata flvMetadata:",e,"header:",t,", this.metadata:",this.metadata),t&&!this.metadata){var r=[];if(t.hasVideo){if(!this.videoTrackMeta||!this.videoLoaded)return void console.log("checkMetadata hasVideo no this.videoTrackMeta",this.videoTrackMeta,", this.videoLoaded",this.videoLoaded);this.videoTrackMeta.baseDTS=this.baseVideoDTS,this.videoTrackMeta.basePTS=this.baseVideoPTS,this.videoTrackMeta.fps=null==e?void 0:e.framerate,r.push(this.videoTrackMeta)}if(t.hasAudio){if(!this.audioTrackMeta||!this.audioLoaded)return void console.log("checkMetadata hasAudio no this.audioTrackMeta",this.audioTrackMeta,", this.audioLoaded",this.audioLoaded);this.audioTrackMeta.baseDTS=this.baseAudioDTS,this.audioTrackMeta.basePTS=this.baseAudioPTS,r.push(this.audioTrackMeta)}t=this.options;var n=t.live;this.metadata={formatType:W.FLV,live:!!n,progressive:!n&&!!t.progressive,url:this.loader.url,basePTS:Math.min.apply(Math,r.map((function(e){return e.basePTS||0}))),baseDTS:Math.min.apply(Math,r.map((function(e){return e.baseDTS||0}))),timescale:1e3,duration:1e3*((null==e?void 0:e.duration)||1/0),tracks:r},console.log("checkMetadata loadedmetadata",this.metadata),this.emit("loadedmetadata",this.metadata)}},Or.prototype.parseVideoBody=function(e,t,r){var n=this,i=(t=new Dt(t),this.emit("loadedtag",{header:e,body:t}),[]),o=t.type===Pt.KEY,a=!1;if(t.data.length)if(t.packetType===At.AVC_SEQUENCE_HEADER){var c,l,u=this.flvMetadata||{},p={type:z.VIDEO,id:2,baseDTS:0,basePTS:0,timescale:1e3,vps:[],sps:[],pps:[],sei:[],width:u.width||0,height:u.height||0,codec:"",pixelRatio:[],live:(null==(u=this.metadata)?void 0:u.live)||!1};t.codecId===Rt.H264?(c=new ye(new s(new ArrayBuffer(8)),0),l=new s(t.data.buffer,t.data.byteOffset,t.data.byteLength),u=new Ee(c,l),p.pps=u.pps,p.sps=u.sps,p.codec=u.codec,(u=u.sps[0])&&(m=new ie(u.subarray(1)),p.width=m.width,p.height=m.height)):t.codecId===Rt.H265?(b.extractAnnexbNAL(t.data).forEach((function(e){var t=new s(e.buffer,e.byteOffset,e.length),r=new R(t);r.nalType<T.ACCESS_UNIT_DELIMITER&&(r.nalType===T.SPS?(t=new le(xe(t.readToUint8())),p.sps.push(e),p.codec=t.codec,console.log("thisvideoTrackMeta sps.codec=",t.codec),p.width=t.width,p.height=t.height):r.nalType===T.VPS?p.vps.push(e):r.nalType===T.PPS&&p.pps.push(e))})),""===p.codec&&(c=new ye(new s(new ArrayBuffer(8)),0),l=new s(t.data.buffer,t.data.byteOffset,t.data.byteLength),u=new De(c,l),p.vps=u.vps,p.pps=u.pps,p.sps=u.sps,p.sei=u.sei,p.codec=u.codec,u.sps&&0<u.sps.length&&(m=new le(xe(u.sps[0])),p.width=m.width,p.height=m.height),this.isHVCC=!0)):t.codecId===Rt.H266&&(b.extractAnnexbNAL(t.data).forEach((function(e){var t=new s(e.buffer,e.byteOffset,e.length),r=new L(t);r.nalType<k.VVC_UNSPEC_31&&(r.nalType===k.VVC_SPS_NUT?(t=new ue(xe(t.readToUint8())),p.width=t.width,p.height=t.height,p.codec=t.codec,p.sps.push(e)):r.nalType===k.VVC_VPS_NUT?p.vps.push(e):r.nalType===k.VVC_PPS_NUT&&p.pps.push(e))})),""===p.codec)&&(c=new ye(new s(new ArrayBuffer(8)),0),l=new s(t.data.buffer,t.data.byteOffset,t.data.byteLength),u=new Ft(c,l),p.vps=u.vps,p.pps=u.pps,p.sps=u.sps,p.sei=u.sei,p.codec=u.codec,this.isHVCC=!0),this.videoTrackMeta=p,this.checkMetadata()}else{var d=[];if(t.codecId===Rt.H266){var h={type:z.VIDEO,id:2,baseDTS:0,basePTS:0,timescale:1e3,vps:[],sps:[],pps:[],sei:[],width:(null==(m=this.flvMetadata)?void 0:m.width)||0,height:(null==(c=this.flvMetadata)?void 0:c.height)||0,codec:"",pixelRatio:[],live:(null==(l=this.metadata)?void 0:l.live)||!1},f=[],y=[],g=[],v=[],_=(u=[],u=4<t.data.length&&0===t.data[0]&&0===t.data[1]&&0===t.data[2]&&1===t.data[3]?b.extractAnnexbNAL(t.data):b.extractAVCCNAL(t.data,3),[]),m=(u.forEach((function(e){var t=new s(e.buffer,e.byteOffset,e.length),r=new L(t);7<=r.nalType&&r.nalType<=10&&(o=!0,n.videoTrackMeta&&0<n.videoTrackMeta.sps.length&&_.push(L.createAnnexbStartCode(),n.videoTrackMeta.sps[0]),n.videoTrackMeta&&0<n.videoTrackMeta.pps.length&&_.push(L.createAnnexbStartCode(),n.videoTrackMeta.pps[0]),n.videoTrackMeta&&0<n.videoTrackMeta.vps.length&&_.push(L.createAnnexbStartCode(),n.videoTrackMeta.vps[0]),n.videoTrackMeta)&&0<n.videoTrackMeta.sei.length&&_.push(L.createAnnexbStartCode(),n.videoTrackMeta.sei[0]),_.push(L.createAnnexbStartCode(),e),r.nalType<k.VVC_UNSPEC_31&&(r.nalType===k.VVC_SPS_NUT?(t=new ue(xe(t.readToUint8())),h.width=t.width,h.height=t.height,h.codec=t.codec,f.push(e)):r.nalType===k.VVC_VPS_NUT?y.push(e):r.nalType===k.VVC_PPS_NUT?g.push(e):r.nalType===k.VVC_PREFIX_SEI_NUT&&v.push(e)),a=L.isNonRefNALType(r.nalType)})),s.concatUint8s(_));d.push(m),y.length&&(h.vps=y),f.length&&(h.sps=f),g.length&&(h.pps=g),v.length&&(h.sei=v),f.length&&(this.videoTrackMeta?(this.videoTrackMeta.vps=[],this.videoTrackMeta.sps=[],this.videoTrackMeta.pps=[],y.forEach((function(e){var t;return null==(t=n.videoTrackMeta)?void 0:t.vps.push(e)})),f.forEach((function(e){var t;return null==(t=n.videoTrackMeta)?void 0:t.sps.push(e)})),g.forEach((function(e){var t;return null==(t=n.videoTrackMeta)?void 0:t.pps.push(e)})),v.forEach((function(e){var t;return null==(t=n.videoTrackMeta)?void 0:t.sei.push(e)}))):this.videoTrackMeta=h)}else if(t.codecId!==Rt.H265||this.isHVCC){var S=b.extractAVCCNAL(t.data,3),w={type:z.VIDEO,id:2,baseDTS:0,basePTS:0,timescale:1e3,vps:[],sps:[],pps:[],sei:[],width:(null==(c=this.flvMetadata)?void 0:c.width)||0,height:(null==(l=this.flvMetadata)?void 0:l.height)||0,codec:"",pixelRatio:[],live:(null==(u=this.metadata)?void 0:u.live)||!1},E=[],x=[],P=[],C=[];S.forEach((function(e){var t=new s(e.buffer,e.byteOffset,e.length),r=new R(t);16<=r.nalType&&r.nalType<=23&&(o=!0),r.nalType<T.ACCESS_UNIT_DELIMITER&&(r.nalType===T.SPS?(t=new le(xe(t.readToUint8())),E.push(e),w.codec=t.codec,w.width=t.width,w.height=t.height):r.nalType===T.VPS?x.push(e):r.nalType===T.PPS?P.push(e):r.nalType===T.SEI?C.push(e):Nt.isSafari&&r.nalType!==T.TRAIL_R&&r.nalType!==T.TRAIL_N&&r.nalType!==T.IDR_W_RADL&&r.nalType!==T.IDR_N_LP&&r.nalType!==T.CRA?console.warn("skip this nalu nalType:",r.nalType):d.push(e),a=R.isNonRefNALType(r.nalType))})),x.length&&(w.vps=x),E.length&&(w.sps=E),P.length&&(w.pps=P),C.length&&(w.sei=C),0<E.length&&(this.videoTrackMeta?(this.videoTrackMeta.vps=[],this.videoTrackMeta.sps=[],this.videoTrackMeta.pps=[],this.videoTrackMeta.sei=[],x.forEach((function(e){var t;return null==(t=n.videoTrackMeta)?void 0:t.vps.push(e)})),E.forEach((function(e){var t;return null==(t=n.videoTrackMeta)?void 0:t.sps.push(e)})),P.forEach((function(e){var t;return null==(t=n.videoTrackMeta)?void 0:t.pps.push(e)})),C.forEach((function(e){var t;return null==(t=n.videoTrackMeta)?void 0:t.sei.push(e)}))):this.videoTrackMeta=w)}else{if(this.skipFrame===V.NONREF&&R.isNonRefNALType(R.extractNALType(t.data,4)))return console.warn("skipFrame isNonRefNALType"),[];var A={type:z.VIDEO,id:2,baseDTS:0,basePTS:0,timescale:1e3,vps:[],sps:[],pps:[],sei:[],width:(null==(m=this.flvMetadata)?void 0:m.width)||0,height:(null==(c=this.flvMetadata)?void 0:c.height)||0,codec:"",pixelRatio:[],live:(null==(l=this.metadata)?void 0:l.live)||!1},I=[],O=[],D=[],N=[];(S=b.extractAnnexbNAL(t.data)).forEach((function(e){var t=new s(e.buffer,e.byteOffset,e.length),r=new R(t);16<=r.nalType&&r.nalType<=23&&(o=!0),r.nalType<T.ACCESS_UNIT_DELIMITER&&(r.nalType===T.SPS?(t=new le(xe(t.readToUint8())),I.push(e),A.codec=t.codec,A.width=t.width,A.height=t.height):r.nalType===T.VPS?O.push(e):r.nalType===T.PPS?D.push(e):r.nalType===T.SEI&&N.push(e)),a=R.isNonRefNALType(r.nalType),d.push(e)})),O.length&&(A.vps=O),I.length&&(A.sps=I),D.length&&(A.pps=D),N.length&&(A.sei=N),I.length&&(this.videoTrackMeta?(this.videoTrackMeta.vps=[],this.videoTrackMeta.sps=[],this.videoTrackMeta.pps=[],O.forEach((function(e){var t;return null==(t=n.videoTrackMeta)?void 0:t.vps.push(e)})),I.forEach((function(e){var t;return null==(t=n.videoTrackMeta)?void 0:t.sps.push(e)})),D.forEach((function(e){var t;return null==(t=n.videoTrackMeta)?void 0:t.pps.push(e)})),N.forEach((function(e){var t;return null==(t=n.videoTrackMeta)?void 0:t.sei.push(e)}))):this.videoTrackMeta=A)}if(!this.videoLoaded&&this.videoTrackMeta){if(!o)return[];this.videoLoaded=!0,this.baseVideoDTS=e.dts,this.baseVideoPTS=t.cts+e.dts,this.checkMetadata()}this.videoTrackMeta&&t.codecId==Rt.H265&&o&&(this.videoTrackMeta.pps.forEach((function(e){return d.unshift(e)})),this.videoTrackMeta.sps.forEach((function(e){return d.unshift(e)})),this.videoTrackMeta.vps.forEach((function(e){return d.unshift(e)})),this.videoTrackMeta.sei.forEach((function(e){return d.unshift(e)}))),d.length&&(m={trackId:2,codec:(null==(u=this.videoTrackMeta)?void 0:u.codec)||"",trackType:z.VIDEO,isSync:o||t.type===Pt.KEY,isNonRef:a,data:d,dts:e.dts,pts:e.dts+t.cts,offset:r,size:d.reduce((function(e,t){return e+t.byteLength}),0)},i.push(m))}else ee.warn("[videox] flv parse empty data",e,t);return i},Or.prototype.parseAudioBody=function(e,t,r){t=new Tt(t);var n,i=(this.emit("loadedtag",{header:e,body:t}),[]);return t.packetType===_t.ADTS_HEADER?(n=new s(t.data.buffer,t.data.byteOffset,t.data.byteLength),n=Tt.readAudioSpecificConfig(n),this.audioTrackMeta={id:1,baseDTS:0,basePTS:0,type:z.AUDIO,codec:"mp4a.40."+n.audioObjectType,timescale:1e3,audioObjectType:n.audioObjectType,sampleRate:n.sampleRate,samplingFrequencyIndex:n.samplingFrequencyIndex,sampleSize:t.sampleSize,channelCount:n.channelCount},this.checkMetadata()):(this.audioLoaded||(this.audioLoaded=!0,this.baseAudioDTS=e.dts,this.baseAudioPTS=e.dts,this.checkMetadata()),i.push({codec:(null==(n=this.audioTrackMeta)?void 0:n.codec)||"",trackId:1,trackType:z.AUDIO,isSync:!0,isNonRef:!1,data:[t.data],dts:e.dts,pts:e.dts,offset:r,size:t.data.byteLength})),i},Or.prototype.parseScriptBody=function(e,t){t=new Ot(t),this.emit("loadedtag",{header:e,body:t}),e=t.value,e&&"onMetaData"===t.name&&(this.flvMetadata=e,ee.info("flv script tag loaded, flv metadata:",this.flvMetadata))},Or.prototype.onProgress=function(e){var t=e.data;t.byteLength&&(t=this.parse(t.buffer,e.offset)).length&&(e=void 0,this.cachePackets.length?(e=this.cachePackets.concat(t),this.cachePackets=[]):e=t,this.metadata&&this.loader.status!==Fe.SUSPENGING?this.emit("loadeddata",{packets:e}):this.cachePackets=e)},Or.prototype.onLoadEnd=function(){this.loader.eof&&this.emit("end",void 0)},Or.prototype.seek=function(){},Or.prototype.reset=function(){br.prototype.reset.call(this),this.cachePackets=[],this.videoLoaded=!1,this.audioLoaded=!1,this.baseVideoDTS=0,this.baseVideoPTS=0,this.baseAudioDTS=0,this.baseAudioPTS=0,this.header=null,this.unhandleBuffer=null,this.flvMetadata=null,this.videoTrackMeta=null,this.audioTrackMeta=null};var $t=Or,qt=(mr=function(e,t){return(mr=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)},Ir);if("function"!=typeof(jt=_r=be)&&null!==jt)throw new TypeError("Class extends value "+String(jt)+" is not a constructor or null");function Wt(){this.constructor=qt}mr(qt,jt),qt.prototype=null===jt?Object.create(jt):(Wt.prototype=jt.prototype,new Wt);var zt=Ir,Xt=(vr=function(e,t){return(vr=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)},Ar);if("function"!=typeof(jt=gr=zt)&&null!==jt)throw new TypeError("Class extends value "+String(jt)+" is not a constructor or null");function Gt(){this.constructor=Xt}vr(Xt,jt),Xt.prototype=null===jt?Object.create(jt):(Gt.prototype=jt.prototype,new Gt);var Kt=Ar,Yt=(yr=function(e,t){return(yr=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)},Rr);if("function"!=typeof(jt=fr=Kt)&&null!==jt)throw new TypeError("Class extends value "+String(jt)+" is not a constructor or null");function Qt(){this.constructor=Yt}yr(Yt,jt),Yt.prototype=null===jt?Object.create(jt):(Qt.prototype=jt.prototype,new Qt);var Jt=Rr,Zt=(hr=function(e,t){return(hr=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)},Cr);if("function"!=typeof(jt=dr=be)&&null!==jt)throw new TypeError("Class extends value "+String(jt)+" is not a constructor or null");function er(){this.constructor=Zt}hr(Zt,jt),Zt.prototype=null===jt?Object.create(jt):(er.prototype=jt.prototype,new er);var tr=Cr,rr=(pr=function(e,t){return(pr=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)},Pr);if("function"!=typeof(jt=ur=zt)&&null!==jt)throw new TypeError("Class extends value "+String(jt)+" is not a constructor or null");function nr(){this.constructor=rr}pr(rr,jt),rr.prototype=null===jt?Object.create(jt):(nr.prototype=jt.prototype,new nr);var ir=Pr,or=(lr=function(e,t){return(lr=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)},kr);if("function"!=typeof(jt=cr=be)&&null!==jt)throw new TypeError("Class extends value "+String(jt)+" is not a constructor or null");function ar(){this.constructor=or}lr(or,jt),or.prototype=null===jt?Object.create(jt):(ar.prototype=jt.prototype,new ar);var sr,cr,lr,ur,pr,dr,hr,fr,yr,gr,vr,_r,mr,br,Sr,Tr,wr,Er=kr,xr=(sr=function(e,t){return(sr=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}sr(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});function kr(e,t){var r=cr.call(this,e,t)||this;r.entries=[],r.version=t.read(1),r.flag=t.read(3),r.entryCount=t.read(4);for(var n=0;n<r.entryCount;n++){var i=1===r.version;r.entries.push({segmentDuration:t.read(i?8:4),mediaTime:t.read(i?8:4),mediaRateInteger:t.read(2),mediaRateFraction:t.read(2)})}return r}function Pr(e,t){return e=ur.call(this,e,t)||this,e.version=t.read(1),e.flag=t.read(3),e.entryCount=t.read(4),e}function Cr(e,t){return e=dr.call(this,e,t)||this,e.bufferSizeDB=t.read(4),e.maxBitrate=t.read(4),e.avgBitrate=t.read(4),e}function Rr(){return null!==fr&&fr.apply(this,arguments)||this}function Ar(e,t){e=gr.call(this,e,t)||this;var r=(t.skip(4),t.skip(2),e.bitReferenceId=t.read(2),e.codeStreamVersion=t.read(4),t.skip(4),t.skip(8),e.width=t.read(2),e.heigth=t.read(2),e.horizontalResolution=t.read(4),e.verticalResolution=t.read(4),t.skip(4),e.frameCount=t.read(2),Math.min(t.read(1),32));return e.compressorName=Array.from(new Array(r)).map((function(){return String.fromCharCode(t.read(1))})).join(""),t.skip(32-(r+1)),e.depth=t.read(2),t.skip(2),e}function Ir(){var e=null!==_r&&_r.apply(this,arguments)||this;return e.isContainer=!0,e}function Or(){var e=null!==br&&br.apply(this,arguments)||this;return e.header=null,e.flvMetadata=null,e.videoTrackMeta=null,e.audioTrackMeta=null,e.unhandleBuffer=null,e.cachePackets=[],e.videoLoaded=!1,e.baseVideoPTS=0,e.baseVideoDTS=0,e.audioLoaded=!1,e.baseAudioPTS=0,e.baseAudioDTS=0,e.isHVCC=!1,e.formatType=W.FLV,e}function Lr(e,t){var r=Tr.call(this,e,t)||this,n=(e=(r.generalTierFlag=0,r.numBytesConstraintInfo=0,r.generalProfileIdc=0,r.generalLevelIdc=0,r.chromaFormatIdc=0,r.bitDepthLumaMinus8=0,r.bitDepthChromaMinus8=0,r.avgFrameRate=0,r.constantFrameRate=0,r.lengthSizeMinusOne=0,r.olsIdx=0,r.ptlFrameOnlyConstraintFlag=0,r.ptlMultilayerEnabledFlag=0,r.maxPictureWidth=0,r.maxPictureHeight=0,r.nalus=[],r.vps=[],r.sps=[],r.pps=[],r.sei=[],r.codec="",r.codecTag="vvc1",(l=new y(t.read(1),8)).skip(5),l.read(2)),l.read(1));if(r.lengthSizeMinusOne=e,n){e=(l=new y(t.read(3),24)).read(9);var i=l.read(3),o=(n=l.read(2),l.read(2)),a=l.read(3),s=(e=(r.olsIdx=e,r.constantFrameRate=n,r.chromaFormatIdc=o,r.bitDepthLumaMinus8=a,l.skip(5),(l=new y(t.read(2),16)).skip(2),l.read(6)),n=l.read(7),o=l.read(1),a=(r.numBytesConstraintInfo=e,r.generalTierFlag=o,r.generalProfileIdc=n,t.read(1)),o=(r.generalLevelIdc=a,(l=new y(t.read(1),8)).read(1)),n=l.read(1),r.ptlFrameOnlyConstraintFlag=o,r.ptlMultilayerEnabledFlag=n,0),c=(0<e?l.skip(8*e-2):l.read(6),0);if(1<i){var l=new y(t.read(1),8),u=0;for(c=i-2;0<=c;--c)u|=l.read(1)<<c;for(c=i;c<=8&&1<i;++c)l.read(1);for(c=i-2;0<=c;--c)u&1<<c&&t.read(1);var p=t.read(1),d=[];if(p)for(s=0;s<p;s++)d.push(t.readInt(1))}a=t.read(2),o=t.read(2),r.maxPictureWidth=a,r.maxPictureHeight=o,n=t.read(2),r.avgFrameRate=n}var h=t.read(1),f=0,g=0;for(f=0;f<h;f++){(l=new y(t.read(1),8)).read(1),l.skip(2);var v=l.read(5),_=[],m=0;for(v!=k.VVC_DCI_NUT&&v!=k.VVC_OPI_NUT&&(m=t.read(2)),g=0;g<m;g++)_.push(new Uint8Array(t.read(2)).map((function(){return t.read(1)})));v===k.VVC_VPS_NUT?_.forEach((function(e){return r.vps.push(e)})):v===k.VVC_SPS_NUT?_.forEach((function(e){return r.sps.push(e)})):v===k.VVC_PPS_NUT&&_.forEach((function(e){return r.pps.push(e)}))}return r.configVersion=0,r.codec="vvc1.1.L48.CA",r}(x=Lt=Lt||{})[x.OD=1]="OD",x[x.IOD=2]="IOD",x[x.ESD=3]="ESD",x[x.DCD=4]="DCD",x[x.DSD=5]="DSD",x[x.SLCD=6]="SLCD",zi.readSize=function(e){for(var t,r=0,n=4;n--&&(r=r<<7|127&(t=e.read(1)),128&t););return r},zi.extractDescriptors=function(e){for(var t,r,n,i=[];e.unreadLength;){if(t=new zi(e),n=new s(e.buffer,e.offset,t.size),e.skip(t.size),t.size<=0)return i;switch(t.tag){case Lt.ESD:r=new Ur(t,n);break;case Lt.DCD:r=new jr(t,n);break;case Lt.DSD:r=new Br(t,n);break;case Lt.SLCD:r=new Fr(t,n);break;default:r=null}r&&n.unreadLength&&(r.children=zi.extractDescriptors(n)),i.push(r)}return i};var Dr,Nr=zi,Mr=(Wi.findDescriptor=function(e,t){var r;return e.some((function(e){return!!(r=e.probe.tag===t?e:Wi.findDescriptor(e.children,t))})),r},Wi),Ur=(xr(qi,mi=Mr),qi),jr=(xr($i,_i=Mr),$i),Br=(xr(Vi,vi=Mr),Vi),Fr=(xr(Hi,gi=Mr),Hi),Hr=(yi=function(e,t){return(yi=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)},(x=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}yi(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)})(Fi,fi=Se),Fi),Vr=(hi=function(e,t){return(hi=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)},(xr=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}hi(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)})(Bi,di=be),Bi),$r=(pi=function(e,t){return(pi=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)},(x=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}pi(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)})(ji,ui=Kt),ji),qr=(li=function(e,t){return(li=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)},(xr=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}li(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)})(Ui,ci=Kt),Ui),Wr=(si=function(e,t){return(si=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)},(x=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}si(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)})(Mi,ai=be),Mi),zr=(oi=function(e,t){return(oi=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)},(xr=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}oi(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)})(Ni,ii=be),Ni),Xr=(ni=function(e,t){return(ni=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)},(x=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}ni(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)})(Di,ri=be),Di),Gr=(ti=function(e,t){return(ti=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)},(xr=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}ti(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)})(Li,ei=zt),Li),Kr=(Zn=function(e,t){return(Zn=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)},(x=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}Zn(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)})(Oi,Jn=be),Oi),Yr=(Qn=function(e,t){return(Qn=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)},Ii);if("function"!=typeof(jt=Yn=be)&&null!==jt)throw new TypeError("Class extends value "+String(jt)+" is not a constructor or null");function Qr(){this.constructor=Yr}Qn(Yr,jt),Yr.prototype=null===jt?Object.create(jt):(Qr.prototype=jt.prototype,new Qr);var Jr=Ii,Zr=(Kn=function(e,t){return(Kn=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)},Ai);if("function"!=typeof(jt=Gn=be)&&null!==jt)throw new TypeError("Class extends value "+String(jt)+" is not a constructor or null");function en(){this.constructor=Zr}Kn(Zr,jt),Zr.prototype=null===jt?Object.create(jt):(en.prototype=jt.prototype,new en);var tn=Ai,rn=(Xn=function(e,t){return(Xn=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)},Ri);if("function"!=typeof(jt=zn=be)&&null!==jt)throw new TypeError("Class extends value "+String(jt)+" is not a constructor or null");function nn(){this.constructor=rn}Xn(rn,jt),rn.prototype=null===jt?Object.create(jt):(nn.prototype=jt.prototype,new nn);var on=Ri,an=(Wn=function(e,t){return(Wn=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)},Ci);if("function"!=typeof(jt=qn=be)&&null!==jt)throw new TypeError("Class extends value "+String(jt)+" is not a constructor or null");function sn(){this.constructor=an}Wn(an,jt),an.prototype=null===jt?Object.create(jt):(sn.prototype=jt.prototype,new sn);var cn=Ci,ln=($n=function(e,t){return($n=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)},Pi);if("function"!=typeof(jt=Vn=zt)&&null!==jt)throw new TypeError("Class extends value "+String(jt)+" is not a constructor or null");function un(){this.constructor=ln}$n(ln,jt),ln.prototype=null===jt?Object.create(jt):(un.prototype=jt.prototype,new un);var pn=Pi,dn=(Hn=function(e,t){return(Hn=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)},ki);if("function"!=typeof(jt=Fn=zt)&&null!==jt)throw new TypeError("Class extends value "+String(jt)+" is not a constructor or null");function hn(){this.constructor=dn}Hn(dn,jt),dn.prototype=null===jt?Object.create(jt):(hn.prototype=jt.prototype,new hn);var fn=ki,yn=(Bn=function(e,t){return(Bn=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)},xi);if("function"!=typeof(jt=jn=Se)&&null!==jt)throw new TypeError("Class extends value "+String(jt)+" is not a constructor or null");function gn(){this.constructor=yn}Bn(yn,jt),yn.prototype=null===jt?Object.create(jt):(gn.prototype=jt.prototype,new gn);var vn=xi,_n=(Un=function(e,t){return(Un=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)},Ei);if("function"!=typeof(jt=Mn=zt)&&null!==jt)throw new TypeError("Class extends value "+String(jt)+" is not a constructor or null");function mn(){this.constructor=_n}Un(_n,jt),_n.prototype=null===jt?Object.create(jt):(mn.prototype=jt.prototype,new mn);var bn=Ei,Sn=(Nn=function(e,t){return(Nn=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)},wi);if("function"!=typeof(jt=Dn=Se)&&null!==jt)throw new TypeError("Class extends value "+String(jt)+" is not a constructor or null");function Tn(){this.constructor=Sn}Nn(Sn,jt),Sn.prototype=null===jt?Object.create(jt):(Tn.prototype=jt.prototype,new Tn);var wn=wi,En=(Ln=function(e,t){return(Ln=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)},Ti);if("function"!=typeof(jt=On=Se)&&null!==jt)throw new TypeError("Class extends value "+String(jt)+" is not a constructor or null");function xn(){this.constructor=En}Ln(En,jt),En.prototype=null===jt?Object.create(jt):(xn.prototype=jt.prototype,new xn);var kn=Ti,Pn=(In=function(e,t){return(In=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)},Si);if("function"!=typeof(jt=An=Se)&&null!==jt)throw new TypeError("Class extends value "+String(jt)+" is not a constructor or null");function Cn(){this.constructor=Pn}In(Pn,jt),Pn.prototype=null===jt?Object.create(jt):(Cn.prototype=jt.prototype,new Cn);var Rn,An,In,On,Ln,Dn,Nn,Mn,Un,jn,Bn,Fn,Hn,Vn,$n,qn,Wn,zn,Xn,Gn,Kn,Yn,Qn,Jn,Zn,ei,ti,ri,ni,ii,oi,ai,si,ci,li,ui,pi,di,hi,fi,yi,gi,vi,_i,mi,bi=Si;Rn=function(e,t){return(Rn=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)},xr=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}Rn(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};function Si(e,t){return e=An.call(this,e,t)||this,1===e.version?e.baseMediaDecodeTime=t.read(8):e.baseMediaDecodeTime=t.read(4),e}function Ti(e,t){var r=On.call(this,e,t)||this;r.references=[],r.trackId=t.read(4),r.timescale=t.read(4),0===r.version?(r.pts=t.read(4),r.offset=t.read(4)):(r.pts=t.read(8),r.offset=t.read(8)),t.skip(2),r.references=[];for(var n=t.read(2),i=0;i<n;i++){var o=new y(t.read(4),32),a=t.read(4),s=new y(t.read(4),32);r.references.push({type:o.read(1),size:o.read(31),duration:a,startWithSap:s.read(1),sapType:s.read(3),sapDeltaTime:s.read(28)})}return r}function wi(e,t){var r=Dn.call(this,e,t)||this;r.isLeadings=[],r.sampleDependsOns=[],r.sampleIsDependedOns=[],r.sampleHasRedundancys=[];for(var n=0,i=void 0;n<t.unreadLength;n++)i=new y(t.read(1),8),r.isLeadings[n]=i.read(2),r.sampleDependsOns[n]=i.read(2),r.sampleIsDependedOns[n]=i.read(2),r.sampleHasRedundancys[n]=i.read(2);return r}function Ei(){return null!==Mn&&Mn.apply(this,arguments)||this}function xi(){return null!==jn&&jn.apply(this,arguments)||this}function ki(){return null!==Fn&&Fn.apply(this,arguments)||this}function Pi(){return null!==Vn&&Vn.apply(this,arguments)||this}function Ci(e,t){return e=qn.call(this,e,t)||this,e.version=t.read(1),e.flag=t.read(3),e.graphicsMode=t.read(2),e.opcolor=[t.read(2),t.read(2),t.read(2)],e}function Ri(e,t){return e=zn.call(this,e,t)||this,e.version=t.read(1),e.flag=t.read(3),e}function Ai(e,t){var r=Gn.call(this,e,t)||this;r.matrix=[],r.version=t.read(1),r.flag=t.read(3),r.createTime=r.toStandardTime(t.read(4)),r.modifyTime=r.toStandardTime(t.read(4)),r.trackId=t.read(4),t.skip(4),r.duration=t.read(4),t.skip(8),r.layer=t.read(2),r.alternateGroup=t.read(2),r.volume=Number(t.read(1)+"."+t.read(1)),t.skip(2);for(var n=0;n<9;n++)r.matrix.push(Number(t.read(2)+"."+t.read(2)));return r.width=Number(t.read(2)+"."+t.read(2)),r.height=Number(t.read(2)+"."+t.read(2)),r}function Ii(e,t){var r=Yn.call(this,e,t)||this;for(r.data=[];0<t.unreadLength;)r.data.push(t.read(1));return r}function Oi(e,t){var r=Jn.call(this,e,t)||this;r.matrix=[],r.version=t.read(1),r.flag=t.read(3),r.createTime=r.toStandardTime(t.read(4)),r.modifyTime=r.toStandardTime(t.read(4)),r.timeScale=t.read(4),r.duration=t.read(4),r.rate=Number(t.read(2)+"."+t.read(2)),r.volume=Number(t.read(1)+"."+t.read(1)),t.skip(10);for(var n=0;n<9;n++)r.matrix.push(Number(t.read(2)+"."+t.read(2)));return t.skip(24),r.nextTrackId=t.read(4),r}function Li(e,t){return e=ei.call(this,e,t)||this,t.skip(6),e.dataReferenceIndex=t.read(2),t.skip(8),e.channelCount=t.read(2),e.sampleSize=t.read(2),t.skip(4),e.sampleRate=t.read(4)>>>16,e}function Di(e,t){function r(e){return 96+(31&e)}e=ri.call(this,e,t)||this;var n=(e.version=t.read(1),e.flag=t.read(3),1===e.version);e.createTime=e.toStandardTime(t.read(n?8:4)),e.modifyTime=e.toStandardTime(t.read(n?8:4)),e.timeScale=t.read(4),e.duration=t.read(n?8:4),n=t.read(2);return e.language=String.fromCharCode(r(n>>10),r(n>>5),r(n)),e.quality=Number(t.read(1)+"."+t.read(1)),e}function Ni(e,t){var r=ii.call(this,e,t)||this;return r.data=t.readToUint8(e.size-e.length),r}function Mi(e,t){var r=ai.call(this,e,t)||this;for(r.name="",r.version=t.read(1),r.flag=t.read(3),r.preDefined=String.fromCharCode(t.read(1),t.read(1),t.read(1),t.read(1)),r.handleType=String.fromCharCode(t.read(1),t.read(1),t.read(1),t.read(1)),t.skip(12);0<t.unreadLength;)r.name+=String.fromCharCode(t.read(1));return r}function Ui(){return null!==ci&&ci.apply(this,arguments)||this}function ji(){return null!==ui&&ui.apply(this,arguments)||this}function Bi(e,t){var r=di.call(this,e,t)||this;for(r.compatibleBrands=[],r.majorBrand=String.fromCharCode(t.read(1),t.read(1),t.read(1),t.read(1)),r.minorVersion=t.read(4);4<=t.unreadLength;)r.compatibleBrands.push(String.fromCharCode(t.read(1),t.read(1),t.read(1),t.read(1)));return r}function Fi(e,t){e=fi.call(this,e,t)||this,e.descriptors=[],e.audioObjectType=0,e.samplingFrequencyIndex=0,e.descriptors=Nr.extractDescriptors(t),t=Mr.findDescriptor(e.descriptors,Lt.DCD);var r=Mr.findDescriptor(e.descriptors,Lt.DSD);return r&&(e.audioObjectType=r.audioObjectType,e.samplingFrequencyIndex=r.samplingFrequencyIndex),e.codec=t&&r?"mp4a."+t.mepg4Audio.toString(16)+"."+r.audioObjectType.toString(16):"mp4a",e}function Hi(e,t){return e=gi.call(this,e)||this,e.esId=t.read(2),e}function Vi(e,t){return e=vi.call(this,e)||this,t=new y(t.read(2),16),e.audioObjectType=t.read(5),e.samplingFrequencyIndex=t.read(4),e.channel=t.read(4),e.frameLengthFlag=t.read(1),e.dependsOnCoreCoder=t.read(1),e.extesionFlag=t.read(1),e}function $i(e,t){return e=_i.call(this,e)||this,e.mepg4Audio=t.read(1),e.audioStream=t.read(1),e.bufferSize=t.read(3),e.maxBitrate=t.read(4),e.avgBitrate=t.read(4),e}function qi(e,t){return e=mi.call(this,e)||this,e.streamDependenceFlag=0,e.URLFlag=0,e.OCRStreamFlag=0,e.esId=t.read(2),e.esFlag=t.read(1),128&e.esFlag&&(e.streamDependenceFlag=t.read(2)),64&e.esFlag&&(e.URLFlag=t.read(1),t.skip(e.URLFlag)),32&e.esFlag&&(e.OCRStreamFlag=t.read(2)),e}function Wi(e){this.children=[],this.probe=e}function zi(e){this.tag=e.read(1),this.size=zi.readSize(e)}(x=Dr=Dr||{})[x.BASE_DATA_OFFSET=1]="BASE_DATA_OFFSET",x[x.SAMPLE_DESC=2]="SAMPLE_DESC",x[x.SAMPLE_DUR=8]="SAMPLE_DUR",x[x.SAMPLE_SIZE=16]="SAMPLE_SIZE",x[x.SAMPLE_FLAG=32]="SAMPLE_FLAG",x[x.DUR_EMPTY=65536]="DUR_EMPTY",x[x.DEFAULT_BASE_IS_MOOF=131072]="DEFAULT_BASE_IS_MOOF",xr(no,eo=Se);var Xi,Gi=no,Ki=(Zi=function(e,t){return(Zi=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)},ro);if("function"!=typeof(jt=Ji=Se)&&null!==jt)throw new TypeError("Class extends value "+String(jt)+" is not a constructor or null");function Yi(){this.constructor=Ki}Zi(Ki,jt),Ki.prototype=null===jt?Object.create(jt):(Yi.prototype=jt.prototype,new Yi);var Qi,Ji,Zi,eo,to=ro;Qi=function(e,t){return(Qi=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)},x=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}Qi(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};function ro(e,t){return e=Ji.call(this,e,t)||this,e.trackId=t.read(4),e.defaultSampleDescriptionIndex=t.read(4),e.defaultSampleDuration=t.read(4),e.defaultSampleSize=t.read(4),e.defaultSampleFlag=t.read(4),e}function no(e,t){return e=eo.call(this,e,t)||this,e.baseDataOffset=0,e.defaultSampleDescriptionIndex=0,e.defaultSampleDuration=0,e.defaultSampleSize=0,e.defaultSampleFlag=0,e.trackId=t.read(4),e.flag&Dr.BASE_DATA_OFFSET&&(e.baseDataOffset=t.read(8)),e.flag&Dr.SAMPLE_DESC&&(e.defaultSampleDescriptionIndex=t.read(4)),e.flag&Dr.SAMPLE_DUR&&(e.defaultSampleDuration=t.read(4)),e.flag&Dr.SAMPLE_SIZE&&(e.defaultSampleSize=t.read(4)),e.flag&Dr.SAMPLE_FLAG&&(e.defaultSampleFlag=t.read(4)),e}(xr=Xi=Xi||{})[xr.DATA_OFFSET=1]="DATA_OFFSET",xr[xr.FIRST_FLAG=4]="FIRST_FLAG",xr[xr.DURATION=256]="DURATION",xr[xr.SIZE=512]="SIZE",xr[xr.FLAG=1024]="FLAG",xr[xr.CTS_OFFSET=2048]="CTS_OFFSET",x(_a,na=Se);var io,oo=_a,ao=(ra=function(e,t){return(ra=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)},va);if("function"!=typeof(jt=ta=be)&&null!==jt)throw new TypeError("Class extends value "+String(jt)+" is not a constructor or null");function so(){this.constructor=ao}ra(ao,jt),ao.prototype=null===jt?Object.create(jt):(so.prototype=jt.prototype,new so);var co=va,lo=(ea=function(e,t){return(ea=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)},ga);if("function"!=typeof(jt=Zo=be)&&null!==jt)throw new TypeError("Class extends value "+String(jt)+" is not a constructor or null");function uo(){this.constructor=lo}ea(lo,jt),lo.prototype=null===jt?Object.create(jt):(uo.prototype=jt.prototype,new uo);var po=ga,ho=(Jo=function(e,t){return(Jo=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)},ya);if("function"!=typeof(jt=Qo=be)&&null!==jt)throw new TypeError("Class extends value "+String(jt)+" is not a constructor or null");function fo(){this.constructor=ho}Jo(ho,jt),ho.prototype=null===jt?Object.create(jt):(fo.prototype=jt.prototype,new fo);var yo=ya,go=(Yo=function(e,t){return(Yo=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)},fa);if("function"!=typeof(jt=Ko=be)&&null!==jt)throw new TypeError("Class extends value "+String(jt)+" is not a constructor or null");function vo(){this.constructor=go}Yo(go,jt),go.prototype=null===jt?Object.create(jt):(vo.prototype=jt.prototype,new vo);var _o=fa,mo=(Go=function(e,t){return(Go=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)},ha);if("function"!=typeof(jt=Xo=zt)&&null!==jt)throw new TypeError("Class extends value "+String(jt)+" is not a constructor or null");function bo(){this.constructor=mo}Go(mo,jt),mo.prototype=null===jt?Object.create(jt):(bo.prototype=jt.prototype,new bo);var So=ha,To=(zo=function(e,t){return(zo=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)},da);if("function"!=typeof(jt=Wo=zt)&&null!==jt)throw new TypeError("Class extends value "+String(jt)+" is not a constructor or null");function wo(){this.constructor=To}zo(To,jt),To.prototype=null===jt?Object.create(jt):(wo.prototype=jt.prototype,new wo);var Eo=da,xo=(qo=function(e,t){return(qo=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)},pa);if("function"!=typeof(jt=$o=be)&&null!==jt)throw new TypeError("Class extends value "+String(jt)+" is not a constructor or null");function ko(){this.constructor=xo}qo(xo,jt),xo.prototype=null===jt?Object.create(jt):(ko.prototype=jt.prototype,new ko);var Po=pa;function Co(e){return Array.isArray(e)?e:e?[e]:[]}Vo=function(e,t){return(Vo=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)};var Ro=ua;if("function"!=typeof(jt=Ho=be)&&null!==jt)throw new TypeError("Class extends value "+String(jt)+" is not a constructor or null");function Ao(){this.constructor=Ro}Vo(Ro,jt),Ro.prototype=null===jt?Object.create(jt):(Ao.prototype=jt.prototype,new Ao);var Io=ua,Oo=(la.prototype.addTrack=function(e){this.tracks.push(e)},la.prototype.getTracks=function(){return this.tracks},la.prototype.getTrackById=function(e){return this.tracks.find((function(t){return t.options.id===e}))},la),Lo=function(){return(Lo=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Do=(ca.prototype.getSamples=function(){return this.samples},ca.prototype.getNextSampleOffset=function(){var e=this.samples[this.nextSampleIndex];return e?e.offset:0},ca.prototype.addSample=function(e){this.samples.push(e),this.duration+=e.duration},ca.prototype.processNextSample=function(e,t){void 0===t&&(t=0);var r=this.samples[this.nextSampleIndex];if(r)return this.processSample(e,t,r)},ca.prototype.processSample=function(e,t,r){var n=(t=void 0===t?0:t)+e.byteLength;t=r.offset-t;if(0<=t&&r.offset+r.size<=n)return this.nextSampleIndex++,Lo(Lo({},r),{data:e.subarray(t,t+r.size)})},ca.prototype.processSamples=function(e,t){void 0===t&&(t=0);for(var r=this.samples,n=[],i=this.nextSampleIndex,o=r.length;i<o;i++){var a=this.processSample(e,t,r[i]);if(!a)break;n.push(a)}return n},ca.prototype.seek=function(e){for(var t,r=e*this.options.timeScale,n=-1,i=-1,o=0,a=this.samples.length;o<a;o++)if((t=this.samples[o]).isSync&&(i=o),r<=t.dts+t.cts){n=i;break}if(-1<n)return this.nextSampleIndex=n,this.samples[n]},ca),No=(sa.prototype.createMedia=function(e){return this._parseMoovJSON(e)},sa.prototype._parseMoovJSON=function(e){var t=this,r=e.mvhd.box,n=new Oo({duration:r.duration,timeScale:r.timeScale,rate:r.rate,modifyTime:r.modifyTime,createTime:r.createTime});return e.trak&&[].concat(e.trak).forEach((function(r){var i=r.tkhd,o=(r=r.mdia,r.mdhd),a=r.minf.stbl,s=(i=i.box,r=r.hdlr.box,o=o.box,ve[r.handleType]),c=(a=t._buildSamples(a,s),{id:i.trackId,name:r.name,handleType:r.handleType,type:s,createTime:i.createTime,modifyTime:i.modifyTime,layer:i.layer,volume:i.volume,matrix:i.matrix,duration:i.duration,width:i.width,height:i.height,timeScale:o.timeScale,language:o.language,quality:o.quality,defaultSampleDescriptionIndex:1,defaultSampleDuration:0,defaultSampleSize:0,defaultSampleFlag:0}),l=(s=null==(r=e.mvex)?void 0:r.trex,s&&[].concat(s).forEach((function(e){e=e.box,c.defaultSampleDescriptionIndex=e.defaultSampleDescriptionIndex,c.defaultSampleDuration=e.defaultSampleDuration,c.defaultSampleSize=e.defaultSampleSize,c.defaultSampleFlag=e.defaultSampleFlag})),new Do(c));a.forEach((function(e){return l.addSample(e)})),n.addTrack(l)})),n},sa.prototype._buildSamples=function(e,t){var r,n,i,o,a,s,c,l,u,p,d,h,f,y,g,v,_,m=e.stts,b=e.stss,S=e.ctts,T=e.stsz||e.stz2;return T?(s=e.stco||e.co64,c=e.stsc.box,l=null==b?void 0:b.box,u=m.box,p=null==S?void 0:S.box,y=f=h=d=-1,g=0,v=[],(_=T.box.sampleSizes).forEach((function(e,m){var b={},S=c.entries;b.size=e,b.trackType=t,0===m?(n=1,r=0,b.chunkIndex=n,a=S[b.chunkRunIndex=r].samplePerChunk,o=0,i=r+1<S.length?S[r+1].firstChunk-1:1/0):m<a?(b.chunkIndex=n,b.chunkRunIndex=r):(n++,o=0,i<(b.chunkIndex=n)&&(i=1+ ++r<S.length?S[r+1].firstChunk-1:1/0),a+=S[b.chunkRunIndex=r].samplePerChunk),b.descriptionIndex=S[r].sampleDescriptionIndex-1,b.offset=s.box.chunkOffsets[b.chunkIndex-1]+o,o+=b.size,d<m&&(h++,d=Math.max(d,0),d+=u.sampleCounts[h]),0<m?((e=v[m-1]).duration=u.sampleDurations[h],b.dts=v[m-1].dts+e.duration):b.dts=0,p?(f<=m&&(y++,f=Math.max(f,0),f+=p.sampleCounts[y]),b.cts=p.sampleOffsets[y]):b.cts=0,l?m===l.sampleNumbers[g]-1?(b.isSync=!0,g++):b.isSync=!1:b.isSync=!0,b.isLast=m===_.length-1,v.push(b)})),v):[]},sa),Mo=(aa.prototype.init=function(e){this.options=e},aa.prototype.parse=function(e){var t=this;Co(e.traf).forEach((function(r){return t._buildSamples(r,e.box)}))},aa.prototype._buildSamples=function(e,t){var r=e.tfhd.box,n=this._getTrakById(r.trackId);if(n)for(var i=n.options,o=e.tfdt.box,a=r.flag,s=(a&Dr.SAMPLE_DESC?r:i).defaultSampleDescriptionIndex,c=(a&Dr.SAMPLE_DUR?r:i).defaultSampleDuration,l=(a&Dr.SAMPLE_SIZE?r:i).defaultSampleSize,u=(a&Dr.SAMPLE_FLAG?r:i).defaultSampleFlag,p=Co(e.trun),d=i.id,h=i.type,f=a&Dr.BASE_DATA_OFFSET?r.baseDataOffset:a&Dr.DEFAULT_BASE_IS_MOOF?t.header.start:0,y=0,g=0;g<p.length;g++)for(var v=p[g].box,_=v.flag,m=v.dataOffset+f,b=0;b<v.sampleCount;b++){var S={},T=(S.trackId=d,S.trackType=h,S.descriptionIndex=s,_&Xi.SIZE?S.size=v.sampleSizes[b]:S.size=l,_&Xi.DURATION?S.duration=v.sampleDurations[b]:S.duration=c,S.dts=0<y?y:o?o.baseMediaDecodeTime:0,y=S.dts+S.duration,_&Xi.CTS_OFFSET?S.cts=v.sampleCTSs[b]:S.cts=0,u);_&Xi.FLAG?T=v.sampleFlags[b]:0===b&&_&Xi.FIRST_FLAG&&(T=v.firstSampleFlag),S.offset=m,S.flag=T,S.isSync=!(T&(ge.IS_NON_SYNC|ge.DEPENDS_YES)),S.isLeading=T>>26&3,S.dependsOn=T>>24&3,S.isDependedOn=T>>22&3,S.hasRedundancy=T>>20&3,S.degradationPriority=65535&T,m+=S.size,S.isLast=g===p.length-1&&b===v.sampleCount-1,n.addSample(S)}},aa.prototype.destroy=function(){this.options=null},aa),Uo=(Fo=function(e,t){return(Fo=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)},oa);if("function"!=typeof(jt=Bo=A)&&null!==jt)throw new TypeError("Class extends value "+String(jt)+" is not a constructor or null");function jo(){this.constructor=Uo}Fo(Uo,jt),Uo.prototype=null===jt?Object.create(jt):(jo.prototype=jt.prototype,new jo),oa.probe=function(e){return!(e.byteLength<8)&&"ftyp"===[e[4],e[5],e[6],e[7]].map((function(e){return String.fromCharCode(e)})).join("")},oa.prototype.processPackets=function(e,t){var r,n=this,i=[];return this.media&&e.byteLength&&(this.media.getTracks().forEach((function(r){r.processSamples(e,t).forEach((function(e){e=n.convertSampleToPacket(e),e&&i.push(e)}))})),r=this.getMinNextSampleOffset()-t,this.unhandleBuffer=r>=e.byteLength?null:e.slice(r).buffer),i},oa.prototype.seek=function(e){var t,r=this.options.progressive;this.unhandleBuffer=null,r&&this.loader.suspend(),null!=(t=this.media)&&t.getTracks().map((function(t){return t.seek(e)})),r&&this.loader.loadRange(this.getMinNextSampleOffset())},oa.prototype.onProgress=function(e){var t=e.data;e=e.offset;t.length&&(this.unhandleBuffer&&(t=s.concatUint8(new Uint8Array(this.unhandleBuffer),t),e-=this.unhandleBuffer.byteLength,this.unhandleBuffer=null),this.metadata||this.parse(new s(t.buffer,0),e),this.metadata)&&(t=this.processPackets(t,e)).length&&this.emit("loadeddata",{packets:t})},oa.prototype.onLoadEnd=function(){this.loader.eof&&this.emit("end",void 0)},oa.prototype.getMinNextSampleOffset=function(){return this.media?Math.min.apply(Math,this.media.getTracks().map((function(e){return e.getNextSampleOffset()}))):0},oa.prototype.parse=function(e,t){var r,n=this;void 0===t&&(t=0);for(var i=e.offset,o=0,c=this;8<=e.unreadLength;){var l=(()=>{var l,u,p,d,h;return o=e.offset-i,0===(l=new ye(e,t+o)).size?(p=new Error("box [".concat(l.type,"] size 为 0")),ee.error(p),c.emit("error",{code:$.PARSER,message:p.message,origin:p}),"break"):c.options.progressive&&"mdat"===l.type&&!c.metadata?(u=l.start+l.size,c.loader.suspend(),c.unhandleBuffer=null,ee.info("检测到mdat box在moov box之后，跳转moov起始偏移位"),c.loader.loadRange(u).then((function(e){e&&(n.unhandleBuffer=null,n.loader.jump(l.start),n.loader.status!==Fe.SUSPENGING)&&n.loader.loadRange(l.start,u)})),{value:void 0}):(p=l.size-l.length)<=e.unreadLength?((h=a[l.type])?(d=new s(e.buffer,e.offset,p),(r=new h(l,d)).isContainer&&((h=new oa({sub:!0})).proxy(c,["loadedbox"]),h.parse(d,o+t+l.length),h.removeAllListeners(),h.boxes.forEach((function(e){r.append(e)})))):r=new be(l),e.skip(p),c.boxes.push(r),void c.emit("loadedbox",r)):(e.back(l.length),"break")})();if("object"==typeof l)return l.value;if("break"===l)break}e.unreadLength&&(this.unhandleBuffer=e.readToBuffer())},oa.prototype.reset=function(){Bo.prototype.reset.call(this),this.boxes=[],this.unhandleBuffer=null,this.avcCBox=void 0,this.hvcCBox=void 0,this.mp4aBox=void 0,this.media=null,this.moofParser.destroy()};var Bo,Fo,Ho,Vo,$o,qo,Wo,zo,Xo,Go,Ko,Yo,Qo,Jo,Zo,ea,ta,ra,na,ia=oa;function oa(e){var t=Bo.call(this,e=void 0===e?{}:e)||this;return t.media=null,t.unhandleBuffer=null,t.formatType=W.MP4,t.boxes=[],t._handleBoxLoad=function(e){var r,n,i,o,a,s,c,l,u,p,d,h,f,y,g=e.header.type;"vvcC"===g?t.vvcCBox=e:"vvc1"===g||"vvi1"===g?t.vvcCBox&&(t.vvcCBox.codecTag=g):"hvcC"===g?t.hvcCBox=e:"hvc1"===g||"hev1"===g?t.hvcCBox&&(t.hvcCBox.codecTag=g):"avcC"===g?t.avcCBox=e:"esds"===g?t.esdsBox=e:"mp4a"===g?t.mp4aBox=e:"moov"===g?(h=be.mapBoxToJSON(e),t.media=t.moovParser.createMedia(h),t.moofParser.init({media:t.media}),f=(h=t.mp4aBox||{}).sampleRate,n=void 0===f?0:f,i=void 0===(f=h.sampleSize)?0:f,o=void 0===(f=h.channelCount)?0:f,f=(h=t.esdsBox||{}).audioObjectType,a=void 0===f?0:f,s=void 0===(f=h.samplingFrequencyIndex)?0:f,c=void 0===(f=h.codec)?"":f,l=[],u=[],p=[],t.hvcCBox?(u=t.hvcCBox.vps,p=t.hvcCBox.pps,l=t.hvcCBox.sps):t.vvcCBox?(p=t.vvcCBox.pps,l=t.vvcCBox.sps,l=t.vvcCBox.sps):t.avcCBox&&(p=t.avcCBox.pps,l=t.avcCBox.sps),f=(h=t.options).live,y=(null==(r=t.avcCBox)?void 0:r.codec)||"",t.vvcCBox?(y=t.vvcCBox.codec,d=t.vvcCBox?t.vvcCBox.codecTag:void 0):t.hvcCBox&&(y=t.hvcCBox?t.hvcCBox.codec:(null==(r=t.avcCBox)?void 0:r.codec)||"",d=t.hvcCBox?t.hvcCBox.codecTag:void 0),t.metadata={formatType:W.MP4,live:!!f,progressive:!f&&!!h.progressive,url:t.loader.url,basePTS:0,baseDTS:0,duration:t.media.options.duration,timescale:t.media.options.timeScale,tracks:t.media.getTracks().map((function(e){var r,h,f,g={};switch(g.id=e.options.id,g.type=e.options.type,g.timescale=e.options.timeScale,g.baseDTS=0,g.basePTS=0,g.type){case z.VIDEO:g.width=e.options.width,g.height=e.options.height,g.vps=u,g.sps=l,g.pps=p,g.rotate=(r=e.options.matrix).length<5||(h=Math.hypot(r[0],r[3]),f=Math.hypot(r[1],r[4]),0===h)||0===f?0:180*Math.atan2(r[1]/f,r[0]/h)/Math.PI,g.pixelRatio=[],g.codec=y,g.codecTag=d,g.fps=t.computeFps(e,null==(f=t.media)?void 0:f.options);break;case z.AUDIO:g.audioObjectType=a,g.sampleRate=n,g.samplingFrequencyIndex=s,g.sampleSize=i,g.channelCount=o,g.codec=c;break;default:g.type=z.UNKNOWN}return g}))},ee.info("loadedmetadata metadata:",t.metadata),t.emit("loadedmetadata",t.metadata)):"moof"===g&&(ee.info("检测到moof box被加载，当前素材为fMP4"),t.moofParser.parse(be.mapBoxToJSON(e)))},t.computeFps=function(e,t){return t?e.getSamples().length/(t.duration/t.timeScale):0},t.convertSampleToPacket=function(e){var r,n,i,o,a,s;return e.trackType===z.VIDEO&&(t.hvcCBox||t.avcCBox||t.vvcCBox)?(r=e.data,n=e.isSync,i=(o=t.hvcCBox||t.avcCBox||t.vvcCBox).lengthSizeMinusOne,o=o.codec,s=!1,t.vvcCBox&&4<r.length&&0===r[0]&&0===r[1]&&0===r[2]&&1===r[3]&&(s=!0),a=[],a=s?b.extractAnnexbNAL(r):b.extractAVCCNAL(r,i),s=!1,t.hvcCBox&&(s=a.every((function(e){return R.isNonRef(e)}))),t.vvcCBox&&(s=a.every((function(e){L.isNonRef(e)}))),n&&(t.hvcCBox?(t.hvcCBox.pps.forEach((function(e){return a.unshift(e)})),t.hvcCBox.sps.forEach((function(e){return a.unshift(e)})),t.hvcCBox.vps.forEach((function(e){return a.unshift(e)}))):t.vvcCBox?(t.vvcCBox.pps.forEach((function(e){return a.unshift(e)})),t.vvcCBox.sps.forEach((function(e){return a.unshift(e)})),t.vvcCBox.vps.forEach((function(e){return a.unshift(e)}))):t.avcCBox&&(t.avcCBox.pps.forEach((function(e){return a.unshift(e)})),t.avcCBox.sps.forEach((function(e){return a.unshift(e)})))),{codec:o,trackId:e.trackId,trackType:e.trackType,isLast:e.isLast,dts:e.dts,pts:e.cts+e.dts,isSync:e.isSync,isNonRef:s,data:a,size:a.reduce((function(e,t){return e+t.byteLength}),0),offset:e.offset}):e.trackType===z.AUDIO&&t.esdsBox?{codec:t.esdsBox.codec,trackId:e.trackId,trackType:e.trackType,dts:e.dts,pts:e.cts+e.dts,isLast:e.isLast,isSync:!0,isNonRef:!1,data:[e.data],size:e.data.byteLength,offset:e.offset}:void 0},t.options=e,t.moovParser=new No,t.moofParser=new Mo,e.sub||t.on("loadedbox",t._handleBoxLoad),t}function aa(){var e=this;this.options=null,this._getTrakById=function(t){var r;return null==(r=e.options)?void 0:r.media.getTracks().find((function(e){return e.options.id===t}))}}function sa(){}function ca(e){this.samples=[],this.nextSampleIndex=0,this.duration=0,this.options=e}function la(e){this.tracks=[],this.options=e}function ua(e,t){var r=Ho.call(this,e,t)||this;r.sampleCounts=[],r.sampleDurations=[],r.version=t.read(1),r.flag=t.read(3);for(var n=t.read(4),i=0;i<n;i++)r.sampleCounts[i]=t.read(4),r.sampleDurations[i]=t.read(4);return r}function pa(e,t){var r=$o.call(this,e,t)||this;r.isContainer=!0,r.sampleSizes=[],r.version=t.read(1),r.flag=t.read(3),r.sampleSize=t.read(4);for(var n=t.read(4),i=0;i<n;i++)0===r.sampleSize?r.sampleSizes.push(t.read(4)):r.sampleSizes.push(r.sampleSize);return r}function da(e,t){var r=Wo.call(this,e,t)||this;r.sampleNumbers=[],r.version=t.read(1),r.flag=t.read(3);for(var n=t.read(4),i=0;i<n;i++)r.sampleNumbers.push(t.read(4));return r}function ha(e,t){return e=Xo.call(this,e,t)||this,e.version=t.read(1),e.flag=t.read(3),e.entryCount=t.read(4),e}function fa(e,t){var r=Ko.call(this,e,t)||this;r.entries=[],r.version=t.read(1),r.flag=t.read(3);for(var n=t.read(4),i=0;i<n;i++)r.entries.push({firstChunk:t.read(4),samplePerChunk:t.read(4),sampleDescriptionIndex:t.read(4)});return r}function ya(e,t){var r=Qo.call(this,e,t)||this;r.chunkOffsets=[],r.version=t.read(1),r.flag=t.read(3);for(var n=t.read(4),i=0;i<n;i++)r.chunkOffsets.push(t.read(8));return r}function ga(e,t){var r=Zo.call(this,e,t)||this;r.chunkOffsets=[],r.version=t.read(1),r.flag=t.read(3);for(var n=t.read(4),i=0;i<n;i++)r.chunkOffsets.push(t.read(4));return r}function va(e,t){var r=ta.call(this,e,t)||this;r.sampleCounts=[],r.sampleOffsets=[],r.version=t.read(1),r.flag=t.read(3),r.entryCount=t.read(4);for(var n=0;n<r.entryCount;n++)r.sampleCounts.push(t.read(4)),r.sampleOffsets.push(t.readInt(4));return r}function _a(e,t){var r=na.call(this,e,t)||this;r.sampleDurations=[],r.sampleSizes=[],r.sampleFlags=[],r.sampleCTSs=[],r.sampleCount=t.read(4),r.flag&Xi.DATA_OFFSET?r.dataOffset=t.readInt(4):r.dataOffset=0,r.flag&Xi.FIRST_FLAG?r.firstSampleFlag=t.read(4):r.firstSampleFlag=0;for(var n=0;n<r.sampleCount;n++)r.flag&Xi.DURATION&&(r.sampleDurations[n]=t.read(4)),r.flag&Xi.SIZE&&(r.sampleSizes[n]=t.read(4)),r.flag&Xi.FLAG&&(r.sampleFlags[n]=t.read(4)),r.flag&Xi.CTS_OFFSET&&(0===r.version?r.sampleCTSs[n]=t.read(4):r.sampleCTSs[n]=t.readInt(4));return r}(xr=io=io||{})[xr.H264=27]="H264",xr[xr.H265=36]="H265",xr[xr.H266=51]="H266",xr[xr.AAC=15]="AAC";var ma,ba={1:z.VIDEO,2:z.VIDEO,3:z.AUDIO,4:z.AUDIO,5:z.UNKNOWN,6:z.UNKNOWN,7:z.UNKNOWN,8:z.UNKNOWN,9:z.UNKNOWN,10:z.UNKNOWN,11:z.UNKNOWN,12:z.UNKNOWN,13:z.UNKNOWN,14:z.UNKNOWN,15:z.AUDIO,16:z.VIDEO,17:z.AUDIO,18:z.UNKNOWN,19:z.UNKNOWN,20:z.UNKNOWN,21:z.UNKNOWN,22:z.UNKNOWN,23:z.UNKNOWN,24:z.UNKNOWN,25:z.UNKNOWN,26:z.UNKNOWN,27:z.VIDEO,28:z.AUDIO,29:z.UNKNOWN,30:z.VIDEO,31:z.UNKNOWN,32:z.UNKNOWN,33:z.VIDEO,36:z.VIDEO,51:z.VIDEO,66:z.UNKNOWN,127:z.UNKNOWN,128:z.AUDIO,129:z.AUDIO,130:z.AUDIO,131:z.AUDIO,132:z.AUDIO,133:z.AUDIO,134:z.AUDIO,135:z.AUDIO,144:z.UNKNOWN,145:z.UNKNOWN,192:z.UNKNOWN,193:z.AUDIO,194:z.AUDIO,207:z.UNKNOWN,209:z.VIDEO,210:z.VIDEO,219:z.UNKNOWN,234:z.VIDEO},Sa=function(e){this.programs=[],this.tableId=e.read(1);var t=new y(e.read(2),16);this.sectionSyntaxIndicator=t.read(1),t.skip(1),t.skip(2),this.sectionLength=t.read(12),this.transportStreamId=e.read(2),t=new y(e.read(1),8);t.skip(2),this.versionNumber=t.read(5),this.currentNextIndicator=t.read(1),this.sectionNumber=e.read(1),this.lastSectionNumber=e.read(1);for(var r=0;r<this.sectionLength-12;r+=4)this.programs.push({number:e.read(2),pid:8191&e.read(2)});this.crc32=e.read(4)},Ta=function(e){this.streamId=e.read(1),this.pesPacketLength=e.read(2);var t=new y(e.read(2),16);t.skip(2),this.pesScramblingControl=t.read(2),this.pesPriority=t.read(1),this.dataAlignmentIndicator=t.read(1),this.copyright=t.read(1),this.originalOrCopy=t.read(1),this.ptsDtsFlags=t.read(2),this.esCRFlag=t.read(1),this.esRateFlag=t.read(1),this.dsmTrickModeFlag=t.read(1),this.additionalCopyInfoFlag=t.read(1),this.pesCRCFlag=t.read(1),this.pesExtensionFlag=t.read(1),this.pesHeaderDataLength=e.read(1),t=e.offset,2&this.ptsDtsFlags?(this.pts=(14&e.read(1))<<27|e.read(2)>>>1<<13|e.read(2)>>>3,this.pts*=4,e.back(1),this.pts+=(6&e.read(1))>>>1,1&this.ptsDtsFlags?(this.dts=(14&e.read(1))<<27|e.read(2)>>>1<<13|e.read(2)>>>3,this.dts*=4,e.back(1),this.dts+=(6&e.read(1))>>>1):this.dts=this.pts):(this.pts=0,this.dts=0),t=this.pesHeaderDataLength-(e.offset-t);0<t&&e.skip(t),this.data=e.readToUint8()},wa=function(e){this.streams=[],this.tableId=e.read(1);var t=new y(e.read(2),16);this.sectionSyntaxIndicator=t.read(1),t.skip(1),t.skip(2),this.sectionLength=t.read(12),this.programNumber=e.read(2),t=new y(e.read(1),8);t.skip(2),this.versionNumber=t.read(5),this.currentNextIndicator=t.read(1),this.sectionNumber=e.read(1),this.lastSectionNumber=e.read(1),this.pcrPid=8191&e.read(2),this.programInfoLength=4095&e.read(2);for(var r=12+this.programInfoLength;r<=this.sectionLength-2;r+=5){var n={streamType:e.read(1),pid:8191&e.read(2),esInfoLength:4095&e.read(2)};this.streams.push(n),e.skip(n.esInfoLength),r+=n.esInfoLength}this.crc32=e.read(4)};(x=ma=ma||{})[x.PAT=0]="PAT",x[x.CAT=1]="CAT",x[x.TSDT=2]="TSDT",Oa.SYNC_BYTE=71;var Ea,xa,ka=Oa,Pa=(xr=r(378),r.n(xr)),Ca=(Object.freeze({formatType:W.UNKNOWN,live:!1,progressive:!1,url:"",basePTS:0,baseDTS:0,timescale:0,duration:0,tracks:[]}),Object.freeze({type:z.VIDEO,id:0,baseDTS:0,basePTS:0,timescale:1e3,codec:"",width:0,height:0,vps:[],pps:[],sps:[],sei:[],pixelRatio:[],fps:25,live:!1})),Ra=Object.freeze({type:z.AUDIO,id:1,baseDTS:0,basePTS:0,timescale:1e3,codec:"",audioObjectType:2,samplingFrequencyIndex:0,sampleRate:0,sampleSize:16,channelCount:0}),Aa=(Object.defineProperty(Ia.prototype,"size",{get:function(){return this.list.length},enumerable:!1,configurable:!0}),Ia.prototype.write=function(e){this.list.push(e)},Ia.prototype.read=function(){return this.list.shift()},Ia.prototype.readAll=function(){var e=this.list;return this.list=[],e},Ia.prototype.clear=function(){this.list=[]},Ia);xa=function(e,t){return(xa=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)},x=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}xa(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)};function Ia(){this.list=[]}function Oa(e){var t=new y(e.read(4),32);this.syncByte=t.read(8),this.errorIndicator=t.read(1),this.payloadUnitStartIndicator=t.read(1),this.transportPriority=t.read(1),this.pid=t.read(13),this.transportScramblingControl=t.read(2),this.adaptationFlag=t.read(1),this.payloadFlag=t.read(1),this.continueCounter=t.read(4),this.adaptationFlag&&(t=e.read(1),e.skip(t)),this.payloadUnitStartIndicator&&e.skip(1)}(xr=Ea=Ea||{})[xr.UNKNOWN=0]="UNKNOWN",xr[xr.PAT=1]="PAT",xr[xr.PES=2]="PES",xr[xr.PMT=3]="PMT",x(Qa,qa=A),Qa.probe=function(e){if(e.byteLength<1)return!1;for(var t=0,r=e.byteLength;t<r;t+=188)if(e[t]!==ka.SYNC_BYTE)return!1;return!0},Qa.prototype.splitToTsPacket=function(e){this.unhandleBuffer&&this.unhandleBuffer.byteLength&&(e=s.concat(this.unhandleBuffer,e),this.unhandleBuffer=void 0);for(var t=new Uint8Array(e),r=t.byteLength,n=0;n+188<=r;){if(t[n]!==ka.SYNC_BYTE){var i=new Uint8Array(t.buffer,n).findIndex((function(e){return e===ka.SYNC_BYTE}));if(console.warn("[videox] mpegts sync byte error",t[n],n,i),-1<i){n+=i;continue}break}this.parseTsPacket(t.subarray(n,n+188)),n+=188}n<r&&(this.unhandleBuffer=e.slice(n))},Qa.prototype.parseTsPacket=function(e){e=s.fromUint8(e);var t,r=new ka(e),n=null;r.pid===ma.PAT?(n=new Sa(e),this.patPrograms=n.programs,this.emitTSPacket(Ea.PAT,r,n)):this.patPrograms.some((function(e){return e.pid===r.pid}))?(n=new wa(e),(t=D()(this.pmtStreams,n.streams))&&this.emitPackets(),this.metadataChanged=t,this.pmtStreams=n.streams,this.emitTSPacket(Ea.PMT,r,n)):(t=this.pmtStreams.find((function(e){return e.pid===r.pid})))?(r.payloadUnitStartIndicator&&this.parsePes(),this.prevPesSegments.push(e.readToUint8()),this.prevPesTSHeader=r,this.prevPmtStream=t):this.emitTSPacket(Ea.UNKNOWN,r,n)},Qa.prototype.parsePes=function(){var e,t=this.prevPmtStream;this.prevPesSegments.length&&this.prevPesTSHeader&&t&&(e=s.fromUint8(s.concatUint8s(this.prevPesSegments)),this.prevPesSegments=[],1===e.read(2))&&(e=new Ta(e),this.emitTSPacket(Ea.PES,this.prevPesTSHeader,e),t.streamType===io.H265||t.streamType===io.H266||t.streamType===io.H264?this.parseVideoPes(e,t):t.streamType===io.AAC&&this.parseAudioPes(e,t))},Qa.prototype.parseVideoPes=function(e,t){var r,n=Math.round(e.dts/90),i=Math.round(e.pts/90),o=t.streamType===io.H265,a=t.streamType===io.H266,c={},l=!0,u=!1,p=[],d=[],h=[],f=[];e=b.extractAnnexbNAL(e.data);if(a?(r=[],e.forEach((function(e){var t,n=s.fromUint8(e);e.length<4?console.log("skip this too small nalu:",e):(t=new L(n)).nalType<k.VVC_AUD_NUT&&(t.nalType===k.VVC_SPS_NUT?(u=!0,n=new ue(xe(n.readToUint8())),c.width=n.width,c.height=n.height,c.codec=n.codec,d.push(e)):t.nalType===k.VVC_VPS_NUT?h.push(e):t.nalType===k.VVC_PPS_NUT&&f.push(e),l=L.isNonRefNALType(t.nalType)&&l,r.push(L.createAnnexbStartCode(),e))})),a=s.concatUint8s(r),p.push(a)):e.forEach((function(e){var t,r,n=s.fromUint8(e);e.length<2||(o?(r=new R(n)).nalType<T.ACCESS_UNIT_DELIMITER&&(r.nalType>=T.VPS&&(r.nalType===T.SPS?(u=!0,t=new le(xe(n.readToUint8())),c.width=t.width,c.height=t.height,c.pixelRatio=t.pixelRatio,c.codec=t.codec,d.push(e)):r.nalType===T.VPS?h.push(e):r.nalType===T.PPS&&f.push(e)),Nt.isSafari&&r.nalType!==T.TRAIL_R&&r.nalType!==T.TRAIL_N&&r.nalType!==T.IDR_W_RADL&&r.nalType!==T.IDR_N_LP&&r.nalType!==T.CRA&&r.nalType!==T.SPS&&r.nalType!==T.VPS&&r.nalType!==T.PPS&&r.nalType!==T.SEI?console.warn("skip this nalu nalType:",r.nalType):p.push(e),l=R.isNonRefNALType(r.nalType)&&l):((r=new E(n)).nalType<m.DIVIDER&&(r.nalType===m.SPS?(u=!0,t=new ie(xe(n.readToUint8())),c.width=t.width,c.height=t.height,c.pixelRatio=t.pixelRatio,c.codec=t.codec,d.push(e)):r.nalType===m.PPS&&f.push(e),p.push(e)),l=!1))})),!this.videoLoaded){if(!u)return;this.videoLoaded=!0,c.baseDTS=n,c.basePTS=i}h.length&&(c.vps=h),d.length&&(c.sps=d),f.length&&(c.pps=f),this.videoMetadata?(this.metadataChanged=M(this.videoMetadata,c),this.metadataChanged&&this.emit("updatedtrackmetadata",this.videoMetadata)):(this.videoMetadata=Pa()({},Ca,c),this.metadataChanged=!0),this.checkMetadataChanged(),this.packetQueue.write({trackId:t.pid,codec:this.videoMetadata.codec,trackType:z.VIDEO,isSync:u,isNonRef:l,data:p,dts:n,pts:i,size:p.reduce((function(e,t){return e+t.byteLength}),0)})},Qa.prototype.parseAudioPes=function(e,t){var r,n,i,o=this,a={},s=Math.round(e.dts/90),c=Math.round(e.pts/90);this.audioLoaded||(this.audioLoaded=!0,a.baseDTS=s,a.basePTS=c),e=f(e.data);e.length&&(r=e[0],n="mp4a.40."+r.audioObjectType,a.codec=n,a.audioObjectType=r.audioObjectType,a.sampleRate=r.sampleRate,a.channelCount=r.channelCount,this.audioMetadata?(this.metadataChanged=M(this.audioMetadata,a),this.metadataChanged&&this.emit("updatedtrackmetadata",this.audioMetadata)):(this.audioMetadata=Pa()({},Ra,a),this.metadataChanged=!0),this.checkMetadataChanged(),i=Math.round(9e4*l/r.sampleRate/90),e.forEach((function(e,r){o.packetQueue.write({trackId:t.pid,codec:n,trackType:z.AUDIO,isSync:!0,isNonRef:!0,data:[e.data],dts:i*r+s,pts:i*r+c,size:e.data.byteLength})})))},Qa.prototype.checkMetadataChanged=function(){var e,t,r=this;return this.pmtStreams.length&&this.metadataChanged&&(e=[],this.pmtStreams.every((function(t){return t=ba[t.streamType],t===z.VIDEO?(r.videoMetadata&&e.push(r.videoMetadata),!(!r.videoMetadata||!r.videoMetadata.codec)):t!==z.AUDIO||(r.audioMetadata&&e.push(r.audioMetadata),!(!r.audioMetadata||!r.audioMetadata.codec))})))&&(t={formatType:W.MPEGTS,live:!1,progressive:!!this.options.progressive,url:this.loader.url,basePTS:Math.min.apply(Math,e.map((function(e){return e.basePTS||0}))),baseDTS:Math.min.apply(Math,e.map((function(e){return e.baseDTS||0}))),timescale:1e3,duration:0,tracks:e},this.metadataChanged=!1,this.metadata?M(this.metadata,t)&&this.emit("updatedmetadata",this.metadata):(this.metadata=t,this.emit("loadedmetadata",this.metadata))),this.metadataChanged},Qa.prototype.emitTSPacket=function(e,t,r){ee.debug("loadedtspacket","type:",Ea[e],"header:",t,"payload:",r),this.emit("loadedtspacket",{type:e,header:t,payload:r})},Qa.prototype.emitPackets=function(){var e;this.metadata&&this.loader.status!==Fe.SUSPENGING&&!this.metadataChanged&&0<this.packetQueue.size&&(e=this.packetQueue.readAll(),this.emit("loadeddata",{packets:e}))},Qa.prototype.continuousLoad=function(e){return this.loader.load(e)},Qa.prototype.parse=function(e){this.splitToTsPacket(e),this.emitPackets()},Qa.prototype.onProgress=function(e){e.data.byteLength&&this.parse(e.data.buffer)},Qa.prototype.onLoadEnd=function(){this.parsePes(),this.emitPackets(),this.loader.eof&&this.emit("end",void 0)},Qa.prototype.resume=function(){return this.options.progressive?qa.prototype.resume.call(this):i.resolve(!1)},Qa.prototype.flush=function(){this.unhandleBuffer=void 0,this.prevPesTSHeader=void 0,this.prevPmtStream=void 0,this.prevPesSegments=[]},Qa.prototype.seek=function(){this.reset(),this.loader.jump(0)},Qa.prototype.reset=function(){qa.prototype.reset.call(this),this.flush(),this.audioLoaded=!1,this.videoLoaded=!1,this.packetQueue.clear(),this.patPrograms=[],this.pmtStreams=[],this.metadata=null,this.audioMetadata=void 0,this.videoMetadata=void 0,this.metadataChanged=!1};var La=Qa,Da=($a=function(e,t){return($a=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)},function(){return(Da=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)}),Na={M3U:/^#EXTM3U/,INF:/^#EXTINF:?([0-9\.]*)?,?(.*)?(?:\n|\r\n)(.*)$/,X_TARGETDURATION:/^#EXT-X-TARGETDURATION:?([0-9.]*)?/,X_VERSION:/^#EXT-X-VERSION:?([0-9.]*)?/,X_MEDIA_SEQUENCE:/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/,X_DISCONTINUITY_SEQUENCE:/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/,X_PLAYLIST_TYPE:/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/,X_BYTERANGE:/^#EXT-X-BYTERANGE:?(.*)?$/,X_ALLOW_CACHE:/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/,X_MAP:/^#EXT-X-MAP:?(.*)$/,X_STREAM_INF:/^#EXT-X-STREAM-INF:?(.*)$/,X_MEDIA:/^#EXT-X-MEDIA:?(.*)$/,X_ENDLIST:/^#EXT-X-ENDLIST/,X_DISCONTINUITY:/^#EXT-X-DISCONTINUITY/,X_PROGRAM_DATE_TIME:/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/,X_KEY:/^#EXT-X-KEY:?(.*)$/,X_START:/^#EXT-X-START:?(.*)$/,X_CUE_OUT_CONT:/^#EXT-X-CUE-OUT-CONT:?(.*)?$/,X_CUE_OUT:/^#EXT-X-CUE-OUT:?(.*)?$/,X_CUE_IN:/^#EXT-X-CUE-IN:?(.*)?$/,X_SKIP:/^#EXT-X-SKIP:(.*)$/,X_PART:/^#EXT-X-PART:(.*)$/,X_SERVER_CONTROL:/^#EXT-X-SERVER-CONTROL:(.*)$/,X_PART_INF:/^#EXT-X-PART-INF:(.*)$/,X_PRELOAD_HINT:/^#EXT-X-PRELOAD-HINT:(.*)$/,X_RENDITION_REPORT:/^#EXT-X-RENDITION-REPORT:(.*)$/},Ma=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}$a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(Ya,Va=A),Ya.probe=function(e){var t;return 7<=e.byteLength&&(t=[],e.forEach((function(e){return t.push(String.fromCharCode(e))})),Na.M3U.test(t.join("")))},Object.defineProperty(Ya.prototype,"status",{get:function(){return this.loader.eof?this.mpegtsParser.status===Fe.IDLE?this.shouldContinuousLoad?Fe.LOADING:Fe.SUSPENGING:this.mpegtsParser.status:this.loader.status},enumerable:!1,configurable:!0}),Object.defineProperty(Ya.prototype,"duration",{get:function(){return this.isLive?1/0:Math.round(1e3*this.segments.reduce((function(e,t){return e+t.duration}),0))},enumerable:!1,configurable:!0}),Object.defineProperty(Ya.prototype,"currentSegment",{get:function(){return this.segments[this.currSegmentIndex]},enumerable:!1,configurable:!0}),Object.defineProperty(Ya.prototype,"prevSegmentsTotalDuration",{get:function(){return this.segments.slice(0,this.currSegmentIndex).reduce((function(e,t){return e+t.duration}),0)},enumerable:!1,configurable:!0}),Ya.prototype.insertSegment=function(e){var t=!this.segments.some((function(t){return t.uri===e.uri}));return t&&this.segments.push(e),t},Ya.prototype.onProgress=function(e){this.bufferSegments.push(e)},Ya.prototype.onLoadEnd=function(){var e,t,r,n,i,o=this;this.loader.eof&&(t=s.concatUint8s(this.bufferSegments.map((function(e){return e.data}))),this.bufferSegments=[],t.byteLength&&(t=(new TextDecoder).decode(t).split(/\n#/).map((function(e){return"#"+e.trim()})),r=0,i=n=!1,t.forEach((function(t){var a=t.match(Na.INF);a?(a={sequence:r,duration:parseFloat(a[1]),uri:new URL(a[3],o.url).href,discontinuity:i},o.insertSegment(a),o.emit("loadedsegment",a)):(e=t.match(Na.X_MEDIA_SEQUENCE))?r=Number(e[1]):Na.X_ENDLIST.test(t)?n=!0:Na.X_DISCONTINUITY.test(t)&&(i=!0)})),this.discontinuity=i,this.isLive=!n,this.segments.length||this.emit("error",{code:$.PARSER,message:"M3U8文件无TS数据"}),this.prevManifestLoadedTime=Date.now(),this.loadSegment()),ee.info("hls manifest loaded, all segments length:",this.segments.length))},Ya.prototype.loadSegment=function(){var e,t,r=this;return this.shouldContinuousLoad?(e=this.segments[this.currSegmentIndex],this.isLive&&!e?(t=1e3*this.m3u8UpdateDuration-(Date.now()-this.prevManifestLoadedTime))<=0?this.loader.load(this.loader.url):new i((function(e){clearTimeout(r.fetchTimer),r.fetchTimer=setTimeout((function(){e(r.loader.load(r.loader.url))}),t)})):e?(this.cachePackets=[],this.m3u8UpdateDuration=e.duration||2,this.currSegmentStartPTS=void 0,this.mpegtsParser.continuousLoad(e.uri)):(this.ended=!0,i.resolve(!1))):i.resolve(!1)},Ya.prototype.suspend=function(){clearTimeout(this.fetchTimer),this.shouldContinuousLoad=!1},Ya.prototype.resume=function(){var e;return this.cachePackets.length?(e=this.cachePackets,this.cachePackets=[],this.emit("loadeddata",{packets:e}),i.resolve(!1)):this.shouldContinuousLoad||this.ended?i.resolve(!1):(this.shouldContinuousLoad=!0,this.loader.eof?this.mpegtsParser.loader.status===Fe.LOADING||this.mpegtsParser.loader.status===Fe.ERROR?i.resolve(!0):this.loadSegment():Va.prototype.resume.call(this))},Ya.prototype.seek=function(e){this.ended=!1;var t=0,r=this.segments.findIndex((function(r){return t+=r.duration,e<t}));this.currSegmentIndex=-1<r?r:this.segments.length-1,this.cachePackets=[],this.bufferSegments=[],this.mpegtsParser.suspend(),this.mpegtsParser.flush(),this.shouldContinuousLoad=!0,this.loadSegment()},Ya.prototype.reset=function(){clearTimeout(this.fetchTimer),Va.prototype.reset.call(this),this.discontinuity=!1,this.cachePackets=[],this.bufferSegments=[],this.shouldContinuousLoad=!0,this.mpegtsParser.reset(),this.segments=[],this.currSegmentIndex=0,this.isLive=!1,this.ended=!1},Ya.prototype.destroy=function(){Va.prototype.destroy.call(this),this.mpegtsParser.loader.removeAllListeners(),this.mpegtsParser.destroy()},Ya),Ua=(xr=r(801),r.n(xr));function ja(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||((n=n||Array.prototype.slice.call(t,0,i))[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}function Ba(e){return e.split("").map((function(e){return e.charCodeAt(0)}))}Ha=function(e,t){return(Ha=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)};var Fa,Ha,Va,$a,qa,Wa=function(){return(Wa=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},za=["loadedmetadata","updatedmetadata","updatedtrackmetadata","loadeddata","error","end"],Xa=[ia,Ma,$t,La],Ga=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}Ha(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(Ka,Fa=Be),Ka.prototype.createLoader=function(){var e=new et(this.options);return e.proxy(this,["progress","error"]),e.proxyOnce(this,["loadstart","loadend"]),e.once("progress",this.handleFirstLoadData),e},Ka.prototype.createParser=function(e){return e=new e(Wa(Wa({},this.options),{loader:this.loader})),e.proxy(this,za),e},Object.defineProperty(Ka.prototype,"skipFrame",{get:function(){return this.activeParser.skipFrame},set:function(e){ee.info("设置skipFrame:",e),Ua()(e)||(this.options.skipFrame=e,this.activeParser.skipFrame=e)},enumerable:!1,configurable:!0}),Object.defineProperty(Ka.prototype,"status",{get:function(){return this.activeParser.status},enumerable:!1,configurable:!0}),Object.defineProperty(Ka.prototype,"url",{get:function(){return this.loader.url},enumerable:!1,configurable:!0}),Ka.prototype.parse=function(e){ee.info("执行parse"),this.loader.reset(),this.handleFirstLoadData({offset:0,data:e}),this.activeParser.onLoadEnd()},Ka.prototype.load=function(e){return ee.info("执行load",e),this.loader.destroy(),this.loader=this.createLoader(),this.loader.load(e)},Ka.prototype.seek=function(e){return ee.info("执行seek",e),this.activeParser.seek(e)},Ka.prototype.suspend=function(){return this.activeParser.suspend()},Ka.prototype.resume=function(){return this.activeParser.resume()},Ka.prototype.destroy=function(){ee.info("执行destory"),this.loader.destroy(),this.activeParser.destroy(),this.removeAllListeners()},Ka);function Ka(e){void 0===e&&(e={});var t=Fa.call(this)||this;return t.loader=new et,t.parserClasses=Xa,t.logger=ee,t.handleFirstLoadData=function(e){var r,n;e&&((n=t.parserClasses.find((function(t){return t.probe(e.data)})))?(r=t.activeParser.formatType,t.activeParser.destroy(),t.activeParser=t.createParser(n),ee.info("切换parser, ".concat(W[r]," -> ").concat(W[t.activeParser.formatType])),t.emit("parserchange",void 0),t.activeParser.onProgress(e)):(n="未找到对应的Parser, Byte数据: "+e.data.slice(0,20).join(","),ee.error(n),t.emit("error",{code:$.PARSER,message:n})))},t.options=e,t.loader=t.createLoader(),t.activeParser=t.createParser(t.parserClasses[0]),t.logger.info("demuxer options",e),t}function Ya(e){var t=Va.call(this,e)||this;return t.mpegtsParser=new La({progressive:!0,timeout:t.options.timeout}),t.currSegmentIndex=0,t.isLive=!1,t.shouldContinuousLoad=!0,t.ended=!1,t.prevManifestLoadedTime=0,t.fetchTimer=-1,t.discontinuity=!1,t.m3u8UpdateDuration=2,t.bufferSegments=[],t.cachePackets=[],t.formatType=W.HLS,t.segments=[],t.handleTSEnd=function(){t.currSegmentIndex>=t.segments.length-1&&t.emit("end",void 0)},t.handleTSLoadedMetadata=function(e){void 0===t.basePTS&&(t.basePTS=e.basePTS),void 0===t.baseDTS&&(t.baseDTS=e.baseDTS),e=Da(Da({},e),{formatType:W.HLS,live:t.isLive,progressive:!0,basePTS:t.basePTS,baseDTS:t.baseDTS,duration:t.duration,url:t.loader.url,discontinuity:t.discontinuity}),t.metadata?M(t.metadata,e)&&t.emit("updatedmetadata",t.metadata):(t.metadata=e,t.emit("loadedmetadata",t.metadata))},t.handleTSLoadedData=function(e){var r,n,i,o;e=e.packets;e.length&&(null!=(r=t.currentSegment)&&r.discontinuity&&(r=e.slice().sort((function(e,t){return e.pts-t.pts})),void 0===t.currSegmentStartPTS&&(t.currSegmentStartPTS=r[0].pts),n=t.currSegmentStartPTS,i=Math.round(1e3*t.prevSegmentsTotalDuration)+(t.basePTS||0),r.forEach((function(e){var t=e.dts-e.pts;e.pts=i+e.pts-n,e.dts=e.pts+t}))),t.cachePackets.length?(o=t.cachePackets.concat(e),t.cachePackets=[]):o=e,t.shouldContinuousLoad?t.emit("loadeddata",{packets:o}):t.cachePackets=o)},t.handleTSLoadEnd=function(){t.currSegmentIndex++,t.loadSegment()},t.mpegtsParser.on("loadedmetadata",t.handleTSLoadedMetadata),t.mpegtsParser.on("updatedmetadata",t.handleTSLoadedMetadata),t.mpegtsParser.on("loadeddata",t.handleTSLoadedData),t.mpegtsParser.on("end",t.handleTSEnd),t.mpegtsParser.loader.on("loadend",t.handleTSLoadEnd),t.mpegtsParser.loader.proxy(t,["error"]),t.mpegtsParser.proxy(t,["updatedtrackmetadata"]),t}function Qa(){var e=null!==qa&&qa.apply(this,arguments)||this;return e.patPrograms=[],e.pmtStreams=[],e.prevPesSegments=[],e.packetQueue=new Aa,e.audioLoaded=!1,e.videoLoaded=!1,e.metadataChanged=!1,e.metadata=null,e.formatType=W.MPEGTS,e}Za.prototype.create=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=new Uint8Array(8),i=[n].concat(t.map((function(e){return new Uint8Array(e)}))),o=i.reduce((function(e,t){return e+t.byteLength}),0),a=new s(n.buffer);return a.write(4,o),Ba(e).forEach((function(e){return a.write(1,e)})),s.concatUint8s(i)},Za.prototype.avc1=function(e){var t=e.pixelRatio,r=e.vps,n=new ArrayBuffer(78),i=new s(n);i.write(4,0),i.write(2,0),i.write(2,1),i.write(4,0),i.write(4,0),i.write(4,0),i.write(4,0),i.write(2,e.width),i.write(2,e.height),i.write(4,4718592),i.write(4,4718592),i.write(4,0),i.write(2,1),i.write(1,12),Ba("@ali/splayer").forEach((function(e){return i.write(1,e)})),i.skip(19),i.write(2,24),i.write(2,65535),t=2===t.length?this.pasp(t[0],t[1]):[];return r.length?this.create("hvc1",n,this.hvcC(e),t):this.create("avc1",n,this.avcC(e),t)},Za.prototype.avcC=function(e){var t=e.sps,r=(e=e.pps,[]),n=[];r.push(t.length),t.forEach((function(e){r.push(e.byteLength>>>8&255),r.push(255&e.byteLength),e.forEach((function(e){return r.push(e)}))})),n.push(e.length),e.forEach((function(e){n.push(e.byteLength>>>8&255),n.push(255&e.byteLength),e.forEach((function(e){return n.push(e)}))})),t=new ArrayBuffer(5),e=new s(t);return e.write(1,1),e.write(1,r[4]||0),e.write(1,r[5]||0),e.write(1,r[6]||0),e.write(1,255),this.create("avcC",t,r,n)},Za.prototype.btrt=function(){var e=new ArrayBuffer(12),t=new s(e);return t.write(4,1875072),t.write(4,3e6),t.write(4,3e6),this.create("btrt",e)},Za.prototype.pasp=function(e,t){var r=new ArrayBuffer(8),n=new s(r);return n.write(4,e),n.write(4,t),this.create("pasp",r)},Za.prototype.dinf=function(){return this.create("dinf",this.dref())},Za.prototype.dref=function(){var e=new ArrayBuffer(8),t=new s(e);return t.write(4,0),t.write(4,1),this.create("dref",e,this.url())},Za.prototype.esds=function(e){var t=e.audioObjectType,r=e.sampleRate,n=(e=e.channelCount,new ArrayBuffer(33)),i=new s(n),o=5<=t,a=(i.write(4,0),i.write(1,3),i.write(1,o?27:25),i.write(2,1),i.write(1,0),i.write(1,4),i.write(1,o?19:17),i.write(1,64),i.write(1,21),i.write(3,0),i.write(4,0),i.write(4,0),i.write(1,5),i.write(1,o?4:2),c.findIndex((function(e){return r===e})));return i.write(1,t<<3|(14&a)>>1),o?(i.write(1,(1&(t=a))<<7|e<<3|(14&t)>>1),i.write(1,(1&t)<<7|8),i.write(1,0)):i.write(1,(1&a)<<7|e<<3),i.back(4),i.skip(4),i.write(1,6),i.write(1,1),i.write(1,2),this.create("esds",n)},Za.prototype.ftyp=function(){var e=new ArrayBuffer(16),t=new s(e);return Ba("isom").forEach((function(e){return t.write(1,e)})),t.write(4,1),Ba("isom").forEach((function(e){return t.write(1,e)})),Ba("avc1").forEach((function(e){return t.write(1,e)})),this.create("ftyp",e)},Za.prototype.hdlr=function(e){var t=new ArrayBuffer(37),r=new s(t);return r.skip(8),e===z.VIDEO?Ba("vide").forEach((function(e){return r.write(1,e)})):e===z.AUDIO&&Ba("soun").forEach((function(e){return r.write(1,e)})),r.skip(12),e===z.VIDEO?Ba("VideoHandler").forEach((function(e){return r.write(1,e)})):e===z.AUDIO&&Ba("SoundHandler").forEach((function(e){return r.write(1,e)})),r.write(1,0),this.create("hdlr",t)},Za.prototype.hvcC=function(e){var t=e.vps,r=e.sps,n=[],i=(t=[{type:T.VPS,data:t},{type:T.SPS,data:r},{type:T.PPS,data:e.pps}],e=(t.forEach((function(e){var t=e.type;e=e.data;n.push(128|t),n.push(e.length>>>8&255),n.push(255&e.length),e.forEach((function(e){n.push(e.byteLength>>>8&255),n.push(255&e.byteLength),e.forEach((function(e){return n.push(e)}))}))})),new ArrayBuffer(23)),new s(e)),o=r.length?r[0]:[];i.write(1,1);for(var a=1;a<12;a++)i.write(1,o[a]||0);return i.write(1,0),i.write(2,0),i.write(1,0),i.write(1,1),i.write(1,0),i.write(1,0),i.write(2,0),i.write(1,15),i.write(1,t.length),this.create("hvcC",e,n)},Za.prototype.mdat=function(e){return this.create("mdat",e)},Za.prototype.mdhd=function(e){var t=new ArrayBuffer(24),r=new s(t);return r.write(4,0),r.write(4,0),r.write(4,0),r.write(4,e.timescale),r.write(4,0),r.write(2,21956),r.write(2,0),this.create("mdhd",t)},Za.prototype.mdia=function(e){return this.create("mdia",this.mdhd(e),this.hdlr(e.type),this.minf(e))},Za.prototype.mfhd=function(e){var t=new ArrayBuffer(8),r=new s(t);return r.write(4,0),r.write(4,e),this.create("mfhd",t)},Za.prototype.minf=function(e){var t=e.type===z.VIDEO?this.vmhd():this.smhd();return this.create("minf",t,this.dinf(),this.stbl(e))},Za.prototype.moof=function(e,t,r){var n=this,i=(t=this.mfhd(t),8+t.byteLength+60*e.tracks.length+16*r.length+8);e=e.tracks.map((function(e){var t=r.filter((function(t){return t.trackType===e.type})),o=n.traf(e,t,i);return i+=t.reduce((function(e,t){return e+t.size}),0),o}));return this.create.apply(this,ja(["moof",t],e,!1))},Za.prototype.moov=function(e){var t=this,r=e.tracks.map((function(e){return t.trak(e)}));return this.create.apply(this,ja(ja(["moov",this.mvhd(e)],r,!1),[this.mvex(e)],!1))},Za.prototype.mp4a=function(e){var t=new ArrayBuffer(28),r=new s(t);return r.write(4,0),r.write(2,0),r.write(2,1),r.write(4,0),r.write(4,0),r.write(2,e.channelCount),r.write(2,e.sampleSize),r.write(4,0),r.write(4,e.sampleRate<<16),this.create("mp4a",t,this.esds(e))},Za.prototype.mvex=function(e){var t=this;return this.create.apply(this,ja(["mvex"],e.tracks.map((function(e){return t.trex(e)})),!1))},Za.prototype.mvhd=function(e){var t=new ArrayBuffer(100),r=new s(t);return r.write(4,0),r.write(4,0),r.write(4,0),r.write(4,e.timescale),r.write(4,e.duration),r.write(2,1),r.skip(2),r.write(1,1),r.skip(1),r.skip(10),[0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0].forEach((function(e){return r.write(1,e)})),r.skip(24),r.write(4,4294967295),this.create("mvhd",t)},Za.prototype.sdtp=function(e){var t=e.length,r=new ArrayBuffer(4+t),n=new s(r);n.write(4,0);for(var i=0;i<t;i++){var o=e[i];n.write(1,o.flag)}return this.create("sdtp",r)},Za.prototype.smhd=function(){var e=new ArrayBuffer(8),t=new s(e);return t.write(4,0),t.write(4,0),this.create("smhd",e)},Za.prototype.stbl=function(e){return this.create("stbl",this.stsd(e),this.stts(),this.stsc(),this.stsz(),this.stco())},Za.prototype.stco=function(){var e=new ArrayBuffer(8),t=new s(e);return t.write(4,0),t.write(4,0),this.create("stco",e)},Za.prototype.stsc=function(){var e=new ArrayBuffer(8),t=new s(e);return t.write(4,0),t.write(4,0),this.create("stsc",e)},Za.prototype.stsd=function(e){var t=new ArrayBuffer(8),r=new s(t);return r.write(4,0),r.write(4,1),e.type===z.VIDEO?this.create("stsd",t,this.avc1(e)):e.type===z.AUDIO?this.create("stsd",t,this.mp4a(e)):this.create("stsd",t)},Za.prototype.stsz=function(){var e=new ArrayBuffer(12),t=new s(e);return t.write(4,0),t.write(4,0),t.write(4,0),this.create("stsz",e)},Za.prototype.stts=function(){var e=new ArrayBuffer(8),t=new s(e);return t.write(4,0),t.write(4,0),this.create("stts",e)},Za.prototype.tkhd=function(e){var t=new ArrayBuffer(84),r=new s(t);return r.write(4,7),r.write(4,0),r.write(4,0),r.write(4,e.id),r.write(4,0),r.write(4,0),r.write(4,0),r.write(4,0),r.write(4,0),r.write(1,0),r.write(1,0),r.write(2,0),[0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0].forEach((function(e){return r.write(1,e)})),r.write(2,e.width||0),r.write(2,0),r.write(2,e.height||0),r.write(2,0),this.create("tkhd",t)},Za.prototype.tfdt=function(e){var t=new ArrayBuffer(8),r=new s(t);return r.write(4,0),r.write(4,e),this.create("tfdt",t)},Za.prototype.tfhd=function(e){var t=new ArrayBuffer(8),r=new s(t);return r.write(4,0),r.write(4,e.id),this.create("tfhd",t)},Za.prototype.traf=function(e,t,r){void 0===r&&(r=0);var n=t.length?t[0].dts:0;return this.create("traf",this.tfhd(e),this.tfdt(n),this.trun(t,r))},Za.prototype.trak=function(e){return this.create("trak",this.tkhd(e),this.mdia(e))},Za.prototype.trex=function(e){var t=new ArrayBuffer(24),r=new s(t);return r.write(4,0),r.write(4,e.id),r.write(4,1),r.write(4,0),r.write(4,0),r.write(4,65537),this.create("trex",t)},Za.prototype.trun=function(e,t){var r=e.length,n=new ArrayBuffer(12+16*r),i=new s(n);i.write(4,3841),i.write(4,e.length),i.write(4,t);for(var o=0;o<r;o++){var a=e[o];i.write(4,a.duration),i.write(4,a.size),i.write(4,a.flag),i.write(4,a.cts)}return this.create("trun",n)},Za.prototype.vmhd=function(){var e=new ArrayBuffer(12),t=new s(e);return t.write(4,1),t.write(2,0),t.write(2,0),t.write(2,0),t.write(2,0),this.create("vmhd",e)},Za.prototype.url=function(){var e=new ArrayBuffer(4);return new s(e).write(4,1),this.create("url ",e)};var Ja=Za;function Za(){}ts.createSilentFrame=function(e,t){if("mp4a.40.2"===e){if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return new Uint8Array},ts.FRAME_DURATION=1024;var es=ts;function ts(){}hs.prototype.updateConfig=function(e){Object.assign(this.config,e)},hs.prototype.createInitSegment=function(){var e=s.concatUint8(this.generator.ftyp(),this.generator.moov(this.config));return this.offset=e.byteLength,e},hs.prototype.createSegment=function(e){var t,r,n=this;return e.length?(t=[],this.config.tracks.forEach((function(r){var i,o=e.filter((function(e){return e.trackType===r.type}));o.length&&(i=null,r.type===z.VIDEO?i=n.recaculateVideoSamples(o,r):r.type===z.AUDIO&&(i=n.recaculateAudioSamples(o,r)),i)&&(t.push(n.generator.moof(n.config,++n.sequenceNumber,i)),t.push(n.generator.mdat(s.concatUint8s(i.map((function(e){return e.data}))))))})),r=s.concatUint8s(t),this.offset+=r.byteLength,r):new Uint8Array},hs.prototype.createSlientFrames=function(e,t,r,n){var i=[];if(1.5*n<r){this.logger.warn("remux audio found pts hole at pts:",e,"timestamp:",(e-this.config.basePTS)/t.timescale,"gap duration:",r,"sample duration:",n);for(var o=es.createSilentFrame(t.codec,t.channelCount),a=Math.ceil(r/n),s=0;s<a;s++)i.push({flag:ge.DEPENDS_NO,trackType:z.AUDIO,dts:e+n*s,cts:0,duration:n,size:o.byteLength,data:o,isSync:!0});i.length&&(i[i.length-1].duration=r-(a-1)*n)}return i},hs.prototype.recaculateAudioSamples=function(e,t){var r=[];this.prevAudioPacket&&(e.unshift(this.prevAudioPacket),this.prevAudioPacket=void 0);var n,i,o=Math.round(es.FRAME_DURATION/t.sampleRate*t.timescale);!this.audioInited&&e.length&&(this.audioInited=!0,i=e[0].pts-this.config.basePTS,this.createSlientFrames(this.config.basePTS,t,i,o).forEach((function(e){r.push(e)})));for(var a,c,l=0,u=0,p=e.length;l<p;l++){if(n=e[l],a=e[l+1]){if((u=a.dts-n.dts)<0){if(!((a=e.findIndex((function(e){return n.dts<e.dts})))>l+1))break;u=e[a].dts-n.dts,l=a-1,this.logger.warn("remux audio found pts overlap at pts:",n.pts,"timestamp:",(n.pts-(this.config.basePTS||0))/t.timescale,"gap duration:",u,"sample duration:",o)}}else{if(!n.isLast||!r.length){this.prevAudioPacket=n;break}u=r[r.length-1].duration}0<u&&((a=this.createSlientFrames(n.pts+o,t,u-o,o)).length&&(u=o),c=s.concatUint8s(n.data),r.push({flag:ge.DEPENDS_NO,trackType:z.AUDIO,size:c.byteLength,dts:n.dts,cts:n.pts-n.dts,duration:u,data:c,isSync:!0}),a.forEach((function(e){r.push(e)})))}return r.length&&this.recaculateSample(r[0],this.config.baseDTS),r},hs.prototype.recaculateVideoSamples=function(e,t){var r;this.prevVideoPacket&&(e.unshift(this.prevVideoPacket),this.prevVideoPacket=void 0),this.videoInited||(this.videoInited=!0,r=Math.min.apply(Math,e.map((function(e){return e.pts}))),e.find((function(e){return e.pts===r})).pts=this.config.basePTS);for(var n,i,o,a,c=[],l=this,u=0,p=0,d=0,h=e.length;u<h;u++){var f=((r,u,p,d)=>{if(n=e[r],i=e[r+1]){if((p=i.dts-n.dts)<0){for(i.dts=n.dts,u=r+1;u<d-1;u++)e[u].dts>e[u+1].dts&&(e[u+1].dts=e[u].dts);l.logger.warn("remux video found pts overlap at pts:",n.pts,"timestamp:",(n.pts-l.config.basePTS)/t.timescale,"gap packet number:",u-r,"gap duration:",p),p=0}}else{if(!n.isLast||!c.length)return l.prevVideoPacket=n,o=u,a=p,"break";p=c[c.length-1].duration}var h;0<=p&&(h=[],n.data.forEach((function(e){h.push(E.createAVCCStartCode(e.length),e)})),r=s.concatUint8s(h),c.push({flag:n.isSync?ge.DEPENDS_NO:ge.IS_NON_SYNC|ge.DEPENDS_YES,trackType:z.VIDEO,size:r.byteLength,dts:n.dts,cts:n.pts-n.dts,duration:p,data:r,isSync:n.isSync})),o=u,a=p})(u,p,d,h);p=o,d=a;if("break"===f)break}return c.length&&this.recaculateSample(c[0],this.config.baseDTS),c},hs.prototype.recaculateSample=function(e,t){return t=e.dts-t,e.dts=t,e},hs.prototype.flush=function(){this.prevAudioPacket=void 0,this.prevVideoPacket=void 0};var rs=hs,ns=(cs=function(e,t){return(cs=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)},ds);if("function"!=typeof(jt=ss=Be)&&null!==jt)throw new TypeError("Class extends value "+String(jt)+" is not a constructor or null");function is(){this.constructor=ns}cs(ns,jt),ns.prototype=null===jt?Object.create(jt):(is.prototype=jt.prototype,new is),ds.prototype.end=function(){this.emit("end",void 0)},ds.prototype.pipe=function(e,t){return t?this.on("data",(function(r){return e.write(t(r))})):this.on("data",(function(t){return e.write(t)})),this.on("end",(function(){return e.end()})),e},as=function(e,t){return(as=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)};var os,as,ss,cs,ls=function(){return(ls=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},us=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}as(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(ps,os=x=ds),ps.prototype.remux=function(e,t){var r=this.remuxerMap.get(e);r&&t.length&&this.emit("data",{type:e,buffer:r.createSegment(t).buffer,eos:!!t[t.length-1].isLast})},ps.prototype.eos=function(){var e=this;this.pendingPacketsMap.forEach((function(t,r){e.pendingPacketsMap.delete(r),e.remux(r,t)}))},ps.prototype.writeMetadata=function(e){var t=this;(this.metadata=e).tracks.forEach((function(e){return t.writeTrackMetadata(e)}))},ps.prototype.writeTrackMetadata=function(e){this.eos();var t=this.remuxerMap.get(e.type);t&&(t.updateConfig(ls(ls({},this.metadata),{tracks:[e]})),this.emit("data",{type:e.type,buffer:t.createInitSegment().buffer,eos:!1}))},ps.prototype.write=function(e){var t=this,r=(e=e.packets,this.pendingPacketsMap);e.forEach((function(e){var n=r.get(e.trackType);n?(n.push(e),10<=n.length&&(r.set(e.trackType,[]),t.remux(e.trackType,n))):r.set(e.trackType,[e])}))},ps.prototype.flush=function(){this.remuxerMap.forEach((function(e){return e.flush()})),this.pendingPacketsMap.clear()},ps.prototype.end=function(){this.eos(),os.prototype.end.call(this)},ps);function ps(){var e=os.call(this)||this;return e.remuxerMap=new Map,e.pendingPacketsMap=new Map,e.metadata={},e.remuxerMap.set(z.VIDEO,new rs),e.remuxerMap.set(z.AUDIO,new rs),e}function ds(){return null!==ss&&ss.apply(this,arguments)||this}function hs(){this.logger=new Z("remux"),this.generator=new Ja,this.config={formatType:W.MP4,live:!1,progressive:!1,url:"",basePTS:0,baseDTS:0,timescale:0,duration:0,tracks:[]},this.sequenceNumber=0,this.offset=0,this.videoInited=!1,this.audioInited=!1,this.lastPacketMap=new Map}return n},"object"==typeof r&&"object"==typeof t?t.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof r?r.VideoxMuxer=n():e.VideoxMuxer=n()},{"es6-promise":9}],55:[function(e,t,r){function n(e){for(var t=5381,r=e.length;r;)t=33*t^e.charCodeAt(--r);return(t>>>0).toString()}var i=e("./vttparse");t.exports={parse:function(e,t,r){e=e.trim().replace(/\r\n|\n\r|\n|\r/g,"\n").split("\n");var o,a=[],s=new i;s.oncue=function(e){e.id=n(e.startTime)+n(e.endTime)+n(e.text),e.text=decodeURIComponent(escape(e.text)),e.isBig=!1;var t=e.text.split("#xywh=");2==t.length&&(t=t[1].split(","),e.x=t[0],e.y=t[1],e.w=t[2],e.h=t[3],e.isBig=!0),0<e.endTime&&a.push(e)},s.onparsingerror=function(e){o=e},s.onflush=function(){o&&r?(r(o),console.log(o)):t(a)},e.forEach((function(e){s.parse(e+"\n")})),s.flush()}}},{"./vttparse":57}],56:[function(e,t,r){function n(e){return"string"==typeof e&&!!s[e.toLowerCase()]&&e.toLowerCase()}function i(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)e[r]=n[r]}return e}function o(e,t,r){var o=this,s=(()=>{if("undefined"!=typeof navigator)return/MSIE\s8\.0/.test(navigator.userAgent)})(),c={},l=(s?o=document.createElement("custom"):c.enumerable=!0,o.hasBeenReset=!1,""),u=!1,p=e,d=t,h=r,f=null,y="",g=!0,v="auto",_="start",m=50,b="middle",S=50,T="middle";if(Object.defineProperty(o,"id",i({},c,{get:function(){return l},set:function(e){l=""+e}})),Object.defineProperty(o,"pauseOnExit",i({},c,{get:function(){return u},set:function(e){u=!!e}})),Object.defineProperty(o,"startTime",i({},c,{get:function(){return p},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");p=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"endTime",i({},c,{get:function(){return d},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");d=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"text",i({},c,{get:function(){return h},set:function(e){h=""+e,this.hasBeenReset=!0}})),Object.defineProperty(o,"region",i({},c,{get:function(){return f},set:function(e){f=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"vertical",i({},c,{get:function(){return y},set:function(e){if(e="string"==typeof e&&!!a[e.toLowerCase()]&&e.toLowerCase(),!1===e)throw new SyntaxError("An invalid or illegal string was specified.");y=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"snapToLines",i({},c,{get:function(){return g},set:function(e){g=!!e,this.hasBeenReset=!0}})),Object.defineProperty(o,"line",i({},c,{get:function(){return v},set:function(e){if("number"!=typeof e&&"auto"!==e)throw new SyntaxError("An invalid number or illegal string was specified.");v=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"lineAlign",i({},c,{get:function(){return _},set:function(e){if(e=n(e),!e)throw new SyntaxError("An invalid or illegal string was specified.");_=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"position",i({},c,{get:function(){return m},set:function(e){if(e<0||100<e)throw new Error("Position must be between 0 and 100.");m=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"positionAlign",i({},c,{get:function(){return b},set:function(e){if(e=n(e),!e)throw new SyntaxError("An invalid or illegal string was specified.");b=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"size",i({},c,{get:function(){return S},set:function(e){if(e<0||100<e)throw new Error("Size must be between 0 and 100.");S=e,this.hasBeenReset=!0}})),Object.defineProperty(o,"align",i({},c,{get:function(){return T},set:function(e){if(e=n(e),!e)throw new SyntaxError("An invalid or illegal string was specified.");T=e,this.hasBeenReset=!0}})),o.displayState=void 0,s)return o}var a,s;t.exports="undefined"!=typeof window&&window.VTTCue?window.VTTCue:(a={"":!0,lr:!0,rl:!0},s={start:!0,middle:!0,end:!0,left:!0,right:!0},o.prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)},o)},{}],57:[function(e,t,r){function n(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}}var i=e("./vttcue");function o(){this.window=window,this.state="INITIAL",this.buffer="",this.decoder=new n,this.regionList=[]}function a(){this.values=Object.create(null)}function s(e,t,r,n){var i,o,a=n?e.split(n):[e];for(i in a)"string"==typeof a[i]&&2===(o=a[i].split(r)).length&&t(o[0],o[1])}a.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,r){return r?this.has(e)?this.values[e]:t[r]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,r){for(var n=0;n<r.length;++n)if(t===r[n]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&0<=(t=parseFloat(t))&&t<=100)&&(this.set(e,t),!0)}};var c=new i(0,0,0),l="middle"===c.align?"middle":"center";function u(e,t,r){var n,i,o=e;function u(){var t,r=(r=(r=e).match(/^(\d+):(\d{2})(:\d{2})?(\.\d{3})?/))?(t=(t=r[4])&&t.replace(".",""),r[3]?n(r[1],r[2],r[3].replace(":",""),t):59<r[1]?n(r[1],r[2],0,t):n(0,r[1],r[2],t)):null;function n(e,t,r,n){return 3600*(0|e)+60*(0|t)+(0|r)+(0|n)/1e3}if(null===r)throw new Error("Malformed timestamp: "+o);return e=e.replace(/^[^\sa-zA-Z-]+/,""),r}function p(){e=e.replace(/^\s+/,"")}if(p(),t.startTime=u(),p(),"--\x3e"!==e.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+o);e=e.substr(3),p(),t.endTime=u(),p(),n=e,i=new a,s(n,(function(e,t){switch(e){case"region":for(var n=r.length-1;0<=n;n--)if(r[n].id===t){i.set(e,r[n].region);break}break;case"vertical":i.alt(e,t,["rl","lr"]);break;case"line":var o=t.split(","),a=o[0];i.integer(e,a),i.percent(e,a)&&i.set("snapToLines",!1),i.alt(e,a,["auto"]),2===o.length&&i.alt("lineAlign",o[1],["start",l,"end"]);break;case"position":o=t.split(","),i.percent(e,o[0]),2===o.length&&i.alt("positionAlign",o[1],["start",l,"end","line-left","line-right","auto"]);break;case"size":i.percent(e,t);break;case"align":i.alt(e,t,["start",l,"end","left","right"])}}),/:/,/\s/),t.region=i.get("region",null),t.vertical=i.get("vertical",""),"auto"===(n=i.get("line","auto"))&&-1===c.line&&(n=-1),t.line=n,t.lineAlign=i.get("lineAlign","start"),t.snapToLines=i.get("snapToLines",!0),t.size=i.get("size",100),t.align=i.get("align",l),"auto"===(n=i.get("position","auto"))&&50===c.position&&(n="start"===t.align||"left"===t.align?0:"end"===t.align||"right"===t.align?100:50),t.position=n}o.prototype={parse:function(e){var t=this;function r(){for(var e=0,r=(r=t.buffer).replace(/<br(?: \/)?>/gi,"\n");e<r.length&&"\r"!==r[e]&&"\n"!==r[e];)++e;var n=r.substr(0,e);return"\r"===r[e]&&++e,"\n"===r[e]&&++e,t.buffer=r.substr(e),n}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;var n,o=(n=r()).match(/^WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new Error("Malformed WebVTT signature.");t.state="HEADER"}for(var a=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(a?a=!1:n=r(),t.state){case"HEADER":/:/.test(n)?s(n,(function(e,t){"Region"===e&&console.log("parse region",t)}),/:/):n||(t.state="ID");continue;case"NOTE":n||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(n)){t.state="NOTE";break}if(!n)continue;if(t.cue=new i(0,0,""),t.state="CUE",-1===n.indexOf("--\x3e")){t.cue.id=n;continue}case"CUE":try{u(n,t.cue,t.regionList)}catch(e){t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var c=-1!==n.indexOf("--\x3e");if(!n||c&&(a=!0)){t.oncue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}t.cue.text&&(t.cue.text+="\n"),t.cue.text+=n;continue;case"BADCUE":n||(t.state="ID");continue}}}catch(e){"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),!this.cue&&"HEADER"!==this.state||(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new Error("Malformed WebVTT signature.")}catch(e){throw e}return this.onflush&&this.onflush(),this}},t.exports=o},{"./vttcue":56}],58:[function(e,t,r){function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)!{}.hasOwnProperty.call(n,r)||(e[r]=n[r])}return e}).apply(null,arguments)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(e=>"symbol"==typeof(e=((e,t)=>{if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);if("object"!=typeof(r=r.call(e,t||"default")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"))?e:e+"")(n.key),n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var a=e("./vtt-parser"),s=e("./vtt-renderer"),c=e("./vtt-loader"),l=e("../../player/base/event/eventtype"),u=e("../../lib/ua"),p=e("../../lib/event"),d=e("../../ui/component/util"),h=s.CTR_BAR_HEIGHT,f=(e=(()=>{function e(e){this.parser=null,this.activeRenderer=null,this.trackConfigs=null,this.hasUserTracks=!1,this.vttText={},this.tickTimer=null,this.prevPosition=null,this._enabled=!1,this._isShow=!1,this.sleeper=new f,this.player=(e=e||{}).player,this.loader=new c,this.parser=new a,this.createRendererInstance(),this.bindEvents()}var t=e.prototype;return t.bindEvents=function(){function e(e){e.paramData.splayer&&r.switchRenderer(s.VttBasicRenderer.RENDER_TYPE_CUSTOM)}var t,r=this,i=this,o=this.player,a=(o.on(l.Private.TextTrackFounded,(function(e){if("user"===e.paramData.from)r.hasUserTracks=!0;else if(r.hasUserTracks)return;e=e.paramData.textTracks,e&&e.length&&(r.enabled=!0,r.trackConfigs=e.map((function(e){return n({},e,{label:e.label||e.srclang,language:e.srclang})})),r.trackConfigs.forEach((function(e){r.activeRenderer.addTrack(e),"always"===o.getOptions().controlBarVisibility&&r.activeRenderer.forceUpdateCuesStyle({transform:"translateY(-"+h+"px)"},r.parser.cues)})))})),o.on(l.Private.UserTrackReset,(function(){r.hasUserTracks=!1})),o.on(l.Player.H265PlayInfo,e),o.on(l.Player.H266PlayInfo,e),u.IS_IOS?(t=!1,o.on(l.Player.RequestFullScreen,(function(){t=!0})),p.on(o.tag,"webkitendfullscreen",(function(){t=!1})),p.on(o.tag.textTracks,"change",(function(){var e;r.sleeper.isSleep||(r.sleeper.sleep(1e3),r.isCustomRenderer)||t&&(e=o.tag.textTracks,(e=Array.from(e).find((function(e){return"showing"===e.mode})))?r.activeTrackConfig&&r.activeTrackConfig.language===e.language||(r.switchTrack(e.language),o.trigger(l.Private.SelectorValueChange,{type:"cc",text:e.label})):o.trigger(l.Private.CCStateChanged,{value:"off",lang:""}))}))):(o.on(l.Player.RequestFullScreen,this.adjustLayout.bind(this)),o.on(l.Player.CancelFullScreen,this.adjustLayout.bind(this)),a=d.debounce((function(){i.isCustomRenderer&&i.activeRenderer.resetCuesStyle(r.parser.cues)}),100),p.on(window,"resize",a)),d.throttle((function(){i.isShow&&(i.activeRenderer.forceUpdateCuesStyle({transform:"translateY(-"+h+"px)"},i.parser.cues),i.isCustomRenderer)&&i.player.paused()&&(i.activeRenderer.hide(),i.activeRenderer.restore())}),100));o.on(l.Private.ShowBar,a),a=d.throttle((function(){i.isShow&&(i.activeRenderer.forceUpdateCuesStyle({transform:"none"},i.parser.cues),i.isCustomRenderer)&&i.player.paused()&&(i.activeRenderer.hide(),i.activeRenderer.restore())}),100);o.on(l.Private.HideBar,a),o.on(l.Private.VttHide,(function(){r.hide()})),o.on(l.Private.VttSwitchTrack,(function(e){r.switchTrack(e.paramData)})),o.on(l.Private.VttClearTracks,(function(){r.reset()}))},t.createRendererInstance=function(e){this.activeRenderer&&this.activeRenderer.dispose();var t=this.player.getOptions(),r={player:this.player};this.adaptPlatform(),e?e===s.VttBasicRenderer.RENDER_TYPE_NATIVE?this.activeRenderer=new s.NativeRenderer(r):(r.overlayId=this.getOverlayId(),this.activeRenderer=new s.CustomRenderer(r)):t.useNativeTextRenderer?this.activeRenderer=new s.NativeRenderer(r):(r.overlayId=this.getOverlayId(),this.activeRenderer=new s.CustomRenderer(r))},t.switchTrack=function(e){var t,r=this;this.trackConfigs&&this.trackConfigs.length&&(this.activeTrackConfig&&(this.parser.dispose(),this.parser=new a,this.activeRenderer.clearTrack(this.activeTrackConfig.language),this.activeRenderer.hide()),this.activeTrackConfig=e,t=this.trackConfigs.find((function(t){return t.language===e})))&&(t=t._loaded?"":(t||{}).src,this.loadVtt(t,(function(){r.parseVtt(),r.activeRenderer.addCues(r.parser.cues,r.activeTrackConfig.language),r.show()})))},t.adaptPlatform=function(){var e=this.player.getOptions();u.IS_IOS&&(e.useNativeTextRenderer=!0)},t.loadVtt=function(e,t){var r=this;e?this.loader.loadFromUrl(e,(function(e){r.activeTrackConfig._loaded=!0,r.vttText[r.activeTrackConfig.language]=e,t&&t()})):t&&t()},t.show=function(){this._isShow=!0,this.isCustomRenderer&&this.startTickTimeListener(),this.activeRenderer.show(this.activeTrackConfig.language);var e=this.player.el().getElementsByClassName("prism-controlbar")[0];e&&"block"===(null==(e=e.style)?void 0:e.display)&&this.activeRenderer.forceUpdateCuesStyle({transform:"translateY(-"+h+"px)"},this.parser.cues)},t.hide=function(){this._isShow=!1,this.clearTicker(),this.activeRenderer.hide()},t.switchRenderer=function(e){var t=this,r=s.VttBasicRenderer.RENDER_TYPE_NATIVE,n=s.VttBasicRenderer.RENDER_TYPE_CUSTOM;(e===r&&this.activeRenderer.type!==r||e===n&&this.activeRenderer.type!==n)&&(this.createRendererInstance(e),this.trackConfigs.forEach((function(e){return t.activeRenderer.addTrack(e)})),this.activeRenderer.addCues(this.parser.cues,this.activeTrackConfig.language),this.show())},t.parseVtt=function(){this.parser.parse(this.vttText[this.activeTrackConfig.language])},t.adjustLayout=function(){var e=this;this.isShow&&this.isCustomRenderer&&(this.activeRenderer.hide(),setTimeout((function(){e.activeRenderer.restore()}),300))},t.startTickTimeListener=function(){var e=this;this.clearTicker(),this.tick((function(){var t=e.player.getCurrentTime();isNaN(t)||e.activeRenderer.renderCues(e.findTargetCues(t))}))},t.tick=function(e){var t=this;this.tickTimer=requestAnimationFrame((function(){try{e()}catch(e){console.log("e",e)}t.tick(e)}))},t.clearTicker=function(){this.tickTimer&&(cancelAnimationFrame(this.tickTimer),this.tickTimer=null)},t.getOverlayId=function(){var e=(this.player.el().getElementsByClassName("prism-text-overlay")||[])[0];if(e)return e.id},t.findTargetCues=function(e){if(this.parser&&e!==this.prevPosition){this.prevPosition=e;for(var t=[],r=0;r<this.parser.cues.length;r++){var n=this.parser.cues[r];if(e>=n.startTime&&e<=n.endTime)t.push(n);else if(e<n.startTime)break}return t}},t.reset=function(){this.clearTicker(),this.parser&&this.parser.reset(),this.activeRenderer&&this.activeRenderer.reset()},t.dispose=function(){this.clearTicker(),this.parser&&(this.parser.dispose(),this.parser=null),this.activeRenderer&&(this.activeRenderer.dispose(),this.activeRenderer=null),this.trackConfigs=null,this.hasUserTracks=!1,this.vttText={},this.prevPosition=null,this._enabled=!1,this._isShow=!1},o(e,[{key:"isShow",get:function(){return this._isShow}},{key:"enabled",get:function(){return this._enabled},set:function(e){this._enabled=e}},{key:"isCustomRenderer",get:function(){if(this.activeRenderer)return this.activeRenderer.type===s.VttBasicRenderer.RENDER_TYPE_CUSTOM}},{key:"activeTrackConfig",get:function(){var e;return null==(e=this.trackConfigs)?void 0:e.find((function(e){return e._isActive}))},set:function(e){this.trackConfigs.forEach((function(t){return t._isActive=t.language===e}))}}])})(),(()=>{function e(){this.value=!1,this.timer=null}return e.prototype.sleep=function(e){var t=this;this.timer&&clearTimeout(this.timer),this.value=!0,this.timer=setTimeout((function(){t.value=!1}),e)},o(e,[{key:"isSleep",get:function(){return this.value}}])})());t.exports=e},{"../../lib/event":36,"../../lib/ua":51,"../../player/base/event/eventtype":71,"../../ui/component/util":166,"./vtt-loader":60,"./vtt-parser":61,"./vtt-renderer":62}],59:[function(e,t,r){function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)!{}.hasOwnProperty.call(n,r)||(e[r]=n[r])}return e}).apply(null,arguments)}function i(e,t){e.prototype=Object.create(t.prototype),o(e.prototype.constructor=e,t)}function o(e,t){return(o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(e=>"symbol"==typeof(e=((e,t)=>{if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);if("object"!=typeof(r=r.call(e,t||"default")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"))?e:e+"")(n.key),n)}}function s(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var c=e("../../lib/data"),l={DISABLED:"disabled",SHOWING:"showing",HIDDEN:"hidden"},u={SUBTITLES:"subtitles",CAPTIONS:"captions",DESCRIPTIONS:"descriptions",METADATA:"metadata",CHAPTERS:"chapters"},p=(e=(e=>{function t(t){t=n({},t=void 0===t?{}:t,{kind:t.kind||u.SUBTITLES,language:t.language||t.srclang||""});var r=t.mode||l.DISABLED;return-1<[u.METADATA,u.CHAPTERS].indexOf(t.kind)&&(r=l.HIDDEN),t.mode=r,(r=e.call(this,t)||this)._cues=[],r._activeCues=[],r._settings={},r._nativeTrack=null,r._extData={},r._settings=t,r}i(t,e);var r=t.prototype;return r.setExtData=function(e){this._extData=n({},this._extData,e=void 0===e?{}:e)},r.addCue=function(e){this._cues.push(e),this.nativeTrack&&this.nativeTrack.addCue(e)},r.removeCue=function(e){this._cues=this._cues.filter((function(t){return t!==e})),this.nativeTrack&&this.nativeTrack.removeCue(e)},s(t,[{key:"default",get:function(){return this._settings.default}},{key:"mode",get:function(){return this._settings.mode},set:function(e){this._settings.mode=e,this.nativeTrack&&(this.nativeTrack.mode=e)}},{key:"language",get:function(){return this._settings.language},set:function(e){this._settings.language=e,this.nativeTrack&&(this.nativeTrack.language=e)}},{key:"cues",get:function(){return this._cues}},{key:"activeCues",get:function(){return this._activeCues}},{key:"nativeTrack",get:function(){return this._nativeTrack},set:function(e){this._nativeTrack=e}}])})((()=>s((function(e){this._id=(e=void 0===e?{}:e).id||"prism-track-"+c.guid(),this._kind=e.kind||"",this._language=e.language||"",this._label=e.label||""}),[{key:"label",get:function(){return this._label},set:function(e){this._label=e}},{key:"id",get:function(){return this._id}},{key:"kind",get:function(){return this._kind}},{key:"language",get:function(){return this._language}}]))()),(e=>{function t(){return e.call(this)||this}return i(t,e),t})((()=>{function e(){this._trackList=[]}return e.prototype.addTrack=function(e){var t=this.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this._trackList[t]}}),-1===this._trackList.indexOf(e)&&this._trackList.push(e)},s(e,[{key:"length",get:function(){return this._trackList.length}},{key:"list",get:function(){return this._trackList}}])})()));t.exports.TextTrack=e,t.exports.TextTrackList=p,t.exports.TRACK_MODE=l,t.exports.TRACK_KIND=u},{"../../lib/data":33}],60:[function(e,t,r){var n=e("../io");t.exports=(()=>{function e(){}return e.prototype.loadFromUrl=function(e,t){n.get(e,(function(e){t(e)}),(function(e,t){console.log("ERR",e,t)}))},e})()},{"../io":43}],61:[function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(e=>"symbol"==typeof(e=((e,t)=>{if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);if("object"!=typeof(r=r.call(e,t||"default")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"))?e:e+"")(n.key),n)}}var i=e("./vttjs").WebVTT;e=(()=>{function e(){var e=this;this._cues=[],this._regions=[],this.parser=new i.Parser(window,i.StringDecoder()),this.parser.onregion=function(t){e._regions.push(t)},this.parser.oncue=function(t){e._cues.push(t)},this.parser.onflush=function(){},this.parser.onparsingerror=function(e){}}var t,r,o=e.prototype;return o.parse=function(e){this.parser.parse(e),this.parser.flush()},o.reset=function(){this.parser.flush(),this._cues=[],this._regions=[]},o.dispose=function(){this.parser.flush(),this.parser=null,this._cues=[],this._regions=[]},o=e,(t=[{key:"cues",get:function(){return this._cues}}])&&n(o.prototype,t),r&&n(o,r),Object.defineProperty(o,"prototype",{writable:!1}),o})();t.exports=e},{"./vttjs":63}],62:[function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(e=>"symbol"==typeof(e=((e,t)=>{if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);if("object"!=typeof(r=r.call(e,t||"default")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")})(e,"string"))?e:e+"")(n.key),n)}}function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)!{}.hasOwnProperty.call(n,r)||(e[r]=n[r])}return e}).apply(null,arguments)}function o(e,t){e.prototype=Object.create(t.prototype),a(e.prototype.constructor=e,t)}function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}e("../../player/base/event/eventtype");var s=e("./text-track"),c=e("./vttjs").WebVTT,l=e("../../lib/dom"),u=s.TextTrack,p=s.TextTrackList,d=s.TRACK_MODE,h=(s.TRACK_KIND,(()=>{function e(e){this.player=null,this.type=null,this.trackList=null,this.overrideStyle={},this.player=(e=e||{}).player,this.defineTextTrackGetter(),this.trackList=new p}var t=e.prototype;return t.log=function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];(e=console).log.apply(e,["[LOG:"+this.type+"]"].concat(r))},t.defineTextTrackGetter=function(){var e=this;this.player.getTextTracks=function(){return e.trackList||[]}},t.show=function(e){e=this.findTrackByLanguage(e),e&&(e.mode=d.SHOWING)},t.findTrackByLanguage=function(e){return this.trackList.list.find((function(t){return t.language===e}))},t.clearCurrentCues=function(e){if(e){var t=e.mode;if(t===d.DISABLED&&(e.mode=d.HIDDEN),e.cues)for(var r=e.cues.length;r--;)e.removeCue(e.cues[r]);t===d.DISABLED&&(e.mode=t)}},t.addTrack=function(){},t.addCues=function(){},t.restore=function(){},t.renderCues=function(){},t.updateCuesStyle=function(){},t.clearTrack=function(e){this.clearCurrentCues(this.findTrackByLanguage(e))},t.clearAllTracks=function(){var e=this;this.trackList&&this.trackList.length&&this.trackList.list.forEach((function(t){t.mode=d.DISABLED,e.clearCurrentCues(t)})),this.trackList=new p},t.reset=function(){this.hide(),this.clearAllTracks()},t.dispose=function(){this.hide(),this.clearAllTracks(),this.player&&this.player.getTextTracks&&(this.player.getTextTracks=null),this.player=null,this.type=null},e})());h.RENDER_TYPE_CUSTOM="CUSTOM",h.RENDER_TYPE_NATIVE="NATIVE",e=(e=>{function t(t){var r=e.call(this,t)||this;return r.overlayId=null,r.currentCues=null,t=t||{},r.type=h.RENDER_TYPE_CUSTOM,r.overlayId=t.overlayId,r}o(t,e);var r=t.prototype;return r.addTrack=function(e){var t=new u({kind:e.kind,label:e.label,language:e.language,default:e.default});t.mode=e.default?d.SHOWING:d.DISABLED,this.trackList.addTrack(t)},r.hide=function(){return c.processCues(window,[],document.getElementById(this.overlayId))},r.restore=function(){this.currentCues&&(this.currentCues.forEach((function(e){return e.displayState=null})),c.processCues(window,this.currentCues,this.overlayEl),this.updateCuesStyle(this.currentCues))},r.renderCues=function(e){e&&(this.currentCues=e,this.overlayEl||(this.overlayEl=document.getElementById(this.overlayId)),c.processCues(window,e,this.overlayEl),this.updateCuesStyle(e))},r.updateCuesStyle=function(e){var t=this;e.forEach((function(e){var r,n=e.displayState;n._styleSetDone||n&&(n.setAttribute("class","prism-cue"),t.overlayEl||(t.overlayEl=document.getElementById(t.overlayId)),e=t.overlayEl.offsetWidth,r=t.overlayEl.offsetHeight,(e=Math.min(e,r))&&(n.style.fontSize=.05*e+"px",n.style.height="auto",n.style.top="auto"),44<((e,t)=>(e=e.getBoundingClientRect(),t.getBoundingClientRect().bottom-e.bottom))(n,t.overlayEl)&&(t.overrideStyle.transform="none"),Object.keys(t.overrideStyle).forEach((function(e){t.tryUpdateStyle(n,e,t.overrideStyle[e])})),n._styleSetDone=!0)}))},r.updateOverrideStyle=function(e){this.overrideStyle=i({},this.overrideStyle,e=void 0===e?{}:e)},r.forceUpdateCuesStyle=function(e,t){void 0===t&&(t=[]),this.updateOverrideStyle(e=void 0===e?{}:e),this.resetCuesStyle(t)},r.tryUpdateStyle=function(e,t,r){try{e.style[t]=r}catch(e){}},r.resetCuesStyle=function(e){e&&e.length&&e.forEach((function(e){e.displayState&&(e.displayState=null)}))},r.dispose=function(){e.prototype.dispose.call(this),this.overlayId=null,this.currentCues=null},t})(h),s=(e=>{function t(t){return(t=e.call(this,t=void 0===t?{}:t)||this).type=h.RENDER_TYPE_NATIVE,t}o(t,e);var r,i,a=t.prototype;return a.addTrack=function(e){var t=this.player.tag,r=Array.from(t.textTracks)||[],n=r.find((function(t){return t.language===e.language}));r=n?(this.log("sameLangTrack",n,r),this.clearCurrentCues(n),n.kind=e.kind,n.label=e.label,n):t.addTextTrack(e.kind,e.label,e.language),r.mode=e.default?d.SHOWING:d.DISABLED,n=new u(e);n.nativeTrack=r,this.trackList.addTrack(n)},a.addCues=function(e,t){var r;e&&e.length&&(r=this.trackList.list.find((function(e){return e.language===t})))&&e.forEach((function(e){r.addCue(e)}))},a.hide=function(){this.trackList.list.forEach((function(e){e.mode=e.mode===d.SHOWING?d.HIDDEN:e.mode}))},a.invalidAllTracks=function(){},a.forceUpdateCuesStyle=function(e,t){l.addCssByStyle("video::-webkit-media-text-track-container{transform: "+e.transform+";}")},a.dispose=function(){e.prototype.dispose.call(this)},a=t,(r=[{key:"activeTrack",get:function(){return this.trackList.list.find((function(e){return e.mode===d.SHOWING}))}}])&&n(a.prototype,r),i&&n(a,i),Object.defineProperty(a,"prototype",{writable:!1}),a})(h);t.exports.VttBasicRenderer=h,t.exports.CustomRenderer=e,t.exports.NativeRenderer=s,t.exports.CTR_BAR_HEIGHT=44},{"../../lib/dom":35,"../../player/base/event/eventtype":71,"./text-track":59,"./vttjs":63}],63:[function(e,t,r){t.exports={WebVTT:e("./vtt.js").WebVTT}},{"./vtt.js":64}],64:[function(e,t,r){var n=this;function i(e,t){return void 0===t&&(t=1),"rgba("+[parseInt(e.substring(0,2),16),parseInt(e.substring(2,4),16),parseInt(e.substring(4,6),16),t].join(",")+")"}var o,a=1;function s(e,t,r){switch(r){case"webvtt.font.color":case"webvtt.font.opacity":var n=Services.prefs.getCharPref("webvtt.font.color"),s=Services.prefs.getIntPref("webvtt.font.opacity")/100;o.fontSet=i(n,s);break;case"webvtt.font.scale":a=Services.prefs.getIntPref("webvtt.font.scale")/100;break;case"webvtt.bg.color":case"webvtt.bg.opacity":n=Services.prefs.getCharPref("webvtt.bg.color"),s=Services.prefs.getIntPref("webvtt.bg.opacity")/100,o.backgroundSet=i(n,s);break;case"webvtt.edge.color":case"webvtt.edge.type":n=Services.prefs.getIntPref("webvtt.edge.type"),s=Services.prefs.getCharPref("webvtt.edge.color"),o.edgeSet=["","0px 0px ","4px 4px 4px ","-2px -2px ","2px 2px "][n]+i(s)}}"undefined"!=typeof Services&&(o={},["webvtt.font.color","webvtt.font.opacity","webvtt.font.scale","webvtt.bg.color","webvtt.bg.opacity","webvtt.edge.color","webvtt.edge.type"].forEach((function(e){s(0,0,e),Services.prefs.addObserver(e,s,!1)})));var c=Object.create||function(e){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return l.prototype=e,new l};function l(){}function u(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function p(e){function t(e,t,r,n){return 3600*(0|e)+60*(0|t)+(0|r)+(0|n)/1e3}return e=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/),e?e[3]?t(e[1],e[2],e[3].replace(":",""),e[4]):59<e[1]?t(e[1],e[2],0,e[4]):t(0,e[1],e[2],e[4]):null}function d(){this.values=c(null)}function h(e,t,r,n){var i,o,a=n?e.split(n):[e];for(i in a)"string"==typeof a[i]&&2===(o=a[i].split(r)).length&&t(o[0],o[1])}((u.prototype=c(Error.prototype)).constructor=u).Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},d.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,r){return r?this.has(e)?this.values[e]:t[r]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,r){for(var n=0;n<r.length;++n)if(t===r[n]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&0<=(t=parseFloat(t))&&t<=100)&&(this.set(e,t),!0)}};var f={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"‎","&rlm;":"‏","&nbsp;":" "},y={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},g={v:"title",lang:"lang"},v={rt:"ruby"};function _(e,t){function r(e){return f[e]}for(var n,i,o,a,s,c,l,u=e.document.createElement("div"),d=u,h=[];null!==(l=void 0,l=t?(l=(l=t.match(/^([^<]*)(<[^>]*>?)?/))[1]||l[2],t=t.substr(l.length),l):null);)"<"===l[0]?"/"===l[1]?h.length&&h[h.length-1]===l.substr(2).replace(">","")&&(h.pop(),d=d.parentNode):(o=p(l.substr(1,l.length-2)))?(n=e.document.createProcessingInstruction("timestamp",o),d.appendChild(n)):(i=l.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/))&&(o=i[1],a=i[3],c=s=void 0,c=y[o],n=c?((s=e.document.createElement(c)).localName=c,(c=g[o])&&a&&(s[c]=a.trim()),s):null)&&(o=d,v[(c=n).localName]&&v[c.localName]!==o.localName||(i[2]&&(n.className=i[2].substr(1).replace("."," ")),h.push(i[1]),d.appendChild(n),d=n)):d.appendChild(e.document.createTextNode((e=>{for(;i=e.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)e=e.replace(i[0],r);return e})(l)));return u}var m=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function b(e){var t=[],r="";if(e&&e.childNodes)for(i(t,e);r=function e(t){var r,n,o;return t&&t.length?(n=(r=t.pop()).textContent||r.innerText)?(o=n.match(/^.*(\n|\r)/))?o[t.length=0]:n:"ruby"===r.tagName?e(t):r.childNodes?(i(t,r),e(t)):void 0:null}(t);)for(var n=0;n<r.length;n++)if((e=>{for(var t=0;t<m.length;t++){var r=m[t];if(e>=r[0]&&e<=r[1])return 1}})(r.charCodeAt(n)))return"rtl";return"ltr";function i(e,t){for(var r=t.childNodes.length-1;0<=r;r--)e.push(t.childNodes[r])}}function S(){}function T(e,t,r){var n="undefined"!=typeof navigator&&/MSIE\s8\.0/.test(navigator.userAgent),i="rgba(255, 255, 255, 1)",a="rgba(0, 0, 0, 0.8)",s="",c=(i=(void 0!==o&&(i=o.fontSet,a=o.backgroundSet,s=o.edgeSet),n&&(i="rgb(255, 255, 255)",a="rgb(0, 0, 0)"),S.call(this),this.cue=t,this.cueDiv=_(e,t.text),{color:i,backgroundColor:a,textShadow:s,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"}),n||(i.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",i.unicodeBidi="plaintext"),this.applyStyles(i,this.cueDiv),this.div=e.document.createElement("div"),i={textAlign:"middle"===t.align?"center":t.align,font:r.font,whiteSpace:"pre-line",position:"absolute"},n||(i.direction=b(this.cueDiv),i.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(i),this.div.appendChild(this.cueDiv),0);switch(t.positionAlign){case"start":c=t.position;break;case"middle":c=t.position-t.size/2;break;case"end":c=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(c,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(c,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function w(e){var t,r,n,i,o="undefined"!=typeof navigator&&/MSIE\s8\.0/.test(navigator.userAgent);e.div&&(t=e.div.offsetHeight,r=e.div.offsetWidth,n=e.div.offsetTop,i=(i=(i=e.div.childNodes)&&i[0])&&i.getClientRects&&i.getClientRects(),e=e.div.getBoundingClientRect(),i=i?Math.max(i[0]&&i[0].height||0,e.height/i.length):0),this.left=e.left,this.right=e.right,this.top=e.top||n,this.height=e.height||t,this.bottom=e.bottom||n+(e.height||t),this.width=e.width||r,this.lineHeight=void 0!==i?i:e.lineHeight,o&&!this.lineHeight&&(this.lineHeight=13)}function E(e,t,r,n){var i,o=new w(t),a=t.cue,s=(e=>{if("number"==typeof e.line&&(e.snapToLines||0<=e.line&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,r=t.textTrackList,n=0,i=0;i<r.length&&r[i]!==t;i++)"showing"===r[i].mode&&n++;return-1*++n})(a),c=[];if(a.snapToLines){switch(a.vertical){case"":c=["+y","-y"],i="height";break;case"rl":c=["+x","-x"],i="width";break;case"lr":c=["-x","+x"],i="width"}var l=o.lineHeight,u=l*Math.round(s),p=r[i]+l,d=c[0];Math.abs(u)>p&&(u=u<0?-1:1,u*=Math.ceil(p/l)*l),s<0&&(u+=""===a.vertical?r.height:r.width,c=c.reverse()),o.move(d,u)}else{var h=o.lineHeight/r.height*100;switch(a.lineAlign){case"middle":s-=h/2;break;case"end":s-=h}switch(a.vertical){case"":t.applyStyles({top:t.formatStyle(s,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(s,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(s,"%")})}c=["+y","-x","+x","-y"],o=new w(t)}p=((e,t)=>{for(var i,o=new w(e),a=1,s=0;s<t.length;s++){for(;e.overlapsOppositeAxis(r,t[s])||e.within(r)&&e.overlapsAny(n);)e.move(t[s]);if(e.within(r))return e;var c=e.intersectPercentage(r);c<a&&(i=new w(e),a=c),e=new w(o)}return i||o})(o,c),t.move(p.toCSSCompatValues(r))}function x(){}S.prototype.applyStyles=function(e,t){for(var r in t=t||this.div,e)e.hasOwnProperty(r)&&(t.style[r]=e[r])},S.prototype.formatStyle=function(e,t){return 0===e?0:e+t},(T.prototype=c(S.prototype)).constructor=T,w.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},w.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},w.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},w.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},w.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},w.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},w.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},w.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,r=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,n=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||n,height:e.height||t,bottom:e.bottom||n+(e.height||t),width:e.width||r}},x.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},x.convertCueToDOMTree=function(e,t){return e&&t?_(e,t):null},x.processCues=function(e,t,r){if(!e||!t||!r)return null;for(;r.firstChild;)r.removeChild(r.firstChild);var n=e.document.createElement("div");if(n.style.position="absolute",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.margin="1.5%",r.appendChild(n),(e=>{for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return 1})(t))for(var i,o,s=[],c=w.getSimpleBoxPosition(n),l={font:Math.round(.05*c.height*100)/100*a+"px sans-serif"},u=0;u<t.length;u++)i=new T(e,o=t[u],l),n.appendChild(i.div),E(0,i,c,s),o.displayState=i.div,s.push(w.getSimpleBoxPosition(i));else for(var p=0;p<t.length;p++)n.appendChild(t[p].displayState)},(x.Parser=function(e,t){this.window=e,this.state="INITIAL",this.buffer="",this.decoder=t||new TextDecoder("utf8"),this.regionList=[]}).prototype={reportOrThrowError:function(e){if(!(e instanceof u))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){var t=this;function r(){for(var e=t.buffer,r=0;r<e.length&&"\r"!==e[r]&&"\n"!==e[r];)++r;var n=e.substr(0,r);return"\r"===e[r]&&++r,"\n"===e[r]&&++r,t.buffer=e.substr(r),n}function n(e){h(e,(function(e,r){var n;"Region"===e&&(e=r,n=new d,h(e,(function(e,t){switch(e){case"id":n.set(e,t);break;case"width":n.percent(e,t);break;case"lines":n.integer(e,t);break;case"regionanchor":case"viewportanchor":var r,i=t.split(",");2===i.length&&((r=new d).percent("x",i[0]),r.percent("y",i[1]),r.has("x")&&r.has("y"))&&(n.set(e+"X",r.get("x")),n.set(e+"Y",r.get("y")));break;case"scroll":n.alt(e,t,["up"])}}),/=/,/\s/),n.has("id"))&&((e=new t.window.VTTRegion).width=n.get("width",100),e.lines=n.get("lines",3),e.regionAnchorX=n.get("regionanchorX",0),e.regionAnchorY=n.get("regionanchorY",100),e.viewportAnchorX=n.get("viewportanchorX",0),e.viewportAnchorY=n.get("viewportanchorY",100),e.scroll=n.get("scroll",""),t.onregion&&t.onregion(e),t.regionList.push({id:n.get("id"),region:e}))}),/:/)}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;var i,o=(i=r()).match(/^WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new u(u.Errors.BadSignature);t.state="HEADER"}for(var a=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(a?a=!1:i=r(),t.state){case"HEADER":/:/.test(i)?n(i):i||(t.state="ID");continue;case"NOTE":i||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(i)){t.state="NOTE";break}if(!i)continue;if(t.cue=new t.window.VTTCue(0,0,""),t.state="CUE",-1===i.indexOf("--\x3e")){t.cue.id=i;continue}case"CUE":try{((e,t,r)=>{var n=e;function i(){var t=p(e);if(null===t)throw new u(u.Errors.BadTimeStamp,"Malformed timestamp: "+n);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function o(){e=e.replace(/^\s+/,"")}if(o(),t.startTime=i(),o(),"--\x3e"!==e.substr(0,3))throw new u(u.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+n);e=e.substr(3),o(),t.endTime=i(),o();var a=e,s=new d;h(a,(function(e,t){switch(e){case"region":for(var n=r.length-1;0<=n;n--)if(r[n].id===t){s.set(e,r[n].region);break}break;case"vertical":s.alt(e,t,["rl","lr"]);break;case"line":var i=t.split(","),o=i[0];s.integer(e,o),s.percent(e,o)&&s.set("snapToLines",!1),s.alt(e,o,["auto"]),2===i.length&&s.alt("lineAlign",i[1],["start","middle","end"]);break;case"position":i=t.split(","),s.percent(e,i[0]),2===i.length&&s.alt("positionAlign",i[1],["start","middle","end"]);break;case"size":s.percent(e,t);break;case"align":s.alt(e,t,["start","middle","end","left","right"])}}),/:/,/\s/),t.region=s.get("region",null),t.vertical=s.get("vertical","");try{t.line=s.get("line","auto")}catch(i){}t.lineAlign=s.get("lineAlign","start"),t.snapToLines=s.get("snapToLines",!0),t.size=s.get("size",100);try{t.align=s.get("align","center")}catch(i){t.align=s.get("align","middle")}try{t.position=s.get("position","auto")}catch(i){t.position=s.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},t.align)}t.positionAlign=s.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},t.align)})(i,t.cue,t.regionList)}catch(e){t.reportOrThrowError(e),t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var s=-1!==i.indexOf("--\x3e");if(!i||s&&(a=!0)){t.oncue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}t.cue.text&&(t.cue.text+="\n"),t.cue.text+=i;continue;case"BADCUE":i||(t.state="ID");continue}}}catch(e){t.reportOrThrowError(e),"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),!t.cue&&"HEADER"!==t.state||(t.buffer+="\n\n",t.parse()),"INITIAL"===t.state)throw new u(u.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}},n.WebVTT=x},{}],65:[function(e,t,r){var n=e("../lib/io");function i(e){var t;this._uploadDuration=e.logDuration||5,this._uploadCount=e.logCount||10,this._logReportTo=e.logReportTo,this._dumpLogReportTo=e.dumpLogReportTo,this._logs=[],this._retry=0,this._disposed=!1,this._supportLocalStorage=!0;try{localStorage?(t=localStorage.getItem("__aliplayer_log_data"),localStorage.removeItem("__aliplayer_log_data"),t&&(this._logs=JSON.parse(t))):this._supportLocalStorage=!1}catch(e){this._supportLocalStorage=!1}this._start()}e("../lib/storage"),i.prototype.add=function(e){var t=this._logs.length;if(e.__time__=Math.round(new Date/1e3),0<t&&"4001"==e.e){t=this._logs[t-1];if("4001"==t.e&&t.__time__-e.__time__<5)return}this._logs.push(e),(this._logs.length>this._uploadCount||"4001"==e.e||"2002"==e.e||"9002"==e.e&&null!=(t=e.args)&&t.includes("dump::"))&&this._report()},i.prototype.dispose=function(){this._report(),this._disposed=!0},i.prototype._start=function(){this._disposed=!1,this._retry=0,this._report()},i.prototype._report=function(e){var t,r,i;this._tickHandler&&(clearTimeout(this._tickHandler),this._tickHandler=null),0<(e=e||this._logs.splice(0,this._uploadCount)).length?(i={"Content-Type":"application/json;charset=UTF-8","x-log-apiversion":"0.6.0","x-log-bodyrawsize":(t=JSON.stringify({__logs__:e,__source__:""})).length},n.postWithHeader((r=this)._logReportTo,t,i,(function(e){r._tick()}),(function(t){0==r._retry?(r._retry=1,r._report(e)):r._tick()}))):this._tick()},i.prototype.reportDump=function(e){var t;e&&(t={"Content-Type":"application/json;charset=UTF-8","x-log-apiversion":"0.6.0","x-log-bodyrawsize":(e=JSON.stringify({__logs__:[e],__source__:""})).length},n.postWithHeader(this._dumpLogReportTo,e,t,(function(e){}),(function(e){})))},i.prototype._tick=function(){var e;this._disposed||(this._retry=0,(e=this)._logs.length>this._uploadCount?e._report():this._tickHandler=setTimeout((function(){e._report()}),1e3*this._uploadDuration))},t.exports=i},{"../lib/io":43,"../lib/storage":50}],66:[function(e,t,r){function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)!{}.hasOwnProperty.call(n,r)||(e[r]=n[r])}return e}).apply(null,arguments)}var i,o=e("../lib/oo"),a=e("../lib/object"),s=e("../lib/data"),c=e("../lib/io"),l=e("../lib/ua"),u=e("../lib/event"),p=e("../config"),d=e("../player/base/event/eventtype"),h=e("./util"),f=e("./log"),y=e("../lib/playerutil"),g=0,v={CREATE:1e3,STARTFETCHDATA:1003,COMPLETEFETCHDATA:1004,PREPARE:1101,PREPAREEND:1102,STARTPLAY:2e3,PLAY:2001,STOP:2002,PAUSE:2003,SEEK:2004,FULLSREEM:2005,QUITFULLSCREEM:2006,RESOLUTION:2007,RESOLUTION_DONE:2008,RECOVER:2010,SEEK_END:2011,PLAYABORT:2012,SEEKED:2014,CANPLAY:2018,FETCHEDIP:2020,CDNDETECT:2021,DETECT:2022,HEVCINFO:2023,UNDERLOAD:3002,LOADED:3001,RETRY:3003,HEARTBEAT:9001,TRACE:9002,DUMP:9003,ERROR:4001,ERRORRETRY:4002,RTSFALLBACK:4003,VOD_REQUEST_FATAL_ERROR:4004,VOD_REQUEST_FATAL_ERROR_RESUME:4005,LICENSE_RESULT:5004,SNAPSHOT:2027,ROTATE:2028,IMAGE:2029,THUMBNAILSTART:2031,THUMBNAILCOMPLETE:2032,CCSTART:2033,CCCOMPLETE:2034,AUDIOTRACKSTART:2033,AUDIOTRACKCOMPLETE:2034};e=o.extend({init:function(e,t,r){this.trackLog=r=void 0===r||r,this.player=e,this.requestId="",this.sessionId=s.guid(),this.playId=0,this.firstPlay=!0,this.osName=l.os.name,this.osVersion=l.os.version||"",this.exName=l.browser.name,this.exVersion=l.browser.version||"",this.lightSaasVideoId="",this._logService="",this._h265ProbeInfo={},this.loadedDataReported=!1,this.startPlayReported=!1,this.canplayReported=!1,this.doPlayReported=!1,this.seekingData={seekingStartTime:0},this.pendingPrepareEndData=null,this.h265RenderTypeTimer=null,this.statisticsHistoryTimer=null,this.timeline=[{name:"init",ts:performance.now()}],this.checkSeekStuckedTimer=null,p.logReportTo=t.logReportTo||p.logReportTo,this.prevStats={timestamp:0,bytesReceived:0,framesDecoded:0,packetsLost:0,packetsReceived:0,rtt:0},this.resetHeartBeatStatusData(),this.resetStatisticsHistoryData(),t.logBatched&&(this._logService=new f(p));r=this.player.getOptions(),e=t.from||"",r.isLive,t=r.isLive?"live":"vod";var n="pc",i=(l.IS_IPAD?n="pad":l.os.phone&&(n="phone"),this.encodeURL(l.getReferer())),o=l.getHref(),a=this.encodeURL(o),c="",u=(o=(o&&(c=l.getHost(o)),p.h5Version),h.getUuid()),d=r.source?this.encodeURL(r.source):"",y=l.getHost(r.source),g=r.userId?r.userId+"":"0",v=this.sessionId,_=(new Date).getTime(),m=r.traceId||"";this._userNetInfo={cdnIp:"",localIp:""},this.opt={APIVersion:"0.6.0",t:_,ll:"info",lv:"1.0",pd:"player",md:"saas_player",ui:"saas_player",sm:"play",os:this.osName,ov:this.osVersion,et:this.exName,ev:this.exVersion,uat:l.USER_AGENT,hn:"0.0.0.0",bi:e,ri:v,e:"0",args:"0",li_ki:r.license.key||"",vt:t,tt:n,dm:"h5",av:o,uuid:u,vu:d,vd:y,ua:g,dn:"custom",cdn_ip:"0.0.0.0",app_n:c,r:i,pu:a,ti:m},this.bindEvent()},updateVideoInfo:function(e){e=e.from||"",this.opt.bi=e+"",this.updateSourceInfo()},updateSourceInfo:function(){var e,t=this.player.getOptions();t&&(e=t.source?this.encodeURL(t.source):"",t=l.getHost(t.source),this.opt.vu=e,this.opt.vd=t)},updateTraceId:function(e){this.opt.ti=e},updateLightSaasVideoId:function(e){this.lightSaasVideoId=e},replay:function(){this.reset(),this.player.trigger(d.Video.LoadStart),this.player.trigger(d.Video.LoadedMetadata),this.player.trigger(d.Video.LoadedData),this.startHeartBeat()},bindEvent:function(){var e=this;this.player.on(d.Private.Create,(function(t){e._onCreate(t)})),this.player.on(d.Player.Init,(function(){e._onPlayerInit()})),this.player.on(d.Video.LoadStart,(function(){e._onPlayerloadstart()})),this.player.on(d.Video.LoadedMetadata,(function(){e._onPlayerLoadMetadata()})),this.player.on(d.Video.LoadedData,(function(){e._onPlayerLoaddata()})),this.player.on(d.Player.H265PlayInfo,(function(t){e._onH265PlayInfo(t),e._onPlayerH265PlayInfo(t)})),this.player.on(d.Player.H266PlayInfo,(function(t){e._onH265PlayInfo(t),e._onPlayerH265PlayInfo(t)})),this.player.on(d.Video.Play,(function(){e._onPlayerPlay()})),this.player.on(d.Video.Playing,(function(){e._onPlayerReady()})),this.player.on(d.Video.Ended,(function(){e._onPlayerFinish()})),this.player.on(d.Video.Pause,(function(){e._onPlayerPause()})),this.player.on("seeking",(function(){e._onPlayerSeeking()})),this.player.on("seeked",(function(){e._onPlayerSeeked()})),this.player.on(d.Private.LicenseHasResult,(function(t){e._onLicenseHasResult(t)})),this.player.on(d.Private.SeekStart,(function(t){e._onPlayerSeekStart(t)})),this.player.on(d.Private.EndStart,(function(t){e._seekEndData=t.paramData})),this.player.on(d.Player.Waiting,(function(){e._onPlayerLoaded()})),this.player.on(d.Video.CanPlayThrough,(function(){})),this.player.on(d.Video.CanPlay,(function(){e._waitingDelayLoadingShowHandle&&(clearTimeout(e._waitingDelayLoadingShowHandle),e._waitingDelayLoadingShowHandle=null),e._onPlayerUnderload(),e._onPlayerCanplay()})),this.player.on(d.Video.TimeUpdate,(function(){e._waitingDelayLoadingShowHandle&&(clearTimeout(e._waitingDelayLoadingShowHandle),e._waitingDelayLoadingShowHandle=null),e._seekEndData&&e.player._seeking&&e._onPlayerSeekEnd()})),this.player.on(d.Player.Error,(function(t){e._onPlayerError(t)})),this.player.on(d.Player.RequestFullScreen,(function(){e._onFullscreenChange(1)})),this.player.on(d.Player.CancelFullScreen,(function(){e._onFullscreenChange(0)})),this.player.on(d.Private.PREPARE,(function(t){e._prepareTime=performance.now(),e._log("PREPARE",{dn:t.paramData}),e.timeline.push({name:"prepare",ts:performance.now()})})),this.player.on(d.Private.ManualPlay,(function(){e.loadedDataReported||(e._prepareTime=performance.now(),e.timeline.push({name:"prepare2",ts:performance.now()}))})),this.player.on(d.Player.Snapshoted,(function(){e._log("SNAPSHOT")})),this.player.on(d.Private.Retry,(function(t){t=t.paramData||{},e._log("RETRY",{type:t.type,source:t.source})})),this.player.on(d.Player.RtsFallback,(function(t){var r;t=t.paramData||{};e._log("RTSFALLBACK",{reason:null==(r=t.reason)?void 0:r.error_msg,url:t.fallbackUrl})})),this.player.on(d.Private.VodRequestException,(function(t){t=t.paramData||{},e.reportVodException(t)})),this.player.on(d.Private.VodRequestExceptionResume,(function(t){t=t.paramData||{},e.reportVodExceptionResume(t)})),this.player.on(d.Private.TraceLog,(function(t){t=t.paramData||{},e._reportTrace(t)})),this.player.on(d.Private.DumpBuffer,(function(t){t=t.paramData||{},e._reportDump(t)})),this.player.on(d.Private.StatisticsInfo,(function(t){t=t.paramData||{},e._onStatisticsHistoryUpdate(t)})),this.player.on(d.Private.Timeline,(function(t){t=t.paramData||{},e._onTimeline(t)})),u.on(this.player.tag,d.Video.Playing,(function(){e.reportPlaying()})),u.on(this.player.tag,d.Video.TimeUpdate,(function(){e.reportPlaying()})),this.startHeartBeat.call(this),this.startStatisticsHistory.call(this)},startStatisticsHistory:function(){var e=this;"n.dingtalk.com"===this.opt.app_n&&(this.statisticsHistoryTimer&&clearInterval(this.statisticsHistoryTimer),this.statisticsHistoryTimer=setInterval((function(){e.player.trigger(d.Private.TraceLog,"[statistics_history]"+JSON.stringify(e.statisticsHistory)),e.resetStatisticsHistoryData()}),this.player._options.statisticsReportInterval))},reportPlaying:function(){var e;this.doPlayReported||this.player.paused()||0===this.player.readyState()||(this.doPlayReported=!0,this.first_play_time=performance.now(),e={dsm:"fix",tc:this.first_play_time-this.loadstartTime,fc:this.first_play_time-this.playstartTime},this._log("PLAY",e))},removeEvent:function(){this.player.offAll("init"),this.player.offAll("ready"),this.player.offAll("ended"),this.player.offAll("play"),this.player.offAll("pause"),this.player.offAll("seekStart"),this.player.offAll("seekEnd"),this.player.offAll("canplaythrough"),this.player.offAll("playing"),this.player.offAll("timeupdate"),this.player.offAll("error"),this.player.offAll("fullscreenchange"),this.player.offAll("seeking"),this.player.offAll("seeked"),this.player.offAll(d.Private.PREPARE),this.player.offAll(d.Player.RtsFallback),u.off(this.player.tag,d.Video.Playing),u.off(this.player.tag,d.Video.TimeUpdate),this._logService&&this._logService.dispose(),clearInterval(i),clearInterval(this.statisticsHistoryTimer),this.statisticsHistoryTimer=null,clearTimeout(this.checkSeekStuckedTimer),this.checkSeekStuckedTimer=null},reset:function(){this.stucking=!1,this.startTimePlay=0,this.pause_flag=0,this.firstPlay=!1,this.playId=0,this._canPlay=0,this.seekingStartTime=0,this.prevStats={timestamp:0,bytesReceived:0,framesDecoded:0,packetsLost:0,packetsReceived:0,rtt:0},g=0,this.lightSaasVideoId="",this.resetHeartBeatStatusData(),this.resetStatisticsHistoryData(),i&&(clearInterval(i),i=null)},encodeURL:function(e){var t;return e?(t=this.player.getOptions())&&!t.logBatched?encodeURIComponent(e):e:""},startHeartBeat:function(){var e=this;i&&clearInterval(i),i=setInterval((function(){var t;e.player.getCurrentTime()&&(t=Math.floor(1e3*e.player.getCurrentTime()),e.player.paused()&&(e.prevStats.timestamp=0),++g>=e.player._options.heartHeatInterval)&&e.updateStats.call(e,(function(r){var i=e._imageInfo()||{},o=e.player.tag.playbackRate,a=e.player.getVolume();i={vt:t,interval:1e3*g,imgLength:i.imgLength,playbackRate:o,volume:a,bw:e._getbwEstimator()+"KB"},(i=r?n({},i,{dls:Math.floor(r.downloadSpeedPerSec),dfps:Math.floor(r.decodedFramesPerSec),pkl:Number((r.packageLossRate||0).toFixed(2)),rtt:1e3*r.rtt}):i).player_status=n({},e.heartBeatStatusData),o=e.player;i.time={play_time:parseFloat((o._playingTime/1e3).toFixed(2)),stuck_count:parseFloat(o._stuckCount.toFixed(2)),stuck_time:parseFloat((o._stuckTime/1e3).toFixed(2))},e._log("HEARTBEAT",i),g=0}))}),1e3)},updateStats:function(e){e=e||function(){};var t=this;this.player.getStats().then((function(r){var n,i;r?(n=t.prevStats,r.bytesReceived=r.bytesReceived||0,r.framesDecoded=r.framesDecoded||0,r.packetsLost=r.packetsLost||0,r.packetsReceived=r.packetsReceived||0,i=((t.prevStats=r).timestamp-n.timestamp)/1e3,e({downloadSpeedPerSec:(r.bytesReceived-n.bytesReceived)/i,decodedFramesPerSec:(r.framesDecoded-n.framesDecoded)/i,packageLossRate:(r.packetsLost-n.packetsLost)/(r.packetsLost-n.packetsLost+(r.packetsReceived-n.packetsReceived)),rtt:r.rtt,timeGap:i})):e()})).catch((function(t){console.log("error in monitor getStats: ",t),e()}))},reportStartPlay:function(){this.startPlayReported||(this._log("STARTPLAY",{vt:(new Date).getTime()}),this.startPlayReported=!0)},reportCanplay:function(){this.canplayReported||(this._log("CANPLAY",{vt:(new Date).getTime()}),this.canplayReported=!0)},reportPlayAbort:function(e){this._log("PLAYABORT",{vt:(new Date).getTime(),from:e})},reportVodException:function(e){console.log("VOD_REQUEST_FATAL_ERROR",e),this._log("VOD_REQUEST_FATAL_ERROR",e)},reportVodExceptionResume:function(e){console.log("VOD_REQUEST_FATAL_ERROR_RESUME",e),this._log("VOD_REQUEST_FATAL_ERROR_RESUME",e)},resetStartPlayReportFlag:function(){this.startPlayReported=!1},resetCanplayReportFlag:function(){this.canplayReported=!1},resetLoadedDataReported:function(){this.loadedDataReported=!1,this._prepareTime=performance.now()},resetDoPlayReportFlag:function(){this.doPlayReported=!1},resetSessionId:function(){this.sessionId=s.guid()},resetHeartBeatStatusData:function(){this.heartBeatStatusData={t_last_pause:-1,t_last_resume:-1,t_last_load_start:-1,t_last_load_end:-1},this.player.startPlayTimeMonitor()},resetStatisticsHistoryData:function(){this.statisticsHistory={speed:[],framesDropped:[],downlink:[],type:[],rtt:[]}},resetTimeline:function(){var e=performance.now();this._createTime=e,this.timeline=[{name:"init",ts:e}]},resetVV:function(){this.startPlayReported&&(this.resetStartPlayReportFlag(),this.resetLoadedDataReported(),this.resetDoPlayReportFlag(),this.resetCanplayReportFlag(),this.resetSessionId(),this.resetTimeline())},updateH265ProbeInfo:function(e){this._h265ProbeInfo=e||{}},_onFullscreenChange:function(e){e?this._log("FULLSREEM",{}):this._log("QUITFULLSCREEM",{})},_onTimeline:function(e){var t=["frag_s","frag_f","frag_parsed"].includes(e.name);this.timeline.some((function(r){return t&&r.name===e.name}))||this.timeline.push(e)},_onPlayerloadstart:function(){this.loadstartTime=performance.now(),this.playId=s.guid()},_onPlayerLoadMetadata:function(){this.loadMetaDataCost=performance.now()-this.loadstartTime,this.timeline.push({name:"meta",ts:performance.now()})},_onPlayerLoaddata:function(){var e,t,r,n,i=this;this.timeline.push({name:"loadeddata",ts:performance.now()}),this.loadedDataReported||(n=r=0,this.player.tag&&(r=this.player.tag.videoWidth,n=this.player.tag.videoHeight),e={fc:parseInt(performance.now()-this._createTime),tc:parseInt(performance.now()-this._prepareTime),cc:parseInt(performance.now()-this.loadstartTime),md:parseInt(this.loadMetaDataCost),mi:JSON.stringify({type:"video",definition:r+"*"+n})},this.timeline.forEach((function(t,r){try{var n=r?t.ts-i.timeline[r-1].ts:0;e["tl_"+t.name]=r+"#"+parseInt(n)}catch(t){}})),null!=(r=this.player.tag)&&r.duration&&(e.vdur=1e3*(null==(n=this.player.tag)?void 0:n.duration)),(5<this._h265ProbeInfo.codecCost||5<this._h265ProbeInfo.decoderCost)&&(r=Math.floor(this._h265ProbeInfo.codecCost)||0,n=Math.floor(this._h265ProbeInfo.decoderCost)||0,e.tc+=t=r+n,e.cc+=t,e.pcc=r,e.pdc=n),t=[{type:"audio"}],r={type:"video",codecType:null,isHardwareDecode:null},n=this._h265ProbeInfo.codecTag,y.isH265Codec(n)?r.codecType="h265":y.isH266Codec(n)?r.codecType="h266":y.isH264Codec(n)&&(r.codecType="h264"),t.push(r),e.decode_info=t,this._h265ProbeInfo.waitRenderType?(this.pendingPrepareEndData=e,this.h265RenderTypeTimer=setTimeout((function(){i._log("PREPAREEND",e),i.h265RenderTypeTimer=null}),2e3)):this._log("PREPAREEND",e)),this.loadedDataReported=!0},_onStatisticsHistoryUpdate:function(e){"n.dingtalk.com"===this.opt.app_n&&(this.statisticsHistory.speed.push(parseInt(e.speed)),this.statisticsHistory.framesDropped.push(e.droppedFrames),e=navigator.connection)&&(this.statisticsHistory.downlink.push(e.downlink),this.statisticsHistory.type.push(e.effectiveType),this.statisticsHistory.rtt.push(e.rtt))},_onH265PlayInfo:function(e){var t,r;this.h265RenderTypeTimer&&(clearTimeout(this.h265RenderTypeTimer),this.h265RenderTypeTimer=null),this.pendingPrepareEndData&&(e=e.paramData,t=this.pendingPrepareEndData,this.pendingPrepareEndData=null,r=t.decode_info[1],"wasm"===e.renderType&&(r.isHardwareDecode=!1),this._log("PREPAREEND",t))},_onPlayerH265PlayInfo:function(e){e=e.paramData||{},this._log("HEVCINFO",{cd:e.codecTag,rd:e.renderType,si:e.simd,sio:e.simdOption,wt:e.wasmThreads,wto:e.wasmThreadsOption,sp:e.splayer})},_onPlayerCanplay:function(){this._canPlay=1,this.reportCanplay(),this.prevStats.timestamp||this.updateStats.call(this)},_onCreate:function(e){e=e.paramData||{},e.hasPa=!!e.playauth,delete e.playauth,e.hasSk=!!e.accessKeySecret,delete e.accessKeySecret,e.hasSt=!!e.securityToken,delete e.securityToken,this._log("CREATE",e),this._createTime=performance.now()},_onPlayerInit:function(){this.stucking=!1,this.pause_flag=0,this.startTimePlay=0,this._canPlay=0,this.seekingStartTime=0},_onPlayerReady:function(){this.startTimePlay||(this.startTimePlay=(new Date).getTime())},_onPlayerFinish:function(){this._log("STOP",{vt:Math.floor(1e3*this.player.getCurrentTime())}),this.reset()},_onPlayerPlay:function(){var e;this.playstartTime=(new Date).getTime(),0==this.playId&&(this.playId=s.guid()),this.player._isPreload()||(this.loadstartTime=performance.now()),this.doPlayReported&&this.pause_flag&&(this.pause_flag=0,this.pauseEndTime=(new Date).getTime(),this.heartBeatStatusData.t_last_resume=this.pauseEndTime,e=this.pauseEndTime-this.pauseTime,this._log("RECOVER",{vt:Math.floor(1e3*this.player.getCurrentTime()),cost:e,pass:e,t_last_pause:this.pauseTime}))},_onPlayerPause:function(){!this.doPlayReported||this.startTimePlay&&!this.player._seeking&&(this.pause_flag=1,this.pauseTime=(new Date).getTime(),this.heartBeatStatusData.t_last_pause=this.pauseTime,this.heartBeatStatusData.t_last_resume=-1,this._log("PAUSE",{vt:Math.floor(1e3*this.player.getCurrentTime())}))},_onLicenseHasResult:function(e){e=e.paramData||{},this._log("LICENSE_RESULT",{li_ri:e.result+" "+(e.errorCode||""),li_ti:e.featureId||"sdk"})},_onPlayerSeekStart:function(e){this.seekStartTime=e.paramData.fromTime,this.startTimePlay=0,this.seekStartStamp=(new Date).getTime()},_onPlayerSeekEnd:function(){this.seekEndStamp=(new Date).getTime(),this._log("SEEK",{drag_from_timestamp:Math.floor(1e3*this.seekStartTime),drag_to_timestamp:Math.floor(1e3*this._seekEndData.toTime)}),this._log("SEEK_END",{vt:Math.floor(1e3*this.player.getCurrentTime()),cost:this.seekEndStamp-this.seekStartStamp}),this._seekEndData=null},_onPlayerLoaded:function(){var e,t=this;this.doPlayReported&&!this.stucking&&"hidden"!==document.visibilityState&&(this.player._seeking?(this.seekingStartTime=this.player.getCurrentTime(),this.checkSeekStuckedTimer&&clearTimeout(this.checkSeekStuckedTimer),this.checkSeekStuckedTimer=setTimeout((function(){var e=t.player.readyState()<4;t.player.readyState()||(e=!0),t.player.getCurrentTime()===t.seekingStartTime&&e&&(e=t._getbwEstimator(),t._log("UNDERLOAD",{vt:Math.floor(1e3*t.player.getCurrentTime()),bw:e,cbs:t._getCbs()}),t.stucking=!0,t.stuckStartTime=(new Date).getTime(),0===t._getCbs())&&(t.heartBeatStatusData.t_last_load_start=t.stuckStartTime,t.heartBeatStatusData.t_last_load_end=-1)}),500)):(this.stuckStartTime=(new Date).getTime(),0===this._getCbs()&&(this.heartBeatStatusData.t_last_load_start=this.stuckStartTime,this.heartBeatStatusData.t_last_load_end=-1),this.stuckStartTime-this.startTimePlay<=1e3||(this.stucking=!0,e=this._getbwEstimator(),this._log("UNDERLOAD",{vt:Math.floor(1e3*this.player.getCurrentTime()),bw:e,cbs:this._getCbs()}),this.stuckStartTime=(new Date).getTime())))},_onPlayerUnderload:function(){var e,t,r,n;!this.doPlayReported&&this.player._options&&this.player._options.autoplay||this.stucking&&(e=Math.floor(1e3*this.player.getCurrentTime()),t=this.stuckStartTime||(new Date).getTime(),0<(r=Math.floor((new Date).getTime()-t))&&r<(1e3*this.player._options.waitingTimeout||6e4)&&(n=this._getbwEstimator(),0===this._getCbs()&&(this.heartBeatStatusData.t_last_load_end=(new Date).getTime()),this._log("LOADED",{vt:e,cost:r,bw:n,cbs:this._getCbs(),t_last_load_start:t})),this.seekStart=!1,this.stucking=!1)},_onPlayerSeeking:function(){this.seekStart=!0,this.seekingData.seekingStartTime=performance.now()},_onPlayerSeeked:function(){var e=this;this.player._splayer?this.player.one("canplay",(function(){e._reportSeeked()})):this._reportSeeked()},_reportSeeked:function(){var e=performance.now();e=Math.floor(e-this.seekingData.seekingStartTime);this._log("SEEKED",{vt:Math.floor(1e3*this.player.getCurrentTime()),cost:e})},_reportTrace:function(e){this._log("TRACE",{log:e})},_reportDump:function(e){this._log("DUMP",e)},_onPlayerError:function(e){this._reportTrace(e.paramData),this.playId=0,this.statisticsHistoryTimer&&(clearInterval(this.statisticsHistoryTimer),this.statisticsHistoryTimer=null,this.resetStatisticsHistoryData())},_getbwEstimator:function(){var e=NaN;try{e=((e=this.player._getbwEstimator&&parseInt(this.player._getbwEstimator(),10))/8/1024).toFixed(2)}catch(e){}return e},_getCbs:function(){return!this.player.getOptions().isLive&&this.seekStart?1:0},_log:function(e,t){if(this.trackLog){this.updateSourceInfo();var r=a.copy(this.opt),n=(this.requestId=s.guid(),p.logReportTo),i=(e=(r.e=v[e]+"",r.en=e,r.ri=this.sessionId,r.bi=r.bi&&String(r.bi),r.t=(new Date).getTime()+"",r.cdn_ip=this._userNetInfo.cdnIp,r.hn=this._userNetInfo.localIp,this.player.getCurrentQuality()),""!=e&&(r.definition=e.definition),[]);e=(a.each(t,(function(e,t){if("string"!=typeof t)try{t=JSON.stringify(t)}catch(e){}i.push(e+"="+t)})),""),t=this.player.getOptions(),e=((e=t&&t.vid||this.lightSaasVideoId?t.vid||this.lightSaasVideoId:e)&&i.push("vid="+e),"");(e=t&&t.mediaAuth?t.mediaAuth:e)&&i.push("pauth="+e);try{Aliplayer&&Aliplayer.__logCallback__&&(r.args=i,Aliplayer.__logCallback__(r))}catch(e){console.log(e)}if(""==(i=i.join("&"))&&(i="0"),r.args=this.encodeURL(i),this._logService){if(r.e===String(v.DUMP))return void this._logService.reportDump(r);this._logService.add(r)}else{var o=[];a.each(r,(function(e,t){o.push(e+"="+t)})),o=o.join("&"),c.jsonp(n+"?"+o,(function(){}),(function(){}))}return this.sessionId}},_imageInfo:function(){try{var e,t,r,n,i,o,a;return/MSIE\s8\.0/.test(navigator.userAgent)?{}:(e=this.player.tag)?(t=document.createElement("canvas"),r=e.videoWidth,n=e.videoHeight,t.width=r,t.height=n,(i=t.getContext("2d")).save(),i.drawImage(e,0,0,r,n),i.restore(),o=t.toDataURL("image/jpeg",1),a="",{imgLength:(a=o?(a=o.substr(o.indexOf(",")+1))||"":a).length}):{}}catch(e){return{}}}});t.exports=e},{"../config":15,"../lib/data":33,"../lib/event":36,"../lib/io":43,"../lib/object":45,"../lib/oo":46,"../lib/playerutil":48,"../lib/ua":51,"../player/base/event/eventtype":71,"./log":65,"./util":67}],67:[function(e,t,r){var n=e("../lib/cookie"),i=e("../lib/data"),o=e("../lib/ua");t.exports.getUuid=function(){var e=n.get("p_h5_u");return e||(e=i.guid(),n.set("p_h5_u",e,730)),e},t.exports.getTerminalType=function(){var e="pc";return o.IS_IPAD?e="pad":o.IS_ANDROID?e="android":o.IS_IOS&&(e="iphone"),e},t.exports.returnUTCDate=function(e){var t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDate(),i=e.getUTCHours(),o=e.getUTCMinutes(),a=e.getUTCSeconds();e=e.getUTCMilliseconds();return Date.UTC(t,r,n,i,o,a,e)},t.exports.getRfc822=function(e){return e.toUTCString().replace("UTC","GMT")}},{"../lib/cookie":32,"../lib/data":33,"../lib/ua":51}],68:[function(e,t,r){var n=e("./base/player"),i=(e("./flash/flashplayer"),e("./saas/mtsplayer")),o=e("./saas/vodplayer"),a=e("./saas/lightPlayer"),s=e("./audio/audioplayer"),c=e("./hls/hlsplayer"),l=e("./flv/flvplayer"),u=e("./dash/dashplayer"),p=e("./rts/rtsplayer"),d=e("./drm/drmplayer"),h=e("./splayer/splayer"),f=e("../lib/ua"),y=e("../lib/playerutil"),g=(e("../lib/dom"),e("../lib/io"),e("../lang/index")),v=e("../lib/constants"),_=e("./base/event/eventtype");t.exports.create=function(e,t){e._userOptions||(e._userOptions=Object.assign({},e)),navigator&&navigator.userAgent&&-1<navigator.userAgent.indexOf("Olympic_Android")&&(e.useNativeControls=!0),e.readyCallback=t="function"!=typeof t?function(){}:t,g.setCurrentLanguage(e.language,"h5",e.languageTexts,e.extLanguageTexts);t=y.handleOption(e),e=t.source;var r=t.format;if(r&&e)try{r=r.toLowerCase()}catch(e){console.log("Aliplayer - parsing format failed",e),r=""}else r="";y.isSupportedFormat(r)||(r=""),t.optionFormat=r,t.drm&&(t.isDrm=!0),void 0===t.useDrm2&&(t.useDrm2=!Boolean(t.isDrm&&t.accessKeyId));var m,b=y.isAudio(e,r),S=(b&&(t.mediaType="audio"),y.createWrapper(t));if(S.player)return S.player;if(b)m=new s(S,t);else if(y.isRts(e))m=new p(S,t);else if((t.forceH265||t.enableH265)&&(y.isMp4(e,r)||y.isFlv(e,r)||y.isHls(e,r)))m=new h(S,t);else if((t.forceH266||t.enableH266)&&(y.isMp4(e,r)||t.isLive&&(y.isFlv(e,r)||y.isHls(e,r))))m=new h(S,t);else if(!t.useFlashPrism&&y.isFlv(e,r)&&y.isSupportFlv())m=new l(S,t);else if(-1!==[null,void 0].indexOf(t.mediaAuth)||t.source)if(t.vid&&!t.source)if(t.authInfo)m=new i(S,t);else{if(!(t.playauth||t.accessKeyId&&t.accessKeySecret))throw b="vid="+t.vid+" playauth='', playauth property is required by VOD(视频点播) as new Aliplayer.",new Error(b);m=new o(S,t)}else y.isHls(e,r)?y.canPlayHls()?m=new(y.isSupportHls()&&(y.isUsedHlsPluginOnMobile()||y.isSafariUsedHlsPlugin(t.useHlsPluginForSafari))?t.isDrm?d:c:t.isDrm?d:n)(S,t):y.isSupportHls()?m=new(t.isDrm?d:c)(S,t):f.os.pc||(m=new n(S,t)):y.isDash(e,r)&&y.isSupportMSE()?m=new(t.isDrm?d:u)(S,t):(m=new n(S,t),t.source||(b={error_code:v.ErrorCode.InvalidSourceURL,error_msg:"InvalidSourceURL",display_msg:g.get("Error_Empty_Source")},m.trigger(_.Player.Error,b)));else m=new a(S,t);return m}},{"../lang/index":26,"../lib/constants":31,"../lib/dom":35,"../lib/io":43,"../lib/playerutil":48,"../lib/ua":51,"./audio/audioplayer":69,"./base/event/eventtype":71,"./base/player":94,"./dash/dashplayer":101,"./drm/drmplayer":104,"./flash/flashplayer":105,"./flv/flvplayer":107,"./hls/hlsplayer":109,"./rts/rtsplayer":111,"./saas/lightPlayer":115,"./saas/mtsplayer":117,"./saas/vodplayer":123,"./splayer/splayer":132}],69:[function(e,t,r){var n=e("../base/player"),i=e("../../ui/component"),o=e("../../lib/dom"),a=e("../../lib/object"),s=e("../../lib/playerutil");e=n.extend({init:function(e,t){this._isAudio=!0,void 0===t.skinLayout&&(t.skinLayout=s.getDefaultAudioLayout()),n.call(this,e,t)}});e.prototype.createEl=function(){"AUDIO"!==this.tag.tagName&&(this._el=this.tag,this.tag=i.prototype.createEl.call(this,"audio"));var e=this._el,t=this.tag,r=(t.player=this,o.getElementAttributes(t));return a.each(r,(function(t){e.setAttribute(t,r[t])})),this.setVideoAttrs(),t.parentNode&&t.parentNode.insertBefore(e,t),o.insertFirst(t,e),e},t.exports=e},{"../../lib/dom":35,"../../lib/object":45,"../../lib/playerutil":48,"../../ui/component":137,"../base/player":94}],70:[function(e,t,r){var n=e("../../../lib/event"),i=e("./eventtype"),o=e("../eventHandler/video/index"),a=e("../eventHandler/player/index");t.exports.offAll=function(e){var t,r,o,a=e.tag,s=e._el;for(t in i.Video)n.off(a,i.Video[t]);for(r in i.Player)n.off(s,i.Player[r]);for(o in i.Private)n.off(s,i.Private[o])},t.exports.offVideoAll=function(e){var t,r=e.tag;for(t in i.Video)n.off(r,i.Video[t])},t.exports.onAll=function(e){o.bind(e),a.bind(e)}},{"../../../lib/event":36,"../eventHandler/player/index":75,"../eventHandler/video/index":85,"./eventtype":71}],71:[function(e,t,r){t.exports={Video:{TimeUpdate:"timeupdate",Play:"play",Playing:"playing",Pause:"pause",CanPlay:"canplay",Waiting:"waiting",Ended:"ended",Error:"error",Suspend:"suspend",Stalled:"stalled",LoadStart:"loadstart",DurationChange:"durationchange",LoadedData:"loadeddata",LoadedMetadata:"loadedmetadata",Progress:"progress",CanPlayThrough:"canplaythrough",ContextMenu:"contextmenu",Seeking:"seeking",Seeked:"seeked",ManualEnded:"manualended",VolumeChange:"volumechange",RateChange:"ratechange",Resize:"resize"},Player:{TimeUpdate:"timeupdate",DurationChange:"durationchange",Init:"init",Ready:"ready",Play:"play",Playing:"playing",Pause:"pause",CanPlay:"canplay",Waiting:"waiting",Ended:"ended",Error:"error",RequestFullScreen:"requestFullScreen",CancelFullScreen:"cancelFullScreen",Snapshoted:"snapshoted",Snapshoting:"snapshoting",OnM3u8Retry:"onM3u8Retry",LiveStreamStop:"liveStreamStop",AutoPlayPrevented:"autoPlayPrevented",AutoPlay:"autoplay",StartSeek:"startSeek",CompleteSeek:"completeSeek",TextTrackReady:"textTrackReady",AudioTrackReady:"audioTrackReady",AudioTrackUpdated:"audioTrackUpdated",LevelsLoaded:"levelsLoaded",AudioTrackSwitch:"audioTrackSwitch",AudioTrackSwitched:"audioTrackSwitched",LevelSwitch:"levelSwitch",LevelSwitched:"levelSwitched",MarkerDotOver:"markerDotOver",MarkerDotOut:"markerDotOut",DefaultBandWidth:"defaultbandwidth",ResolutionChange:"resolutionChange",SeiFrame:"seiFrame",RtsFallback:"rtsFallback",RtsTraceId:"rtsTraceId",H265PlayInfo:"h265PlayInfo",H266PlayInfo:"h266PlayInfo",H265DecoderOverload:"h265DecoderOverload",SettingSelected:"settingSelected",AutoResize:"autoResize",VideoUnavailable:"videoUnavailable"},Private:{Create:"create",Play_Btn_Show:"play_btn_show",UiH5Ready:"uiH5Ready",Error_Hide:"error_hide",Error_Show:"error_show",Info_Show:"info_show",Info_Hide:"info_hide",H5_Loading_Show:"h5_loading_show",H5_Loading_Hide:"h5_loading_hide",HideProgress:"hideProgress",CancelHideProgress:"cancelHideProgress",UpdateProgress:"updateProgress",UpdateCursorPosition:"updateCursorPosition",Click:"click",MouseOver:"mouseover",MouseOut:"mouseout",MouseEnter:"mouseenter",MouseLeave:"mouseleave",TouchStart:"touchstart",TouchMove:"touchmove",TouchEnd:"touchend",HideBar:"hideBar",ShowBar:"showBar",ControlBarClick:"controlBarClick",ReadyState:"readyState",SourceLoaded:"sourceloaded",QualityChange:"qualitychange",Play_Btn_Hide:"play_btn_hide",Cover_Hide:"cover_hide",Cover_Show:"cover_show",SeekStart:"seekStart",EndStart:"endStart",UpdateProgressBar:"updateProgressBar",LifeCycleChanged:"lifeCycleChanged",Dispose:"dispose",Created:"created",Snapshot_Hide:"snapshot_hide",AutoStreamShow:"auto_stream_show",AutoStreamHide:"auto_stream_hide",VolumnChanged:"volumnchanged",LiveShiftQueryCompleted:"liveShiftQueryCompleted",LiveShiftSwitchToLive:"LiveShiftSwitchToLive",StreamSelectorHide:"streamSelectorHide",SpeedSelectorHide:"speedSelectorHide",SettingShow:"settingShow",SettingHide:"settingHide",SelectorShow:"selectorShow",SelectorHide:"selectorHide",SettingListShow:"settingListShow",SettingListHide:"settingListHide",ThumbnailHide:"thumbnailHide",ThumbnailShow:"thumbnailShow",ThumbnailLoaded:"thumbnailLoaded",TooltipShow:"tooltipShow",TooltipHide:"tooltipHide",SelectorUpdateList:"selectorUpdateList",SelectorValueChange:"selectorValueChange",SelectorGenerateList:"selectorGenerateList",VolumeVisibilityChange:"volumeVisibilityChange",VolumeUpdatePosition:"volumeUpdatePosition",ChangeURL:"changeURL",UpdateToSettingList:"updateToSettingList",CCChanged:"CCChanged",CCStateChanged:"CCStateChanged",CCReset:"ccReset",TextTrackFounded:"textTrackFounded",UserTrackReset:"userTrackReset",PlayClick:"click",ProgressMarkerLoaded:"progressMarkerLoaded",MarkerTextShow:"markerTextShow",MarkerTextHide:"markerTextHide",PREPARE:"prepare",ProgressMarkerChanged:"progressMarkerChanged",SeiFrame:"privateSeiFrame",PlayInfoLoaded:"playInfoLoaded",Retry:"retry",LicenseHasResult:"licenseHasResult",LicenseTipShow:"licenseTipShow",LicenseTipHide:"licenseTipHide",PatchWaiting:"patchWaiting",VttHide:"vttHide",VttSwitchTrack:"vttSwitchTrack",VttClearTracks:"vttClearTracks",SafariDrmLevelSwitch:"safariDrmLevelSwitch",VodRequestException:"vodRequestException",VodRequestExceptionResume:"vodRequestExceptionResume",TraceLog:"traceLog",DumpBuffer:"dumpBuffer",PlaybackRateChanged:"playbackRateChanged",StatisticsInfo:"statisticsInfo",MutedAutoplay:"mutedAutoplay",Timeline:"timeline",ManualPlay:"manualPlay",UpdateWatchTime:"updateWatchTime"}}},{}],72:[function(e,t,r){e("../../event/eventtype");var n=e("../../../../lib/dom"),i=e("../../../../lib/ua");t.exports.handle=function(){i.IS_IOS&&(i.IS_IOS,!this._splayer||2!==this._splayer.renderType)||n.removeClass(this.el(),"prism-fullscreen")}},{"../../../../lib/dom":35,"../../../../lib/ua":51,"../../event/eventtype":71}],73:[function(e,t,r){var n=e("../../event/eventtype");t.exports.handle=function(e){var t=this;t.trigger(n.Player.CompleteSeek,e.paramData.toTime),t.one(n.Player.CanPlay,(function(){t._enteredProgressMarker&&t.pause()}))}},{"../../event/eventtype":71}],74:[function(e,t,r){var n=e("../../event/eventtype"),i=(e("../../../../lib/constants"),e("../../../../lang/index"),e("../../../../monitor/util"));t.exports.handle=function(e){var t=this;e=e.paramData;t.trigger(n.Private.H5_Loading_Hide),t.trigger(n.Private.Cover_Hide),t.trigger(n.Private.Play_Btn_Hide),t.trigger(n.Private.SettingListHide),t.trigger(n.Private.SelectorHide),t.trigger(n.Private.VolumeVisibilityChange,""),e=e||{},t._monitor&&(e.uuid=i.getUuid(),e.serverRequestId=t._serverRequestId,e.requestId=t._monitor.sessionId,e.cdnIp=t._monitor._userNetInfo.cdnIp,e.localIp=t._monitor._userNetInfo.localIp),t._isError=!0,t.trigger(n.Private.Error_Show,e),t.trigger(n.Private.LifeCycleChanged,{type:n.Player.Error,data:e})}},{"../../../../lang/index":26,"../../../../lib/constants":31,"../../../../monitor/util":67,"../../event/eventtype":71}],75:[function(e,t,r){var n=e("../../event/eventtype"),i=e("../../../../lib/event"),o=e("./lifecyclecommon"),a={endStart:e("./endstart"),seekStart:e("./seekstart"),requestFullScreen:e("./requestfullscreen"),cancelFullScreen:e("./cancelfullscreen"),error:e("./error"),privateSeiFrame:e("./seiframe"),patchWaiting:e("../video/waiting")},s=[n.Private.EndStart,n.Private.SeekStart,n.Player.RequestFullScreen,n.Player.CancelFullScreen,n.Player.Error,n.Player.Ready,n.Private.Dispose,n.Private.Created,n.Private.SeiFrame,n.Private.PatchWaiting];t.exports.bind=function(e){e.el();for(var t=0;t<s.length;t++){var r=s[t];"undefined"!=a[r]&&((e,t,r)=>{var n=e.el();i.on(n,t,(function(n){var i=(r&&r.handle?r:o).handle;i.call(e,n,t)}))})(e,r,a[r])}}},{"../../../../lib/event":36,"../../event/eventtype":71,"../video/waiting":93,"./cancelfullscreen":72,"./endstart":73,"./error":74,"./lifecyclecommon":76,"./requestfullscreen":77,"./seekstart":78,"./seiframe":79}],76:[function(e,t,r){var n=e("../../event/eventtype");t.exports.handle=function(e,t){this.trigger(n.Private.LifeCycleChanged,{type:t,data:e})}},{"../../event/eventtype":71}],77:[function(e,t,r){e("../../event/eventtype");var n=e("../../../../lib/dom"),i=e("../../../../lib/ua");t.exports.handle=function(){i.IS_IOS&&(i.IS_IOS,!this._splayer||2!==this._splayer.renderType)||n.addClass(this.el(),"prism-fullscreen")}},{"../../../../lib/dom":35,"../../../../lib/ua":51,"../../event/eventtype":71}],78:[function(e,t,r){var n=e("../../event/eventtype");t.exports.handle=function(e){this._seeking=!0,this.trigger(n.Player.StartSeek,e.paramData.fromTime)}},{"../../event/eventtype":71}],79:[function(e,t,r){e("../../event/eventtype"),t.exports.handle=function(e){e=e.paramData;var t,r,n=e.pts;this._hls2?n=parseInt(1e3*n):this._hls&&(t=e.pts,r=this._initPTS,n=parseInt((t-r)/90,10)),this._seis[n]=this._seis[n]||[],this._seis[n].push(e.dataContent)}},{"../../event/eventtype":71}],80:[function(e,t,r){var n=e("../../event/eventtype");t.exports.handle=function(e){var t=this,r=(t._retrySwitchUrlCount=0,t._liveRetryCount=0,t._clearLiveErrorHandle(),t._dumpBuffer="ABORTED",(new Date).getTime()-t.readyTime);t._options.autoplay||t._options._autoplay||!t.paused()||(t.trigger(n.Private.H5_Loading_Hide),t.trigger(n.Private.Play_Btn_Show)),t.trigger(n.Player.CanPlay,{loadtime:r})}},{"../../event/eventtype":71}],81:[function(e,t,r){var n=e("../../event/eventtype"),i=e("../../../../lib/dom"),o=e("../../../../lib/ua");t.exports.handle=function(e){this._seeking=!1;var t=this.tag;"none"===t.style.display&&o.IS_IOS&&setTimeout((function(){i.css(t,"display","block")}),100),this.trigger(n.Video.CanPlayThrough)}},{"../../../../lib/dom":35,"../../../../lib/ua":51,"../../event/eventtype":71}],82:[function(e,t,r){t.exports.handle=function(e,t){var r="";e&&e.paramData&&(r=e.paramData),this.trigger(t,r)}},{}],83:[function(e,t,r){var n=e("../../event/eventtype");e("../../../../lang/index"),e("../../../../lib/event"),t.exports.handle=function(e){var t=this;t.waiting=!1,t._ended=!0,t._currentTimeForDisableSeek=0,t.traceLog("video/ended.js","event::ended"),t.trigger(n.Private.Play_Btn_Show),t.trigger(n.Player.Ended,{playTime:t.getPlayTime()}),t.__disposed||(t._monitor&&t._monitor._onPlayerInit(),t._options.rePlay?(t._monitor&&t._monitor.startHeartBeat(),this._splayer||(t.seek(t._getPlayStartTime()),t.tag.play())):t._options.isLive&&t.trigger(n.Private.H5_Loading_Hide))}},{"../../../../lang/index":26,"../../../../lib/event":36,"../../event/eventtype":71}],84:[function(e,t,r){var n=e("../../event/eventtype"),i=e("../../../../lib/constants"),o=e("../../../../lang/index"),a=(e("../../../../lib/event"),e("../../../../lib/ua")),s=(e("../../../../lib/io"),e("../../../../lib/playerutil")),c="video/error.js";function l(e,t,r){var n=e._options,c=n.source||"";4===(t=4!==t&&a.IS_IOS&&/qqbrowser/i.test(a.USER_AGENT)?4:t)&&s.isHls(c)?s.detectRegionBlock(c,(function(t){t?(t={mediaId:n.isLive?"ISLIVE":n.vid||"",error_code:i.ErrorCode.RegionBlock,error_msg:o.get("Error_Region_Block_Text"),diagnosis_info:o.get("Tip_Err_Blocked")},e.logError(t),e.trigger("error",t)):r()})):r()}t.exports.handle=function(e){if((e.target||e.srcElement).error){var t=this;if(t.waiting=!1,t._clearTimeout(),t.checkOnline()&&!t._splayer&&!t._drm){var r,u="",p=e.target||e.srcElement,d=p.error&&p.error.message||"";u="";if(p.error&&p.error.code&&(r=p.error.code,u=i.VideoErrorCode[p.error.code],d=r+" || "+d),t.traceLog(c,"event::error#"+r+"#"+d),t._reportDumpBuffer&&t._reportDumpBuffer(),t._options.isLive)l(t,r,(function(){t._options.liveRetry>t._liveRetryCount?t._reloadAndPlayForM3u8():(t._liveRetryCount=0,t.trigger(n.Player.LiveStreamStop),t._liveErrorHandle=setTimeout((function(){var e={mediaId:"ISLIVE",error_code:u,error_msg:d||o.get("Error_Play_Text")+"，"+o.get("Error_Retry_Text")};t.logError(e),e.display_msg=i.VideoErrorCodeText[r]||e.error_msg,t.trigger("error",e)})),a.IS_UC&&(t._liveErrorHandle=null))}));else if(3==r){if(p="",-1<d.indexOf("no decoder found"))p=o.get("Error_No_Decoder_Text");else if(t._nudgeCount=t._nudgeCount||0,t._nudgeCount<5){t._nudgeCount++;var h=+t._nudgeCount;h=t.getCurrentTime()+h;if(t.traceLog(c,"decode error, try to nudge("+t._nudgeCount+"/5) from "+t.getCurrentTime()+" to "+h+"s, duration: "+t.getDuration()),h<t.getDuration())return void t._loadByUrlInner(t._options.source,h,!0)}else if(function(){var e,t=!1,r=this.getOptions();return this._fallback||!s.isHls(r.source)||this._options._native||!s.canPlayHls()||this.swPlayer||(t=!0,this._options.useHlsPluginForSafari=!1,this._options._native=!0,this.traceLog(c,"fallback to native player"),e=this.getCurrentTime(),window.Aliplayer&&window.Aliplayer.reloadInstance(this._options,(function(t){t._fallback=!0,r.isLive||t.seek(e)}),this)),t}.call(t)||function(){var e,t=!1,r=this.getOptions();return!this._fallback&&s.isHls(r.source)&&this._options._native&&s.isSupportHls()&&(t=!0,this._options.useHlsPluginForSafari=!0,this._options._native=!1,this.traceLog(c,"fallback to MSE player"),e=this.getCurrentTime(),window.Aliplayer)&&window.Aliplayer.reloadInstance(this._options,(function(t){t._fallback=!0,r.isLive||t.seek(e)}),this),t}.call(t))return;h={mediaId:t._options.vid||"",error_code:u,error_msg:d},t.logError(h),h.display_msg=i.VideoErrorCodeText[r]+(p?"，"+p:""),h.diagnosis_info=o.get("Tip_Err_Decode")+"<br />"+o.get("Tip_Err_Common_Short")+d,t.trigger(n.Player.Error,h)}else t._reloadForVod()||l(t,r,(function(){var e,a,s;e=o.get("Error_Play_Text"),a=!1,r<3?e=i.VideoErrorCodeText[r]:t._eventState==i.SUSPEND?(e=o.get("Error_Load_Abort_Text"),u=i.ErrorCode.RequestDataError):t._eventState==i.LOAD_START?(e=o.get("Error_Network_Text"),0<t._options.source.indexOf("auth_key")&&(e=e+"，"+o.get("Error_AuthKey_Text")),u=i.ErrorCode.StartLoadData):t._eventState==i.LOADED_METADATA&&(e=o.get("Error_Play_Text"),u=i.ErrorCode.PlayingError),e=e+"，"+o.get("Error_Retry_Text"),1<t._urls.length&&t._retrySwitchUrlCount<3&&-1==t._options.source.indexOf(".mpd")&&(t.switchUrl(),a=!0),s={mediaId:t._options.vid||"",error_code:u,error_msg:d},a||(t.logError(s),s.display_msg=e,t.trigger(n.Player.Error,s))}))}}else this.traceLog(c,"video.MediaError is null, may be caused by non-video source, like invalid poster ("+(e.target||e.srcElement).poster+")")}},{"../../../../lang/index":26,"../../../../lib/constants":31,"../../../../lib/event":36,"../../../../lib/io":43,"../../../../lib/playerutil":48,"../../../../lib/ua":51,"../../event/eventtype":71}],85:[function(e,t,r){var n=e("../../../../lib/event"),i=e("../../event/eventtype"),o={canplay:e("./canplay"),canplaythrough:e("./canplaythrough"),common:e("./common"),ended:e("./ended"),error:e("./error"),pause:e("./pause"),play:e("./play"),playing:e("./playing"),waiting:e("./waiting"),timeupdate:e("./timeupdate"),manualended:e("./ended"),loadedmetadata:e("./loadedmetadata"),seeking:e("./seeking"),resize:e("./resize")};t.exports.bind=function(e){for(var t in e.tag,i.Video)t=i.Video[t],((e,t,r)=>{var o=e.tag;n.on(o,t,(function(n){r.handle.call(e,n,t),t!=i.Video.Error&&(t==i.Video.ManualEnded&&(t=i.Video.Ended),e.trigger(i.Private.LifeCycleChanged,{type:t,data:n}))}))})(e,t,void 0!==o[t]?o[t]:o.common)}},{"../../../../lib/event":36,"../../event/eventtype":71,"./canplay":80,"./canplaythrough":81,"./common":82,"./ended":83,"./error":84,"./loadedmetadata":86,"./pause":87,"./play":88,"./playing":89,"./resize":90,"./seeking":91,"./timeupdate":92,"./waiting":93}],86:[function(e,t,r){var n=e("../../event/eventtype");e("../../../../lib/playerutil"),t.exports.handle=function(e){var t=this.tag,r=t.duration<1?0:t.duration;this._getSubVideoConfig().start>r-1&&(console.warn("Params.start ["+this._getSubVideoConfig().start+"] is greater than video.duration ["+r+"] - 1, seeking to 0"),this.setStartEnd(0,this._getSubVideoConfig().end)),this._getWatchTimeConfig().watchStartTime>r-1&&(console.warn("Params.watchStartTime ["+this._getWatchTimeConfig().watchStartTime+"] is greater than video.duration ["+r+"] - 1, seeking to 0"),this.setWatchTime(0,this._getWatchTimeConfig().watchEndTime)),this.trigger(n.Private.ReadyState),this._splayer&&this.trigger(n.Video.DurationChange),this.trigger(n.Video.LoadedMetadata),t.videoWidth&&t.videoHeight||this.trigger(n.Player.VideoUnavailable)}},{"../../../../lib/playerutil":48,"../../event/eventtype":71}],87:[function(e,t,r){var n=e("../../event/eventtype"),i=e("../../../../lib/ua");t.exports.handle=function(e){var t=this;t._seeking&&t._splayer||(t._hls&&t._options&&t._options.isLive&&i.IS_FIREFOX&&t.trigger(n.Private.Play_Btn_Show),t._clearTimeout(),t.trigger(n.Private.AutoStreamHide),t.trigger(n.Player.Pause),t._isManualPause&&(t.trigger(n.Private.Play_Btn_Show),t.trigger(n.Private.H5_Loading_Hide)),t.waiting=!1)}},{"../../../../lib/ua":51,"../../event/eventtype":71}],88:[function(e,t,r){var n=e("../../event/eventtype");t.exports.handle=function(e){this.trigger(n.Private.Error_Hide),this.trigger(n.Private.Cover_Hide),this.trigger(n.Private.AutoStreamHide),this.waiting=!1,this.trigger(n.Player.Play)}},{"../../event/eventtype":71}],89:[function(e,t,r){var n=e("../../event/eventtype");t.exports.handle=function(e){var t,r=this;this.tag.paused||(r.trigger(n.Private.H5_Loading_Hide),r.trigger(n.Private.Cover_Hide),r.trigger(n.Private.Info_Hide),r.waiting=!1,r._ended=!1,r._liveRetryCount=0,r._vodRetryCount=0,r._seeking=!1,t=r.getCurrentTime(),r._waitingReloadTime!=t&&(r._waitingTimeoutCount=0),r._checkTimeoutHandle&&(clearTimeout(r._checkTimeoutHandle),r._checkTimeoutHandle=null),r._waitingLoadedHandle&&(clearTimeout(r._waitingLoadedHandle),r._waitingLoadedHandle=null),r._ucSourceHandle&&(clearTimeout(r._ucSourceHandle),r._ucSourceHandle=null),r._waitingDelayLoadingShowHandle&&(clearTimeout(r._waitingDelayLoadingShowHandle),r._waitingDelayLoadingShowHandle=null),r._waitingTimeoutHandle&&(clearTimeout(r._waitingTimeoutHandle),r._waitingTimeoutHandle=null,r._ccService)&&r._options.isLive&&(t=r._ccService.getCurrentSubtitle(),r._setDefaultCC=!0,t)&&r._ccService.switch(t),r.trigger(n.Private.AutoStreamHide),r.trigger(n.Player.Playing),r.trigger(n.Private.Error_Hide),r.trigger(n.Private.Play_Btn_Hide))}},{"../../event/eventtype":71}],90:[function(e,t,r){var n=e("../../event/eventtype"),i=e("../../../../feature/ratioAdapter");t.exports.handle=function(e){this.trigger(n.Video.Resize);var t=this.getOptions();if(t.autoSize){if(!this._ratioAdapter){if(!0!==t.autoSize&&"width"!==t.autoSize&&"height"!==t.autoSize)return void console.warn("Unknown parameter [autoSize]: "+t.autoSize+", only true/height/width are supported");!0===t.autoSize&&(t.autoSize="height"),this._ratioAdapter=new i}this._ratioAdapter.autoResize(this.tag.videoWidth/this.tag.videoHeight,this,t.autoSize)}}},{"../../../../feature/ratioAdapter":22,"../../event/eventtype":71}],91:[function(e,t,r){var n=e("../../event/eventtype");e("../../../../lib/playerutil"),t.exports.handle=function(e){var t,r,i,o=this.tag,a=(this.getOptions().disableSeek&&(a=o.currentTime-this._currentTimeForDisableSeek,.01<Math.abs(a))&&(o.currentTime=this._currentTimeForDisableSeek),o.currentTime);this._canSeek(a)||(t=this._getWatchTimeConfig(),i=0,(r=this._getSubVideoConfig()).start||r.end?i=a>r.end?r.end:r.start:(t.watchStartTime||t.watchEndTime)&&(i=a>t.watchEndTime?t.watchEndTime:t.watchStartTime),o.currentTime=i),this.trigger(n.Video.Seeking)}},{"../../../../lib/playerutil":48,"../../event/eventtype":71}],92:[function(e,t,r){var n=e("../../event/eventtype"),i=e("../../../../lib/ua"),o=e("../../../../lib/event"),a=e("../../plugin/status");function s(e){var t=this;null!=e&&e.length&&e.forEach((function(e){t.trigger(n.Player.SeiFrame,e)}))}t.exports.handle=function(e){var t=this;if(t._isError||t.trigger(n.Player.TimeUpdate,e.timeStamp),!t.__disposed){t._decodeErrorNudgeTimer||(t._decodeErrorNudgeTimer=setTimeout((function(){t._nudgeCount=0}),3e3)),(i.IS_IOS||i.IS_MAC_SAFARI)&&(clearTimeout(t._waitingPatchTimer),t._waitingPatchTimer=setTimeout((function(){t.waiting||t._isError||t.paused()||t._disposed||(console.log("!!!!!!!manually waiting!!!!!!!"),t.trigger(n.Private.PatchWaiting))}),3e3));var r,c,l,u=t.getCurrentTime(),p=(e=(t.tag.seeking||(t._currentTimeForDisableSeek=u),t.waiting&&!t._TimeUpdateStamp&&(t._TimeUpdateStamp=u),0!=t.waiting&&t._TimeUpdateStamp==u||0===u||(t.trigger(n.Private.H5_Loading_Hide),t.trigger(n.Private.AutoStreamHide),t._checkTimeoutHandle&&clearTimeout(t._checkTimeoutHandle),t._waitingTimeoutHandle&&clearTimeout(t._waitingTimeoutHandle),t._waitingLoadedHandle&&clearTimeout(t._waitingLoadedHandle),t._ucSourceHandle&&(clearTimeout(t._ucSourceHandle),t._ucSourceHandle=null),t.waiting=!1),i.IS_ANDROID&&i.IS_UC&&(t._timeNotUpdateCount=t._timeNotUpdateCount||0,t.waiting||u!==t._TimeUpdateStamp||(t._timeNotUpdateCount++,2<=t._timeNotUpdateCount&&(t._timeNotUpdateCount=0,t.trigger(n.Private.PatchWaiting)))),t._TimeUpdateStamp=u,t._options.isLive||(r=t.getDuration(),e=!1,c=0,r<u&&!t.paused()?(c=1,e=!0):r-u<.2&&0<=i.browser.version.indexOf("49.")&&!t.paused()?(c=2,e=!0):t.exceedPreviewTime(u)?(c=3,e=!0):u>=t._getWatchTimeConfig().watchEndTime&&(c=4,e=!0,t.pause()),e&&setTimeout((function(){t._ended||(t._splayer||t.paused()||t.pause(),o.trigger(t.tag,n.Video.ManualEnded),t.traceLog&&t.traceLog("video/timeupdate.js","ManualEnded#"+c+"#"+u+"#"+r))}),100)),t._player.tag),e&&t._options.isLive&&(t._player.resolution&&0<e.videoWidth&&0<e.videoHeight&&(0<t._player.resolution.width||0<t._player.resolution.height)&&(t._player.resolution.width!==e.videoWidth||t._player.resolution.height!==e.videoHeight)&&(l={oldResolution:{width:t._player.resolution.width,height:t._player.resolution.height},newResolution:{width:e.videoWidth,height:e.videoHeight}},t.trigger(n.Player.ResolutionChange,l)),t._player.resolution.width=0==e.videoWidth?t._player.resolution.width:e.videoWidth,t._player.resolution.height=0==e.videoHeight?t._player.resolution.height:e.videoHeight),i.IS_CHROME&&Number(i.CHROME_VERSION)<50&&(t._playingSlientPause&&(clearTimeout(t._playingSlientPause),t._playingSlientPause=null),t._playingSlientPause=setTimeout((function(){var e,r;t._status!=a.playing||t.paused()||t._drm||t._urls.length||(e=t.getCurrentTime(),r=t._options.isLive?0:e,t._loadByUrlInner(t._options.source,r,e))}),3e3)),t._seis||{}),d=Object.keys(p);if(0!==d.length)for(var h=parseInt(1e3*u,10)+300,f=0;f<d.length;f++){var y=d[f];if(!(y<=h))break;s.call(t,p[y]),delete p[y]}}}},{"../../../../lib/event":36,"../../../../lib/ua":51,"../../event/eventtype":71,"../../plugin/status":98}],93:[function(e,t,r){var n=e("../../event/eventtype"),i=e("../../../../lib/constants"),o=e("../../../../lib/event"),a=e("../../../../lang/index"),s=e("../../../../lib/ua"),c=e("../../../../lib/playerutil"),l="video/waiting.js";t.exports.handle=function(e){var t=this;if(!t._options.isLive){var r=this.getCurrentTime(),u=this.getDuration();if(!t._ended&&0<u&&(u-r<.5||u<r))return t.pause(),t._ended=!0,o.trigger(this.tag,n.Video.ManualEnded),void(t.traceLog&&t.traceLog(l,"ManualEnded#"+r+"#"+u))}function p(){t._checkTimeoutHandle&&(clearTimeout(t._checkTimeoutHandle),t._checkTimeoutHandle=null),t._waitingTimeoutHandle&&(clearTimeout(t._waitingTimeoutHandle),t._waitingTimeoutHandle=null),t._waitingLoadedHandle&&(clearTimeout(t._waitingLoadedHandle),t._waitingLoadedHandle=null),t._waitingDelayLoadingShowHandle&&(clearTimeout(t._waitingDelayLoadingShowHandle),t._waitingDelayLoadingShowHandle=null),t._ucSourceHandle&&(clearTimeout(t._ucSourceHandle),t._ucSourceHandle=null)}t.waiting=!0,p(),t._waitingDelayLoadingShowHandle=setTimeout((function(){s.IS_IOS&&t.paused()||t._isError||t.trigger(n.Private.H5_Loading_Show)}),1e3*t._options.delayLoadingShow),t._TimeUpdateStamp=null,t._checkTimeoutHandle=setTimeout((function(){t.trigger(n.Private.AutoStreamShow)}),1e3*t._options.loadDataTimeout),t.trigger(n.Player.Waiting),t._waitingTimeoutHandle=setTimeout((function(){var e;t.tag&&t._options&&(t.pause(),e={mediaId:t._options.vid||"",error_code:i.ErrorCode.LoadingTimeout,error_msg:a.get("Error_Waiting_Timeout_Text")},t.logError(e),t.trigger("error",e))}),1e3*t._options.waitingTimeout),r=t._options,r.disableLiveHalfRetry&&r.isLive||r.disableVodHalfRetry&&!r.isLive||(t._waitingLoadedHandle=setTimeout((function(){var e=t.getCurrentTime();0==t._waitingTimeoutCount&&e!=t._waitingReloadTime&&(t.traceLog(l,"half-retry::"+t._options.waitingTimeout/2),t._waitingTimeoutCount=1,t._waitingReloadTime=e,e=t._options.isLive?0:e,t._loadByUrlInner(t._options.source,e,!0))}),t._options.waitingTimeout/2*1e3)),s.IS_ANDROID&&s.IS_DINGTALK&&(t._ucSourceHandle=setTimeout((function(){c.detectRegionBlock(t._options.source,(function(e){e&&(e={mediaId:t._options.vid,error_code:i.ErrorCode.RegionBlock,error_msg:a.get("Error_Region_Block_Text"),diagnosis_info:a.get("Tip_Err_Blocked")},t.logError(e),t.trigger("error",e))}))}),5e3)),t.on("error",(function(){p()}))}},{"../../../../lang/index":26,"../../../../lib/constants":31,"../../../../lib/event":36,"../../../../lib/playerutil":48,"../../../../lib/ua":51,"../../event/eventtype":71}],94:[function(e,t,r){var n="undefined"==typeof Promise?e("es6-promise").Promise:Promise,i=e("../../ui/component"),o=e("../../lib/object"),a=e("../../lib/dom"),s=e("../../lib/event"),c=e("../../ui/exports"),l=e("../../monitor/monitor"),u=e("../../lib/ua"),p=e("../../lib/constants"),d=e("../../lib/playerutil"),h=e("../../lib/util"),f=e("./x5play"),y=e("../../lib/cookie"),g=e("../../lang/index"),v=e("../../feature/autoplaydelay"),_=e("./event/eventmanager"),m=e("../../ui/component/cover"),b=e("../../ui/component/license-watermark"),S=e("../../feature/license"),T=e("../../ui/component/text-track-display"),w=e("../../commonui/autostreamselector"),E=e("./event/eventtype"),x=e("./plugin/lifecyclemanager"),k=e("../service/export"),P=e("../../ui/component/progressmarker"),C=e("../../feature/keyboardControl"),R=e("../../feature/AntiRecord"),A=(e("./eventHandler/video/index"),e("../../lib/vttnext/index")),I=e("../../lib/codec-probe"),O=e("../splayer/splayerinjector"),L=e("../../ui/component/util").throttle,D=e("../../feature/ratioAdapter"),N=e("../../feature/logoManager"),M="base/player.js";e=i.extend({init:function(e,t){var r;function a(e){var r,i=this;"file:"===window.location.protocol||this._licenseHasResult||(this._licenseHasResult=!0,t.license&&t.license.key&&t.license.domain?("native"!==e.paramData.renderType&&(e=e.paramData.codecTag,d.isH265Codec(e)?r=p.FEATURE_ID_H265:d.isH266Codec(e)&&(r=p.FEATURE_ID_H266)),S.getLicense(t.license.domain,t.license.key,"SEA"===t.env?"ap-southeast-1":"cn-shanghai").then((function(e){var t=e.validate(p.PLAYER_SDK_CODE_LEGACY,r),o=(e=e.validate(p.PLAYER_SDK_CODE,r),0===t||0===e);if(o||console.log(p.PLAYER_SDK_CODE_LEGACY,t,p.PLAYER_SDK_CODE,e),o)i.trigger(E.Private.LicenseHasResult,{result:p.LicenseResultCode.Success,featureId:r});else{if(2===t||2===e)return n.reject(p.LicenseResultCode.Expired);if(1===t&&1===e)return n.reject(p.LicenseResultCode.NotFound);console.error("license validate unknown error")}})).catch((function(e){var t=String(e).split("#");e=Number(t[0]),t=t[1];i.trigger(E.Private.LicenseHasResult,{result:e,errorCode:t,featureId:r}),S.logError(e)}))):(console.warn(g.get("Tip_License_Required")+(t.isLive?"":": https://help.aliyun.com/zh/vod/developer-reference/license-authorization-and-management#13133fa053843")),console.warn(g.get("Tip_License_Params")+": https://help.aliyun.com/zh/vod/developer-reference/integration"),this.trigger(E.Private.LicenseHasResult,{result:p.LicenseResultCode.LicenseKeyInvalid})))}this.tag=e,this.loaded=!1,this.played=!1,this.oncePlayed=!1,this.waiting=!1,this._urls=[],this._currentPlayIndex=0,this._retrySwitchUrlCount=0,this._isError=!1,this._isHls=!1,this._liveRetryCount=0,this._liveRetryTimer=null,this._flvDumpTimer=null,this._vodRetryCount=0,this._nudgeCount=0,this._seeking=!1,this._serverRequestId=0,this._waitingTimeoutCount=0,this._waitingReloadTime=0,this._created=!1,this._enteredProgressMarker=!1,this._liveShiftSeekStartTime=0,this._seis={},this._initPTS=0,this.isMutiLevel=!1,this._antiRecord=null,this._ratioAdapter=null,this._logoManager=null,this._clickPauseEnabled=!1,this._currentTimeForDisableSeek=0,this._loadByUrlStartTime=0,this._posOffset=0,this._onceLogged=!1,this._licenseHasResult=!1,this.__disposed=!1,this.resolution={width:0,height:0},void 0===t.skinLayout&&(t.skinLayout=d.getDefaultH5Layout()),null!=(e=t.skinLayoutIgnore)&&e.length&&(t.skinLayout=d.ignoreSkinLayouts(t.skinLayout,t.skinLayoutIgnore)),d.isRts(t.source)&&!t.autoplay&&(t.preload=!1),"SEA"===t.env&&(t.logReportTo="https://videocloud-sgp.ap-southeast-1.log.aliyuncs.com/logstores/newplayer/track",t.disableDumpBuffer=!0),i.call(this,this,t),this.addClass("prism-player"),t.plugins&&o.each(t.plugins,(function(e,t){this[e](t)}),this),this._createService(),this.UI={},t.useNativeControls?this.tag.setAttribute("controls","controls"):(this.UI=c,0==t.errorDisplay&&(this.UI.errorDisplay=void 0)),t.disablePip&&this.tag.setAttribute("disablePictureInPicture","true"),this._handleClickPause_dbClickFullscreen(t),this.initChildren(),this._options.trackLog&&(this._monitor=new l(this,{video_id:0,album_id:0,from:this._options.from,source:this._options.source,logBatched:this._options.logBatched,logReportTo:this._options.logReportTo},this._options.trackLog)),_.onAll(this),this.trigger(E.Private.Create,t._userOptions),this._options.preventRecord&&(this._antiRecord=new R({player:this}),this._antiRecord.start()),this._lifeCycleManager=new x(this),this._overrideNativePlay(),this._liveshiftService&&!this._liveshiftService.validate()?(e={mediaId:this._options.vid||"",error_code:p.ErrorCode.InvalidParameter,error_msg:g.get("ShiftLiveTime_Error")},this.trigger(E.Player.Error,e)):(this._posOffset=this._getSubVideoConfig().start||0,this._options.extraInfo&&(e=this._options.extraInfo).liveRetry&&(this._options.liveRetry=e.liveRetry),this.on(E.Private.ReadyState,(function(){this.trigger(E.Player.Ready)})),this.on(E.Player.H265PlayInfo,a),this.on(E.Player.H266PlayInfo,a),this.one(E.Player.CanPlay,a),this.on(E.Private.LicenseHasResult,(function(e){e=e.paramData||{};var t=e.result,r=e.errorCode,n=e.featureId;e=p.LicenseResultCode;switch(t){case e.LicenseKeyInvalid:case e.DomainInvalid:this.trigger(E.Private.LicenseTipShow,{message:g.get(p.LicenseErrorKey.Empty)});break;case e.NotFound:this.trigger(E.Private.LicenseTipShow,{message:g.get(p.LicenseErrorKey.Unauthorized)});var i="";n===p.FEATURE_ID_H265&&(i="H265"),n===p.FEATURE_ID_H266&&(i="H266"),console.error(g.get("Tip_License_Feature"),i);break;case e.Expired:this.trigger(E.Private.LicenseTipShow,{message:g.get(p.LicenseErrorKey.Expired)});break;case e.CertInvalid:-1<["E003","E005","E006"].indexOf(r)?(this.trigger(E.Private.LicenseTipShow,{message:g.get(p.LicenseErrorKey.LicenseKeyInvalid)+"("+r+")"}),console.error(g.get("Tip_License_Check"))):"E008"===r?(this.trigger(E.Private.LicenseTipShow,{message:g.get(p.LicenseErrorKey.DomainInvalid)+"("+r+")"}),console.error(g.get("Tip_License_Domain"))):"E010"===r&&(this.trigger(E.Private.LicenseTipShow,{message:g.get(p.LicenseErrorKey.NotFound)+"("+r+")"}),console.error(g.get("Tip_License_Check")))}})),this._thumbnailService&&this._options.thumbnailUrl&&this._thumbnailService.get(this._options.thumbnailUrl),0<this._options.progressMarkers.length&&this.trigger(E.Private.ProgressMarkerLoaded,this._options.progressMarkers),this._options.source&&this._options._native&&this._executeReadyCallback(),this._options.autoplay||this._options.preload?this.trigger(E.Private.H5_Loading_Show):this.trigger(E.Private.Play_Btn_Show),this._extraMultiSources(),this._options.source&&(this.trigger(E.Private.PREPARE,"custom"),this._options.autoPlayDelay?(this._autoPlayDelay=new v(this),(r=this)._autoPlayDelay.handle((function(){r.initPlay()}))):this.initPlay()),this._options.ratio&&(this._options.autoSize?console.warn("The parameter [ratio] will be ignored when [autoSize] is set."):(this._options.height&&console.warn("The parameter [height] will be ignored when [ratio] is set."),this._ratioAdapter=new D,this._ratioAdapter.autoResize(this._options.ratio,this))),C.init.call(this),null!=(e=this._options.logo)&&e.length&&(this._logoManager=new N({container:this.el(),video:this.tag,logo:this._options.logo})),this._vttBroker=new A({player:this}),this._getUserTextTracks())}});e.prototype.isSupportMSE=function(){return d.isSupportMSE()},e.prototype.initPlay=function(e){this._initPlayBehavior(e,this._options.source)},e.prototype.initChildren=function(){var e=this.options(),t=e.skinLayout;if(!1!==t&&!o.isArray(t))throw new Error("PrismPlayer Error: skinLayout should be false or type of array!");!1!==t&&0!==t.length&&(this.options({children:t}),i.prototype.initChildren.call(this)),this.UI.cover=m,e.className="",this.addChild("cover",e),this.UI.autoStreamSelector=w,this.addChild("autoStreamSelector",e),this.UI.progressMarker=P,this.addChild("progressMarker",e),this.UI.textTrackDisplay=T,this.addChild("textTrackDisplay",e),this.UI.licenseWatermark=b,this.addChild("licenseWatermark",e),this.trigger(E.Private.UiH5Ready)},e.prototype.createEl=function(){var e=!1,t=("VIDEO"!==this.tag.tagName?(this._el=this.tag,this.tag=i.prototype.createEl.call(this,"video"),this._options.playsinline&&(this.tag.setAttribute("webkit-playsinline",""),this.tag.setAttribute("playsinline",""),this.tag.setAttribute("x-webkit-airplay",""),this.tag.setAttribute("x5-playsinline",""))):(e=!0,this._el=this.tag.parentNode),this._el),r=this.tag,n=(this._options.enableSystemMenu||(r.addEventListener?r.addEventListener("contextmenu",(function(e){e.preventDefault()}),!1):r.attachEvent("oncontextmenu",(function(){window.event.returnValue=!1}))),r.player=this,a.getElementAttributes(r));return o.each(n,(function(e){t.setAttribute(e,n[e])})),this.setVideoAttrs(),e||(r.parentNode&&r.parentNode.insertBefore(t,r),a.insertFirst(r,t)),t},e.prototype.setVideoAttrs=function(){var e=this._options.preload,t=this._options.autoplay;if(this.tag.style.width=this._options.videoWidth||"100%",this.tag.style.height=this._options.videoHeight||"100%",e&&this.tag.setAttribute("preload","preload"),t&&"15"!==u.IOS_VERSION&&this.tag.setAttribute("autoplay","autoplay"),u.IS_IOS&&this.tag.setAttribute("poster","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KTMInWQAAAMZJREFUeAHt0DEBAAAAwqD1T20LL4hAYcCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMDAc2CcpAABaODCqQAAAABJRU5ErkJggg=="),(u.IS_UC||u.dingTalk())&&this.tag.setAttribute("renderer","standard"),this._options.extraInfo)for(var r in this._options.extraInfo)u.IS_OPPO&&"crossOrigin"===r||this.tag.setAttribute(r,this._options.extraInfo[r]);f.adaptX5Play(this)},e.prototype.checkOnline=function(){var e;return!(this._options&&!this._options.debug&&0==navigator.onLine&&((e={mediaId:this._options.vid||"",error_code:p.ErrorCode.NetworkUnavaiable,error_msg:g.get("Error_Offline_Text")}).display_msg=g.get("Error_Offline_Text"),this.trigger(E.Player.Error,e),1))},e.prototype.id=function(){return this.el().id},e.prototype.renderUI=function(){},e.prototype.switchUrl=function(){var e,t;this.traceLog(M,"switchUrl"),0!=this._urls.length&&(this._currentPlayIndex=this._currentPlayIndex+1,this._urls.length<=this._currentPlayIndex&&(this._currentPlayIndex=0,this._retrySwitchUrlCount++),e=this._urls[this._currentPlayIndex],y.set(p.SelectedStreamLevel,e.definition,365),this.trigger(E.Private.QualityChange,g.get("Quality_Change_Fail_Switch_Text")),t=this.getCurrentTime(),this._vodRetryCount=0,this._originalSource="",this._loadByUrlInner(e.Url,t,!0))},e.prototype.setControls=function(){var e=this.options();e.useNativeControls?this.tag.setAttribute("controls","controls"):"object"==typeof e.controls&&(e=this._initControlBar(e.controls),this.addChild(e))},e.prototype.enableClickPause=function(){this._clickPauseEnabled=!0},e.prototype.disableClickPause=function(){this._clickPauseEnabled=!1},e.prototype._initControlBar=function(e){return new ControlBar(this,e)},e.prototype.getMetaData=function(){},e.prototype.getReadyTime=function(){return this.readyTime},e.prototype.readyState=function(){return this.tag.readyState},e.prototype.getError=function(){return this.tag.error},e.prototype.getRecentOccuredEvent=function(){return this._eventState},e.prototype.getSourceUrl=function(){return this._options?this._options.source:""},e.prototype.getMonitorInfo=function(){return this._monitor?this._monitor.opt:{}},e.prototype.getCurrentQuality=function(){var e;return 0<this._urls.length?{width:(e=this._urls[this._currentPlayIndex]).width,url:e.Url,definition:e.definition}:""},e.prototype.getCurrentPDT=function(){var e;if((u.IS_SAFARI||u.IS_IOS)&&this.tag)return e=Date.parse(this.tag.getStartDate()),isNaN(e)?0:e+1e3*this.getCurrentTime()},e.prototype.stopPlayTimeMonitor=function(){this._playTimeMonitorTimer&&(clearInterval(this._playTimeMonitorTimer),this._playTimeMonitorTimer=null)},e.prototype.startPlayTimeMonitor=function(){var e=this,t=(this._playingTime=0,this._stuckTime=0,this._stuckCount=0,performance.now()),r=0,n=0,i=!1,o=0;this.stopPlayTimeMonitor(),this._playTimeMonitorTimer=setInterval((function(){var a=e.paused()?i=!0:!e.tag,s=1e3*e.getCurrentTime(),c=performance.now(),l=c-t,u=(t=c,(s-r)/e.tag.playbackRate);r=s,u<0&&(a=!0),null!=(s=e._monitor)&&s.canplayReported||(a=!0),(a="hidden"===document.visibilityState||a)||(i?i=!1:u<.8*l?(l<c-n&&(e._stuckCount++,o=c),c-o>=1e3*e.getOptions().waitingTimeout?e.stopPlayTimeMonitor():(n=c,e._playingTime+=u,e._stuckTime+=l-u)):e._playingTime+=l)}),1e3)},e.prototype.setSpeed=function(e,t){void 0===t&&(t=!0),this.tag&&(this._originalPlaybackRate=e,this.tag.playbackRate=e,t)&&this.trigger(E.Private.PlaybackRateChanged,e)},e.prototype.play=function(e){return this.traceLog(M,"play::"+e),e&&this.trigger(E.Private.ManualPlay),this.tag&&(this.tag.ended||this._ended?this.replay():((this._options.preload||this.loaded)&&this.tag.src||this._initLoad(this._options.source),this.trigger(E.Private.Cover_Hide),this.tag.play())),this._isManualPlay=e||!1,this},e.prototype.replay=function(){return this._monitor&&this._monitor.replay(),this.seek(this._getPlayStartTime()),this.tag.play(),this},e.prototype._getPlayStartTime=function(){return Math.max(0,this._getWatchTimeConfig().watchStartTime||0,this._loadByUrlStartTime||0)},e.prototype._getWatchTimeConfig=function(){var e=this.getOptions(),t=e.start,r=e.end,n=e.watchStartTime;e=e.watchEndTime,n=Number(n),e=Number(e);return(n||e)&&(d.hasValue(t)||d.hasValue(r))?(this._logOnce("Params.watchStartTime and Params.watchEndTime will be ignored when Params.start or Params.end is set","warn"),{watchStartTime:void 0,watchEndTime:void 0}):(e=e||void 0,(n=n||void 0)<0&&(this._logOnce("Params.watchStartTime is less than 0 ["+n+"], setting to undefined","warn"),n=void 0),e<0&&(this._logOnce("Params.watchEndTime is less than 0 ["+e+"], setting to undefined","warn"),e=void 0),e<=n&&(this._logOnce("Params.watchEndTime("+e+") is less than Params.watchStartTime("+n+"), setting to [undefined, "+e+"]","warn"),n=void 0),{watchStartTime:n,watchEndTime:e})},e.prototype._getSubVideoConfig=function(){var e=this.getOptions(),t=e.start;e=e.end,t=Number(t);return e=(e=Number(e))||void 0,(t=t||void 0)<0&&(this._logOnce("Params.start is less than 0 ["+t+"], setting to undefined","warn"),t=void 0),e<0&&(this._logOnce("Params.end is less than 0 ["+e+"], setting to undefined","warn"),e=void 0),e<=t&&(this._logOnce("Params.start("+t+") is greater than Params.end("+e+"), setting to [undefined, "+e+"]","warn"),t=void 0),{start:t,end:e}},e.prototype.pause=function(e){return this.tag&&this.tag.pause(),this._isManualPause=e||!1,this},e.prototype.stop=function(){return this.traceLog(M,"stop"),this.tag.setAttribute("src",null),this},e.prototype.paused=function(){if(this.tag)return!1!==this.tag.paused},e.prototype.getDuration=function(){var e=0,t=(this.tag&&(e=this.isPreview()&&this._vodDuration||this.tag.duration),this._getSubVideoConfig()),r=t.start;t=t.end;return r||t?Math.min(this.tag.duration,t||this.tag.duration)-Math.max(0,r||0):e},e.prototype.getDisplayDuration=function(){var e=0,t=(this.tag&&(e=this._vodDuration||this.getDuration()),this._getSubVideoConfig()),r=t.start;t=t.end;return r||t?Math.min(this.tag.duration,t||this.tag.duration)-Math.max(0,r||0):e},e.prototype.getCurrentTime=function(){return this.tag?this.tag.currentTime-this._posOffset:0},e.prototype.seek=function(e){var t;if(!Number.isNaN(e)&&(e=Number(e),e+=this._posOffset,this._canSeek(e)))return this._ended=!1,t=this.tag.duration,this._doSeek(this,e=t<=e?t:e),this},e.prototype._doSeek=L((function(e){var t=e[0];e=e[1];try{var r=t._originalPlaybackRate||t.tag.playbackRate;-1!==["16"].indexOf(u.IOS_VERSION)&&!t.oncePlayed||(t.tag.currentTime=e),t._seeking=!0,t.traceLog(M,"doSeek::"+e),u.IS_IE11&&setTimeout((function(){t.tag&&(t.tag.playbackRate=r)}))}catch(e){console.log(e)}}),100),e.prototype.traceLog=function(e,t){this.trigger(E.Private.TraceLog,"["+e+"]"+t)},e.prototype._loadByUrlInner=function(e,t,r){this.loadByUrl(e,t,r,!0)},e.prototype.loadByUrl=function(e,t,r,n){var i=this,o=(this.traceLog(M,"loadByUrl::"+e+"#"+t+"#"+r+"#"+n),this._monitor&&this._monitor._onPlayerUnderload(),this._monitor&&!n&&(this._monitor.reportPlayAbort("loadByUrl"),this._monitor.resetVV()),/\.m3u8|\.flv|\.mp4|artc\:\/\/|rtmp\:\/\//gi),a=((this._options.source||"").match(o)||[])[0]!==((e||"").match(o)||[])[0];if(this._options.liveShiftSource&&(a=!1),this._options.enableH266&&(a=!1),this._h265InfoReported=!1,this._probeInfo||(this._probeInfo={}),this._probeInfo.codecTag=void 0,!a&&(d.isMp4(e)||d.isFlv(e)||d.isHls(e)))return this._options.forceH265||this._options.forceH266||!this._options.enableH265&&!this._options.enableH266||u.IS_ANDROID&&u.dingTalk()&&!d.isFlv(e)?void c.call(this):void I(e,(function(t){t=d.getVideoTrack(t.tracks);var r=(t||{}).codecTag||(null==(r=(t||{}).codec)?void 0:r.split(".")[0]);i._probeInfo.codecTag=r,t&&d.isH265Codec(r)?d.isFlv(e)||d.isHls(e)?(i._splayer||(a=!0),c.call(i)):d.shouldUseBasePlayer({codecTag:r,url:e},(function(e){e?(i._splayer&&(a=!0),i._probeInfo.codecTag&&O.reportH265PlayInfo.call(i,{renderType:"native",codecTag:i._probeInfo.codecTag})):i._splayer||(a=!0),c.call(i)})):(t&&d.isH266Codec(r)?i._splayer||(a=!0):i._splayer&&(a=!0),c.call(i))}),(function(e){c.call(i)}));function c(){var i,o=this;a&&this._splayer&&this.removeChild(this._licenseWatermark),a&&window.Aliplayer?(console.log("[RELOAD INSTANCE]"),this.traceLog(M,"reloadInstance::"+e),this._options.source=e,window.Aliplayer.reloadInstance(this._options,(function(){}),this)):(n||(this._urls=[]),this._monitor&&!n&&(this._monitor.reset(),this._monitor.startHeartBeat()),this._isError=!1,this._clearTimeout(),this.trigger(E.Private.Error_Hide),this._options.source=e,this._posOffset=this._getSubVideoConfig().start||0,this._monitor&&this._monitor.updateVideoInfo({video_id:0,album_id:0,source:e,from:this._options.from}),n||(this.trigger(E.Private.ChangeURL),this._vodRetryCount=0),t&&this._canSeek(t)?this._loadByUrlStartTime=t-this._posOffset:this._loadByUrlStartTime=0,this._options._autoplay=r,this.initPlay(r),(i=this._options.autoplay||r)&&this.trigger(E.Private.Cover_Hide),i?this.trigger(E.Player.Play):this.trigger(E.Player.Pause),this._options.isLive||!t&&0!=t||isNaN(t)||s.one(this.tag,E.Video.CanPlay,(function(e){i&&(u.IS_IOS||u.IS_MAC_SAFARI)&&o._splayer&&o.play()})))}c.call(this)},e.prototype.setLogo=function(e){this._logoManager&&this._logoManager.dispose(),this._logoManager=new N({container:this.el(),video:this.tag,logo:e})},e.prototype.dispose=function(){this.__disposed||(this.__disposed=!0,this.trigger(E.Private.Dispose),this.tag.pause(),_.offAll(this),C.dispose.call(this),this._ratioAdapter&&(this._ratioAdapter.dispose(),this._ratioAdapter=null),this._logoManager&&(this._logoManager.dispose(),this._logoManager=null),this._antiRecord&&(this._antiRecord.dispose(),this._antiRecord=null),this._monitor&&(this._monitor.reportPlayAbort("dispose"),this._monitor.removeEvent(),this._monitor=null),this._autoPlayDelay&&this._autoPlayDelay.dispose(),this._checkTimeoutHandle&&(clearTimeout(this._checkTimeoutHandle),this._checkTimeoutHandle=null),this._waitingTimeoutHandle&&(clearTimeout(this._waitingTimeoutHandle),this._waitingTimeoutHandle=null),this._playingSlientPause&&(clearTimeout(this._playingSlientPause),this._playingSlientPause=null),this._waitingLoadedHandle&&(clearTimeout(this._waitingLoadedHandle),this._waitingLoadedHandle=null),this._ucSourceHandle&&(clearTimeout(this._ucSourceHandle),this._ucSourceHandle=null),this._readyStateTimer&&(clearInterval(this._readyStateTimer),this._readyStateTimer=null),this._vodRetryCountHandle&&(clearTimeout(this._vodRetryCountHandle),this._vodRetryCountHandle=null),this._waitingDelayLoadingShowHandle&&(clearTimeout(this._waitingDelayLoadingShowHandle),this._waitingDelayLoadingShowHandle=null),this._liveRetryTimer&&(clearTimeout(this._liveRetryTimer),this._liveRetryTimer=null),this._flvDumpTimer&&(clearTimeout(this._flvDumpTimer),this._flvDumpTimer=null),this.stopPlayTimeMonitor(),this._disposeService(),this._clearLiveErrorHandle(),this._el.innerHTML="",this.destroy(),this._releaseMediaElement(),this._options.recreatePlayer=null,this._options=null,this.isMutiLevel=!1,this._seis={},this._initPTS=0,this._clickPauseEnabled=!1,this._currentTimeForDisableSeek=0,this._posOffset=0,this._onceLogged=!1)},e.prototype._releaseMediaElement=function(){this.tag.removeAttribute("src"),this.tag.load(),this.tag=null},e.prototype.mute=function(e){return this._muteInner(),this._originalVolumn=this.tag.volume,e||(e=g.get("Volume_Mute"),this._player.trigger(E.Private.Info_Show,{text:e,duration:1e3,align:"lb"})),this._setInnerVolume(0),this},e.prototype._muteInner=function(){this.tag.muted=!0,this.trigger(E.Private.VolumnChanged,-1)},e.prototype.unMute=function(e){return this._unMuteInner(),e||(e=g.get("Volume_UnMute"),this._player.trigger(E.Private.Info_Show,{text:e,duration:1e3,align:"lb"})),this._setInnerVolume(this._originalVolumn||.5),this},e.prototype._unMuteInner=function(){this.tag.muted=!1,this.getOptions().mute&&(this.getOptions().mute=!1),this.trigger(E.Private.VolumnChanged,-2)},e.prototype.muted=function(){return this.tag&&this.tag.muted},e.prototype.getVolume=function(){return this.tag&&this.tag.volume},e.prototype.getOptions=function(){return this._options},e.prototype.setVolume=function(e,t){0!=(e=Math.min(1,Math.max(0,e)))?this._unMuteInner():0==e&&this._muteInner(),this._setInnerVolume(e),e=g.get("Curent_Volume")+"<span>"+(100*e).toFixed()+"%</span>",this._player.trigger(E.Private.Info_Show,{text:e,duration:1e3,align:"lb"})},e.prototype._setInnerVolume=function(e){this.tag.volume=e,this.trigger(E.Private.VolumnChanged,e)},e.prototype.hideProgress=function(){this.trigger(E.Private.HideProgress)},e.prototype.cancelHideProgress=function(){this.trigger(E.Private.CancelHideProgress)},e.prototype.setPlayerSize=function(e,t){this._el&&(this._el.style.width=e,this._el.style.height=t)},e.prototype.getBuffered=function(){return this.tag.buffered},e.prototype.setRotate=function(e){this.tag&&(this._rotate=e,this._setTransform(),this.log("ROTATE",{rotation:e}))},e.prototype.getRotate=function(e){return void 0===this._rotate?0:this._rotate},e.prototype.setImage=function(e){this.tag&&(this._image=e,this._setTransform(),this.log("IMAGE",{mirror:"horizon"==e?2:1,text:e}))},e.prototype.getImage=function(){return this._image},e.prototype.cancelImage=function(){this.tag&&(this._image="",this._setTransform(),this.log("IMAGE",{mirror:0}))},e.prototype.setCover=function(e){var t=document.querySelector("#"+this.id()+" .prism-cover");t&&e&&(t.style.backgroundImage="url("+e+")",this._options.cover=e,this._options.autoplay||this.trigger(E.Private.Cover_Show))},e.prototype.setTextTracks=function(e){this._options.textTracks=e,e=d.unqiueTextTracks(e||[]),this.trigger(E.Private.VttClearTracks),e&&e.length&&this.trigger(E.Private.TextTrackFounded,{from:"user",textTracks:e}),this.trigger(E.Private.CCReset)},e.prototype._setTransform=function(){this._transformProp||(this._transformProp=a.getTransformName(this.tag));var e=" translate(-50%, -50%)";this._rotate&&(e+=" rotate("+this._rotate+"deg)"),this._image&&("vertical"==this._image?e+=" scaleY(-1)":"horizon"==this._image&&(e+=" scaleX(-1)")),this.tag.style[this._transformProp]=e},e.prototype._startPlay=function(){this.tag.paused&&this.tag.play()},e.prototype._initPlayBehavior=function(e,t){var r=this;return!this._checkSupportVideoType()&&(d.validateSource(t)?(void 0===e&&(e=!1),this._created||(this._created=!0,this.trigger(E.Private.Created)),this.loaded||this.trigger(E.Player.Init),this._options.mute&&this.mute(!0),this.one(E.Video.CanPlay,(function(){var e=r._getPlayStartTime();r.getCurrentTime()<e&&r.seek(e),r._loadByUrlStartTime=0,1!==r.tag.playbackRate&&r.setSpeed(r.tag.playbackRate)})),this._options.autoplay||this._options._autoplay||this._options.preload||e?(this._options._preload=!0,this._initLoad(t),!this._options.autoplay&&!this._options._autoplay||this._isError||this._startPlay()):this.trigger(E.Private.Play_Btn_Show),!0):((e={mediaId:this._options.vid||"",error_code:p.ErrorCode.InvalidSourceURL,error_msg:"InvalidSourceURL"}).display_msg=g.get("Error_Invalidate_Source"),this.trigger(E.Player.Error,e),!1))},e.prototype._isPreload=function(){return this._options.autoplay||this._options.preload||this._options._preload},e.prototype._initLoad=function(e){e&&(this._isPreload()&&!u.IS_MOBILE?this.trigger(E.Private.H5_Loading_Show):(this.trigger(E.Private.H5_Loading_Hide),this.trigger(E.Private.Play_Btn_Show)),this.tag.setAttribute("src",e),this.oncePlayed=!1,this.loaded=!0)},e.prototype._clearLiveErrorHandle=function(){this._liveErrorHandle&&(clearTimeout(this._liveErrorHandle),this._liveErrorHandle=null)},e.prototype._reloadAndPlayForM3u8=function(){0==this._liveRetryCount&&this.trigger(E.Player.OnM3u8Retry);var e=this._options,t=e.liveRetryInterval+e.liveRetryStep*this._liveRetryCount,r=this;this._liveRetryTimer&&(clearTimeout(this._liveRetryTimer),this._liveRetryTimer=null),this.traceLog(M,"reloadAndPlayForM3u8::#"+r._options.source+"#"+1e3*t),this._liveRetryTimer=setTimeout((function(){r._liveRetryCount++,r._loadByUrlInner(r._options.source,void 0,e.autoplay)}),1e3*t)},e.prototype._checkSupportVideoType=function(){var e,t=this,r=this._options.source,n="";if(d.isRTMP(r)&&!this._options.useFlashPrism)n=g.get("Error_Not_Support_RTMP");else if(d.isDash(r)&&!d.isSupportMSE())n=g.get("Error_Not_Support_Mse_Dash");else if(!this.tag.canPlayType||!this._options.source||!u.IS_MOBILE)return"";return 0<r.indexOf("m3u8")?""!=this.tag.canPlayType("application/x-mpegURL")||d.isSupportHls()||(n=g.get("Error_Not_Support_M3U8_Text")):0<r.indexOf("mp4")?""==this.tag.canPlayType("video/mp4")&&(n=g.get("Error_Not_Support_MP4_Text")):(d.isRTMP(r)||d.isFlv(r))&&u.IS_MOBILE&&(this._options.useFlvPlugOnMobile?d.isSupportFlv()||(n=g.get("Error_Not_Support_Mse_Flv")):n=g.get("Error_Not_Support_Format_On_Mobile")),n&&(r=d.getFormat(r),e={mediaId:this._options.vid||"",error_code:p.ErrorCode.FormatNotSupport,error_msg:n+(r?"(format:"+r+")":"")},this.logError(e),e.display_msg=n,setTimeout((function(){t.trigger(E.Player.Error,e)}))),n},e.prototype._handleClickPause_dbClickFullscreen=function(e){var t,r,n,i=this,o=null;!e.isLive&&e.clickPause&&(this._clickPauseEnabled=!0,t=u.IS_IOS?"touchstart":"click",s.on(this.tag,t,(function(){i._clickPauseEnabled&&(e.dbClickFullscreen?(o&&clearTimeout(o),o=setTimeout((function(){i.paused()?i.play(!0):i.pause(!0),o=null}),e.clickPauseDelay)):i.paused()?i.play(!0):i.pause(!0))}))),e.dbClickFullscreen&&(r=function(){o&&(clearTimeout(o),o=null);var e=this.fullscreenService;e.getIsFullScreen()?e.cancelFullScreen():e.requestFullScreen(),this.trigger(E.Private.MarkerTextHide)},u.IS_IOS?(n=null,s.on(this.tag,"touchstart",(function(){n=n?(r.call(i),clearTimeout(n),null):setTimeout((function(){n=null}),e.dbClickFullscreenDelay)}))):s.on(this.tag,"dblclick",(function(){r.call(i)})))},e.prototype.getComponent=function(e){return this._lifeCycleManager.getComponent(e)},e.prototype.logError=function(e,t){(this._options.autoplay||this._options._autoplay)&&this._monitor&&this._monitor.reportStartPlay(),(e=e||{}).vt=this.getCurrentTime(),this.log(t?"ERRORRETRY":"ERROR",e)},e.prototype.log=function(e,t){var r=0,n=0;if(this._monitor)return this._options&&(r=this._options.vid||"0",n=this._options.from||"0"),this._monitor.updateVideoInfo({video_id:r,album_id:0,source:this._options.source,from:n}),this._monitor._log(e,t)},e.prototype.setSanpshotProperties=function(e,t,r){if(this._snapshotMatric||(this._snapshotMatric={}),this._snapshotMatric.width=e,this._snapshotMatric.height=t,1<r)throw new Error("rate doesn't allow more than 1");this._snapshotMatric.rate=r},e.prototype.setSnapshotProperties=function(e,t,r){this.setSanpshotProperties(e,t,r)},e.prototype.takeSnapshot=function(){var e=document.createElement("canvas"),t=this.tag,r=t.videoWidth,n=t.videoHeight,i=this._getSanpshotMatric(),o=(e.width=i.width||r,e.height=i.height||n,this.getCurrentTime()),a=e.getContext("2d"),s=(a.save(),this.getImage());"vertical"==s?(a.translate(0,e.height),a.scale(1,-1)):"horizon"==s&&(a.translate(e.width,0),a.scale(-1,1)),s=t,this._splayer&&(s=2===this._splayer.renderType?this._el.querySelector("canvas"):this._el.querySelector("video")),a.drawImage(s,0,0,r,n),a.restore(),d.drawSnapshotText(a,this.getOptions()),t="",s="";try{t=e.toDataURL("image/jpeg",i.rate||1)}catch(e){(s=e)&&s.message&&-1<s.message.indexOf("Tainted canvases")&&(s=new Error('截图功能需要设置播放器参数 extraInfo: { crossOrigin:"anonymous" }'))}return r="",n="",t&&(a=(r=t).substr(r.indexOf(",")+1),n=h.toBinary(a)),{time:o,base64:r,binary:n,error:s}},e.prototype.getStatus=function(){return this._status||"init"},e.prototype.enterProgressMarker=function(){this._enteredProgressMarker=!0},e.prototype.isInProgressMarker=function(){return this._enteredProgressMarker},e.prototype.exitProgressMarker=function(){this._enteredProgressMarker=!1},e.prototype.setProgressMarkers=function(e){this.trigger(E.Private.ProgressMarkerChanged,e=e||[])},e.prototype.getProgressMarkers=function(){return this._progressMarkerService?this._progressMarkerService.progressMarkers:[]},e.prototype.setPreviewTime=function(e){this._options.playConfig||(this._options.playConfig={}),this._options.playConfig.PreviewTime=e},e.prototype.getPreviewTime=function(){var e=0;return this._options.playConfig?this._options.playConfig.PreviewTime:e},e.prototype.exceedPreviewTime=function(e){return this.isPreview()&&e>=this._options.playConfig.PreviewTime},e.prototype.isPreview=function(){var e=this._options.playConfig.PreviewTime,t=this._vodDuration||this.tag.duration;return 0<e&&e<t},e.prototype.getStats=function(){return new n((function(e){e()}))},e.prototype.setTraceId=function(e){this._monitor&&this._monitor.updateTraceId(e)},e.prototype._canSeek=function(e){var t=this._getSubVideoConfig(),r=t.start;t=t.end;return r||t?!(e<r||t<e):!(!(r=this._getWatchTimeConfig()).watchStartTime||r.watchEndTime)||!(e<r.watchStartTime||e>r.watchEndTime)},e.prototype.setWatchTime=function(e,t){this._options.watchStartTime=e,this._options.watchEndTime=t,this.trigger(E.Private.UpdateWatchTime),e=this.getCurrentTime(),t=this._getWatchTimeConfig(),e<t.watchStartTime?this.seek(t.watchStartTime):e>t.watchEndTime&&this.seek(t.watchEndTime)},e.prototype.setNextWatchTime=function(e,t){this._options.watchStartTime=e,this._options.watchEndTime=t},e.prototype.setStartEnd=function(e,t){this._options.start=e,this._options.end=t,e=this._getSubVideoConfig(),this._posOffset=e.start||0,this.trigger(E.Player.DurationChange),t=this.getCurrentTime()+this._posOffset,t<e.start?this.seek(0):t>e.end&&this.seek(e.end-this._posOffset)},e.prototype.setNextStartEnd=function(e,t){this._options.start=e,this._options.end=t},e.prototype.getPlayTime=function(){return Math.round(this._playingTime/1e3)},e.prototype._getSanpshotMatric=function(){return this._snapshotMatric||(this._snapshotMatric={}),this._snapshotMatric},e.prototype._autoplayFailedHandler=function(){var e,t=this;null!=(e=this.getOptions().autoplayPolicy)&&e.fallbackToMute&&!this.muted()?(this.mute(!0),(e=this.tag.play())?e.then((function(){t.trigger(E.Private.MutedAutoplay)})).catch((function(e){t.tag.paused?(console.warn("Muted autoplay failed",e),t.unMute(!0)):t.one("canplay",(function(){t.trigger(E.Private.MutedAutoplay)}))})):this.paused()?this.unMute(!0):this.trigger(E.Private.MutedAutoplay)):(this.oncePlayed=!1,this.trigger(E.Private.Play_Btn_Show),this.trigger(E.Private.H5_Loading_Hide),this.trigger(E.Player.AutoPlayPrevented),this.trigger(E.Player.AutoPlay,!1),this._options.cover&&this.trigger(E.Private.Cover_Show))},e.prototype._overrideNativePlay=function(){var e=this.tag.play,t=this;this.tag.play=function(){if(t._monitor&&t._monitor.reportStartPlay(),!t._options.source)return r={mediaId:t._options.vid||"",error_code:p.ErrorCode.InvalidSourceURL,error_msg:"InvalidSourceURL"},t._options.vid||t._options.mediaAuth?void 0:(r.display_msg=g.get("Error_Empty_Source"),void t.trigger(E.Player.Error,r));t.readyTime=(new Date).getTime();var r=e.apply(t.tag),n=(t.oncePlayed=!0,void 0!==r&&r.then((function(){t.trigger(E.Player.AutoPlay,!0)})).catch((function(e){!t.tag||!t.tag.paused||t._isError||t._options._autoplay||t._switchedLevel||t._autoplayFailedHandler()})),t._originalPlaybackRate||t.tag.playbackRate);return setTimeout((function(){t.tag&&(t.tag.playbackRate=n)})),r}},e.prototype._extraMultiSources=function(){var e=this._options.source;if(e&&-1<e.indexOf("{")&&-1<e.indexOf("}")){var t="";try{t=JSON.parse(e)}catch(e){console.error(e),console.error("地址json串格式不对")}var r,n=[];for(r in t){var i=p.QualityLevels[r];n.push({definition:r,Url:t[r],desc:i||r})}this._setupSourceList(n)}return n},e.prototype._setupSourceList=function(e){var t;(e=void 0===e?[]:e).length&&(this._currentPlayIndex=d.findSelectedStreamLevel(e,this._options.defaultDefinition),t=e[this._currentPlayIndex],this._urls=e,this._options.source=t.Url,this.trigger(E.Private.SourceLoaded,t))},e.prototype._createService=function(){if(k)for(var e=k.length,t=0;t<e;t++){var r=k[t],n=r.condition;void 0===n?n=!0:"function"==typeof n&&(n=n.call(this)),n&&(this[r.name]=new r.service(this))}},e.prototype._disposeService=function(){if(k)for(var e=k.length,t=0;t<e;t++){var r=this[k[t].name];void 0!==r&&r.dispose&&r.dispose()}},e.prototype._executeReadyCallback=function(){if(!this._options._readyCallbackCalled){this._options._readyCallbackCalled=!0;try{this._options.autoplay||this._options.preload||(this.trigger(E.Private.H5_Loading_Hide),this.trigger(E.Private.Play_Btn_Show)),this._options.readyCallback(this)}catch(e){console.log(e)}}},e.prototype._clearTimeout=function(){this._checkTimeoutHandle&&(clearTimeout(this._checkTimeoutHandle),this._checkTimeoutHandle=null),this._waitingTimeoutHandle&&(clearTimeout(this._waitingTimeoutHandle),this._waitingTimeoutHandle=null),this._decodeErrorNudgeTimer&&(clearTimeout(this._decodeErrorNudgeTimer),this._decodeErrorNudgeTimer=null),this._clearLiveErrorHandle()},e.prototype._reloadForVod=function(){var e,t,r;return this._originalSource||(this._originalSource=this._options.source),!!(this._vodRetryCount<this._options.vodRetry&&navigator.onLine)&&(e=this.getCurrentTime(),(t=this._originalSource).indexOf("auth_key=")<0&&(t=t&&0<t.indexOf("?")?t+"&_t="+(new Date).valueOf():t+"?_t="+(new Date).valueOf()),this._vodRetryCountHandle&&clearTimeout(this._vodRetryCountHandle),(r=this).traceLog(M,"reloadForVod::#"+t+"#"+100*this._vodRetryCount),this._vodRetryCountHandle=setTimeout((function(){r._loadByUrlInner(t,e,r.getOptions().autoplay)}),100*this._vodRetryCount),this._vodRetryCount=this._vodRetryCount+1,!0)},e.prototype._getUserTextTracks=function(){var e=this._options.textTracks||[];(e=d.unqiueTextTracks(e)).length&&this.trigger(E.Private.TextTrackFounded,{from:"user",textTracks:e})},e.prototype._logOnce=function(e,t){this._onceLogged||(console[t||"log"](e),this._onceLogged=!0)},t.exports=e},{"../../commonui/autostreamselector":12,"../../feature/AntiRecord":17,"../../feature/autoplaydelay":18,"../../feature/keyboardControl":19,"../../feature/license":20,"../../feature/logoManager":21,"../../feature/ratioAdapter":22,"../../lang/index":26,"../../lib/codec-probe":29,"../../lib/constants":31,"../../lib/cookie":32,"../../lib/dom":35,"../../lib/event":36,"../../lib/object":45,"../../lib/playerutil":48,"../../lib/ua":51,"../../lib/util":53,"../../lib/vttnext/index":58,"../../monitor/monitor":66,"../../ui/component":137,"../../ui/component/cover":141,"../../ui/component/license-watermark":146,"../../ui/component/progressmarker":150,"../../ui/component/text-track-display":161,"../../ui/component/util":166,"../../ui/exports":169,"../service/export":126,"../splayer/splayerinjector":133,"./event/eventmanager":70,"./event/eventtype":71,"./eventHandler/video/index":85,"./plugin/lifecyclemanager":97,"./x5play":99,"es6-promise":9}],95:[function(e,t,r){e=e("../../../lib/oo").extend({}),t.exports=e},{"../../../lib/oo":46}],96:[function(e,t,r){t.exports={createEl:"createEl",created:"created",ready:"ready",loading:"loading",play:"play",pause:"pause",playing:"playing",waiting:"waiting",timeUpdate:"timeupdate",error:"error",ended:"ended",dispose:"dispose",markerDotOver:"markerDotOver",markerDotOut:"markerDotOut"}},{}],97:[function(e,t,r){function n(e){(this._player=e)._status="init",this.components=[];var t=e.getOptions().components;if(t&&i.isArray(t)&&0<t.length)for(var r=0;r<t.length;r++){var n=t[r];if(!n)return void console.log("The "+r+" custome component is "+n);var s=void 0===n.type?n:n.type,l=void 0===n.args?[]:n.args;n=void 0===n.name?"":n.name;if(!s)return void console.log(n+" compenent is "+s);l=l&&0<l.length?[].concat.call([s],l):[],s=new(Function.prototype.bind.apply(s,l)),l=s[a.createEl],l&&"function"==typeof l&&l.call(s,e.el(),e),this.components.push({name:n,obj:s})}var u=this;e.on(o.Private.LifeCycleChanged,(function(t){var r=t.paramData,n=r.type;n===o.Video.CanPlayThrough&&u._player.trigger(o.Player.TimeUpdate,r.data.target.currentTime),n===o.Video.Ended&&u._player.trigger(o.Player.TimeUpdate,u._player.getDuration()),0!=u.components.length&&c.call(u,e,t)}))}var i=e("../../../lib/object"),o=e("../event/eventtype"),a=e("./lifecycle"),s=e("./status"),c=(n.prototype.getComponent=function(e){var t=null,r=this.components.length;if(e)for(var n=0;n<r;n++)if(this.components[n].name==e){t=this.components[n].obj;break}return t},function(e,t){if(t){t=t.paramData;for(var r=t.type,n=t.data,i=((t=r)!=o.Video.LoadStart&&t!=o.Video.LoadedData&&t!=o.Video.LoadedMetadata||(r=a.loading),l(e,r),this.components.length),s=0;s<i;s++){var c=this.components[s].obj,u=c[r];u&&"function"==typeof u&&u.call(c,e,n)}r==o.Private.Dispose&&(this.components=[])}}),l=function(e,t){void 0===s[t]||t==s.pause&&(e._status==s.error||e._status==s.ended)||t==s.ready&&e._status==s.playing||(e._status=t)};t.exports=n},{"../../../lib/object":45,"../event/eventtype":71,"./lifecycle":96,"./status":98}],98:[function(e,t,r){t.exports={init:"init",ready:"ready",loading:"loading",play:"play",pause:"pause",playing:"playing",waiting:"waiting",error:"error",ended:"ended"}},{}],99:[function(e,t,r){function n(e,t){var r=e.el().style.height,n=e.el().style.width,i=(e.originalLayout={container:{height:r,width:n},video:{width:e.tag.style.width,height:e.tag.style.height}},document.body.clientHeight*(window.devicePixelRatio||1)+"px"),o=document.body.clientWidth+"px";width=t?(height=i,o):(height=r.indexOf("%")?r:r+"px",n.indexOf("%")?n:n+"px"),e.tag.style.width=o,e.tag.style.height=i,e.el().style.height=t?i:height}var i=e("../../lib/ua"),o=e("../../lib/dom");t.exports.isAndroidX5=function(){return i.os.android&&i.is_X5||i.dingTalk()},t.exports.adaptX5Play=function(e){i.os.android&&i.is_X5&&("h5"==e._options.x5_type&&(e.tag.setAttribute("x5-video-player-type",e._options.x5_type),window.onresize=function(){var t,r;n(e,e._options.x5_fullscreen||"center"==e._options.x5_video_position),"landscape"==(t=e)._x5VideoOrientation&&(t._originalTagWidth=t.tag.style.width,t._originalTagHeight=t.tag.style.height,(r=document.querySelector("#"+t.id()+" .prism-controlbar"))&&parseFloat(r.offsetHeight),t.tag.style.height="100%",t.tag.style.width=window.screen.width+"px")},e.tag.addEventListener("x5videoenterfullscreen",(function(){n(e,e._options.x5_fullscreen||"center"==e._options.x5_video_position),e.trigger("x5requestFullScreen")})),e.tag.addEventListener("x5videoexitfullscreen",(function(){var t,r;(t=e).originalLayout&&(r=t.originalLayout,t.el().style.height=r.container.height,t.el().style.width=r.container.width,t.tag.style.width=r.video.width,t.tag.style.height=r.video.height),e.trigger("x5cancelFullScreen"),e.fullscreenService.getIsFullScreen()&&e.fullscreenService.cancelFullScreen()})),e.on("requestFullScreen",(function(){"top"==e._options.x5_video_position&&o.removeClass(e.tag,"x5-top-left"),i.os.android&&i.is_X5&&e._options.x5LandscapeAsFullScreen&&(e.tag.setAttribute("x5-video-orientation","landscape"),e._x5VideoOrientation="landscape")})),e.on("cancelFullScreen",(function(){"top"==e._options.x5_video_position&&o.addClass(e.tag,"x5-top-left"),i.os.android&&i.is_X5&&e._options.x5LandscapeAsFullScreen&&(e.tag.setAttribute("x5-video-orientation","portrait"),n(e,e._options.x5_fullscreen||"center"==e._options.x5_video_position),e._x5VideoOrientation="portrait")}))),void 0!==e._options.x5_fullscreen&&e._options.x5_fullscreen&&(e.tag.setAttribute("x5-video-player-fullscreen",e._options.x5_fullscreen),o.addClass(e.tag,"x5-full-screen")),"top"==e._options.x5_video_position&&o.addClass(e.tag,"x5-top-left"),void 0!==e._options.x5_orientation)&&e.tag.setAttribute("x5-video-orientation",e._options.x5_orientation)}},{"../../lib/dom":35,"../../lib/ua":51}],100:[function(e,t,r){var n=e("../../lib/object"),i=e("../../lib/io"),o=e("../../config"),a=e("../../lang/index"),s=e("../../lib/constants"),c=e("../../lib/playerutil"),l=e("../base/event/eventtype"),u="dashinjector.js";t.exports.inject=function(e,t,r,p){var d=p.source;if(!function(e){return!this._dash&&c.isDash(e)&&c.isSupportMSE()}.call(e,d))return console.warn("Should not inject dash player");function h(){this._disposed||(this._disposed=!0,this._destroyDash(),this._superPt&&(this._superPt.dispose.call(this),t.prototype.play=this._superPt.play,t.prototype.pause=this._superPt.pause,t.prototype.initPlay=this._superPt.initPlay,t.prototype.seek=this._superPt.seek,t.prototype.canSeekable=this._superPt.canSeekable))}e._Type=t,e._superType=r,e._superPt=r.prototype,e._disposed=!1,e._dash=null,t.prototype.initPlay=function(){var e=this,t=(this.trigger(l.Private.H5_Loading_Show),performance.now());(function(e,t){var r="aliplayer-dash-min.js",n=this.getOptions();r=n.dashjsUrl||"https://"+o.domain+o.path+o.h5Version+"/dash/"+r;n.assetPrefix&&(n.assetPrefix,(e=>{throw new TypeError('"'+e+'" is read-only')})("url")),i.loadJS(r,e,t)}).call(this,(function(){e.traceLog(u,"got js#"+parseInt(performance.now()-t)+"ms"),function(){var e,t,r,i=!this._dash;this._disposed||(this._destroyDash(),(e=this.getOptions()).vid||(e.isVBR=!0),t={streaming:{retryAttempts:{MPD:e.isLive?e.liveRetry:e.vodRetry}}},t=n.deepMerge(t,e.dashOption),r=dashjs.MediaPlayer().create(),this._dash=r,function(){var e=this,t=this._dash,r=this.getOptions(),n=!1;t.on(dashjs.MediaPlayer.events.STREAM_INITIALIZED,(function(r){var i,o;n||(n=!0,o=null==(o=t.getBitrateInfoListFor("video"))?void 0:o.map((function(e){return{url:""+s.DASH_QUALITY_PROTOCOL+e.qualityIndex,width:e.width,height:e.height,bitrate:e.bitrate,attrs:{BANDWIDTH:e.bitrate,RESOLUTION:e.width+"x"+e.height}}})),e.trigger(l.Player.LevelsLoaded,{levels:o}),i=t.getCurrentTrackFor("audio"),o=t.getTracksFor("audio").map((function(e){return{id:e.index,language:e.lang,enabled:(null==i?void 0:i.index)===e.index}})),e.trigger(l.Player.AudioTrackUpdated,{audioTracks:o}))})),t.on(dashjs.MediaPlayer.events.QUALITY_CHANGE_RENDERED,(function(t){var r,n;"video"===t.mediaType&&(r=e._qualityService.levels||[],n=""+s.DASH_QUALITY_PROTOCOL+t.newQuality,t=r.find((function(e){return e.Url===n})),e.trigger(l.Private.QualityChange,{levelSwitch:!0,url:n,desc:null==t?void 0:t.desc}))})),t.on("bytesAppendedEndFragment",(function(r){try{var n,i;"video"===r.mediaType&&(n=r.bufferedRanges.length)&&(i=r.bufferedRanges.end(n-1),r.startTime>i)&&(t.refreshManifest(),e.traceLog(u,"PTS rollback, refresh manifest, expectedStart: "+r.startTime+", resultBufferEnd: "+i),console.warn("PTS rollback, refresh manifest"))}catch(r){console.log("exception",r)}})),t.on(dashjs.MediaPlayer.events.ERROR,(function(n){var i=n.error,o=dashjs.MediaPlayer.errors,c=(e=>{var t,r,n={};for(t in e)e.hasOwnProperty(t)&&(r=e[t],n[r]=t);return n})(o)[i.code],p=[o.TIME_SYNC_FAILED_ERROR_CODE,o.TIMED_TEXT_ERROR_ID_PARSE_CODE];if(console.log("dash error",n,"code:",c),e.traceLog(u,"dashjs-error::"+c+"#"+i.message+"#"+(null==(n=i.data)||null==(n=n.response)?void 0:n.status)),!p.includes(i.code)){e._clearTimeout();var d,h,f,y=i.code;switch(y){case o.DOWNLOAD_ERROR_ID_CONTENT_CODE:case o.DOWNLOAD_ERROR_ID_MANIFEST_CODE:case o.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE:case o.DOWNLOAD_ERROR_ID_SIDX_CODE:case o.DOWNLOAD_ERROR_ID_XLINK_CODE:case o.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE:case o.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE:var g=null==(g=i.data)||null==(g=g.response)?void 0:g.status;if(404===g){if(t.isDynamic()&&y===o.DOWNLOAD_ERROR_ID_CONTENT_CODE)return e.traceLog(u,"dashjs::reload mpd because seg 404"),void t.attachSource(r.source);d=s.ErrorCode.NotFoundSourceURL,h=a.get("Error_Not_Found"),f=a.get("Tip_Err_Not_found")}else h=403===g?(d=s.ErrorCode.AuthKeyExpired,a.get("Error_AuthKey_Text")):0===g?(d=s.ErrorCode.RequestDataError,a.get("Error_Play_Text")+","+a.get("Maybe_Cors_Error")):(d=s.ErrorCode.RequestDataError,a.get("Error_Network_Text")+"("+c+"|"+g+")");break;case o.MANIFEST_ERROR_ID_NOSTREAMS_CODE:case o.MANIFEST_ERROR_ID_MULTIPLEXED_CODE:case o.MANIFEST_ERROR_ID_PARSE_CODE:case o.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE:case o.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE:d=s.ErrorCode.LoadedMetadata,h=a.get("Error_Manifest_Decode_Text")+"("+c+")";break;default:d=s.ErrorCode.OtherError,h=a.get("Error_Play_Text")+"("+c+")"}h+="<br>"+i.message,n={mediaId:r.vid||"",mediaAuth:r.mediaAuth||"",error_code:d,error_msg:h,diagnosis_info:f},e.logError(n),e.trigger(l.Player.Error,n),e._dash.reset()}}))}.call(this),r.initialize(),r.updateSettings(t),r.setAutoPlay(e.autoplay),r.attachView(this.tag),r.attachSource(e.source),this._initPlayBehavior(),i&&this._executeReadyCallback())}.call(e)}),(function(){var t={mediaId:p.vid||"",mediaAuth:p.mediaAuth||"",error_code:s.ErrorCode.ModuleLoadError,error_msg:"dash module load error."};e.trigger(l.Player.Error,t)}))},Object.defineProperty(t.prototype,"dispose",{enumerable:!0,configurable:!0,get:function(){return h},set:function(){return h}}),t.prototype._switchLevel=function(e){this.traceLog(u,"switchLevel::"+e);var t=this._dash;e?(e=Number(e.replace(s.DASH_QUALITY_PROTOCOL,"")),t.updateSettings({streaming:{abr:{autoSwitchBitrate:{audio:!1,video:!1}}}}),t.setQualityFor("video",e)):t.updateSettings({streaming:{abr:{autoSwitchBitrate:{audio:!0,video:!0}}}})},t.prototype._switchAudioTrack=function(e){var t=this._dash,r=t.getTracksFor("audio").find((function(t){return t.index===e}));r&&t.setCurrentTrack(r)},t.prototype._destroyDash=function(){this._dash&&(this._dash.destroy(),this._dash=null)}}},{"../../config":15,"../../lang/index":26,"../../lib/constants":31,"../../lib/io":43,"../../lib/object":45,"../../lib/playerutil":48,"../base/event/eventtype":71}],101:[function(e,t,r){var n=e("../base/player"),i=e("./dashinjector"),o=n.extend({init:function(e,t){t._native=!1,i.inject(this,o,n,t),n.call(this,e,t)}});t.exports=o},{"../base/player":94,"./dashinjector":100}],102:[function(e,t,r){function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)!{}.hasOwnProperty.call(n,r)||(e[r]=n[r])}return e}).apply(null,arguments)}var i=e("../../lib/io"),o=e("../../config"),a=e("../../lib/constants"),s=e("../../lib/util"),c=e("../../lib/playerutil"),l=(e("../../lib/dom"),e("../../lang/index")),u=e("../base/event/eventtype"),p=e("../saas/drm"),d=e("../../lib/ua"),h="drminjector.js",f=(()=>{function e(){}var t=e.prototype;return t.destroy=function(){},t.append=function(e){},t.remove=function(e,t){},t.isTextVisible=function(){},t.setTextVisibility=function(e){},e})();t.exports.inject=function(e,t,r,y,g,v,_){var m,b=y.source;function S(e){var t=shaka.util.Error.Code,r="",n=e.data||[];switch(e.code){case t.BAD_HTTP_STATUS:case t.HTTP_ERROR:case t.TIMEOUT:case t.LICENSE_REQUEST_FAILED:r=l.get("Tip_Drm_Request_Err")+T(n);break;case t.REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:case t.SESSION_TIMEOUT:window.isSecureContext?(r=l.get("Tip_Drm_Key_System_Unavailable"),n.length&&(r+="<br />"+l.get("Tip_Err_Common_Short")+n)):r=l.get("Tip_Drm_Secure_Context");break;case t.FAILED_TO_CREATE_CDM:"file:"===window.location.protocol&&(r=l.get("Tip_Drm_File_Not_Allowed"));break;case t.HLS_INVALID_PLAYLIST_HIERARCHY:r=l.get("Tip_Drm_Playlist_Hierarchy")}return e=T(n),r||e}function T(e){return l.get("Tip_Err_Common")+e}function w(e){var t=this;this._drm.load(this._options.source,e.startTime).then((function(){if(t.trigger(u.Private.H5_Loading_Hide),e.continuePlay&&(t.play(),e.prevVariant)&&0!==e.prevVariant){for(var r,n=t._drm.getVariantTracks(),i=0;i<n.length;i++)if(n[i].id===e.prevVariant){r=n[i];break}r&&t._drm.selectVariantTrack(r,!0)}})).catch((function(e){x.call(t,e)}))}function E(){k();var e=a.ErrorCode.DrmNotSupported,t=l.get("Error_Drm_Not_Supported");e={mediaId:this._options.vid||"",error_code:e,error_msg:t,diagnosis_info:l.get("Tip_Drm_Unsupported")};this.logError(e),this.trigger(u.Player.Error,e)}function x(e){k();var t=a.ErrorCode.DrmLoadError,r=l.get("Error_Drm_Load");t={mediaId:this._options.vid||"",error_code:t,error_msg:r+" | "+this._shakaCodeMap[e.code],drm_info:JSON.stringify({cdmData:this._cdmData,licenseData:this._licenseData})};this.logError(t),t.diagnosis_info=S.call(this,e),this.trigger(u.Player.Error,t)}function k(){this._sessionTimer&&(clearTimeout(this._sessionTimer),this._sessionTimer=null)}function P(e,t){t=t.getVariantTracks().find((function(e){return e.active})),console.log("activeTrack",t),e.trigger(u.Private.QualityChange,{levelSwitch:!0,bitrate:t.bandwidth,desc:t.height})}!v&&(y=b,e._drm||!c.isDash(y)&&!c.isHls(y))||(e._isDrm=!0,e._drm=null,e._isLoadedDrm=!1,e._sessionTimer=null,e._isFairPlay=d.IS_MAC_SAFARI||d.IS_IOS,e._fairPlayHandlers={},e._shakaCodeMap={},e._cdmData="",e._licenseData="",console.log("use FairPlay",e._isFairPlay),t.prototype._checkDrmReady=function(){if(null==this._drm&&!this._isFairPlay)throw new Error("please invoke this method after ready event")},t.prototype.play=function(e){return this.traceLog(h,"play::"+e),this._checkDrmReady(),this._isManualPlay=e||!1,this.trigger(u.Private.Cover_Hide),this.tag.ended?this.replay():(this.getCurrentTime(),this.tag.paused&&this.tag.play()),this},t.prototype.initPlay=function(e){var t,r,y;function v(e,t){var r,i,o,a;e._antiRecord&&(console.log("Manual check before load source"),e._antiRecord.check())||(!shaka.Player.isBrowserSupported()||(()=>!(!d.IS_ANDROID||!d.IS_UC&&!d.IS_FIREFOX))()?E.call(e):(r=null,shaka.Player.probeSupport().then((function(t){r&&(clearTimeout(r),r=null),t&&t.drm&&t.drm["com.widevine.alpha"]?e.destroy(a):E.call(e)})),r=setTimeout((function(){E.call(e)}),5e3),i=!e._drm,o=function(){var r,o,a;e._drm=new shaka.Player(e.tag),m(e,e._drm),shaka.util.Error.Code.SESSION_TIMEOUT="SESSION_TIMEOUT",e._shakaCodeMap=(r=shaka.util.Error.Code,o={},Object.keys(r).forEach((function(e){o[r[e]]=e})),o),a=e._options.isLive?"https://"+c.getLiveHostByRegion(e._options.region):"https://vod."+e._options.region+".aliyuncs.com",e._drm.configure(n({drm:{servers:{"com.widevine.alpha":a,"com.microsoft.playready":a},retryParameters:{maxAttempts:1}}},e._options.drmOption||{},{textDisplayFactory:function(){return new f}})),e._drm.getNetworkingEngine().registerRequestFilter((function(t,r){shaka.util.StringUtils;var n=shaka.util.Uint8ArrayUtils;t==shaka.net.NetworkingEngine.RequestType.LICENSE&&(t=n.toBase64(new Uint8Array(r.body)),n=e._options.isLive?p.getRequestUrl(t,e):p.postData(t,e),e._cdmData=t,r.uris[0]=n.url,r.headers["content-type"]="application/x-www-form-urlencoded",r.body=n.data)})),e._drm.getNetworkingEngine().registerResponseFilter((function(t,r){var n=shaka.util.StringUtils,i=shaka.util.Uint8ArrayUtils;t==shaka.net.NetworkingEngine.RequestType.LICENSE&&(t=n.fromUTF8(r.data),n=JSON.parse(t),t=e._options.isLive?n.Response.B64License:JSON.parse(n.License).b64License,e._licenseData=t,r.data=i.fromBase64(t))})),e._drm.addEventListener("error",(function(e){console.log("errorMessage"),console.log(e.detail.code),console.log(e.detail)})),e._drm.load(e._options.source).then((function(){e._initPlayBehavior(t)})).catch((function(t){x.call(e,t)})),k.call(e),e.one(u.Video.CanPlay,(function(){k.call(e)})),e._sessionTimer=setTimeout((function(){e._isError||(x.call(e,{code:"SESSION_TIMEOUT"}),e._drm&&e._drm.destroy())}),e._player.getOptions().drmSessionTimeout||5e3),g&&g(e._drm),i&&(e._executeReadyCallback(),e._urls)&&0<e._urls.length&&(e._currentPlayIndex=c.findSelectedStreamLevel(e._urls,e._options.defaultDefinition),a=e._urls[e._currentPlayIndex],e.trigger(u.Private.SourceLoaded,a))},a=function(e){try{o()}catch(e){console.log(e)}}))}s.contentProtocolMixed(b)?(k(),(t={mediaId:this._options.vid||"",error_code:a.ErrorCode.InvalidSourceURL,error_msg:"InvalidSourceURL"}).display_msg=l.get("Request_Block_Text"),this.trigger(u.Player.Error,t)):this._options.accessKeyId&&this._options.accessKeySecret?((r=this)._waitingTimeoutCount=1,this._isFairPlay?(this.trigger(u.Private.H5_Loading_Show),function(e,t){var r;this._isFairPlay&&((()=>{var e;return d.IS_IOS?(e=parseInt(d.os.version),console.log("osVersion",e),12<=e):d.IS_MAC_SAFARI?(e=parseInt(d.browser.version),console.log("browserVersion",e),12<=e):void 0})()?((r=this).destroy(),p.loadCertificate(this,(function(){e&&e(),r._initPlayBehavior(t,r._options.source),r._executeReadyCallback()}))):E.call(this))}.call(this,g,e)):this._isLoadedDrm&&"undefined"!=typeof shaka?v(this,e):(this.trigger(u.Private.H5_Loading_Show),y=performance.now(),function(e,t){var r="aliplayer-drm-min.js",n="",a=(n=o.domain?"https://"+o.domain+o.path+o.h5Version+"/drm/"+r:"/build/drm/"+r,this._options.shakaUrl&&(n=this._options.shakaUrl),this);i.loadJS(n,(function(){shaka.polyfill.installAll(),e.apply(a)}),(function(e){t&&t(e)}))}.call(r,(function(){this.traceLog(h,"got js#"+parseInt(performance.now()-y)),this._isLoadedDrm=!0,v(this,e)}),(function(e){e={mediaId:r._options.vid||"",mediaAuth:r._options.mediaAuth||"",error_code:a.ErrorCode.ModuleLoadError,error_msg:"drm player module load error."+(e?e.message:"")},r.trigger(u.Player.Error,e)})))):(k(),(t={mediaId:this._options.vid||"",error_code:a.ErrorCode.InvalidParameter,error_msg:"No sts params."}).display_msg=l.get("Error_Drm_No_Sts"),this.trigger(u.Player.Error,t))},t.prototype.destroy=function(e){var t;this._drm?(k.call(t=this),this._drm.destroy().then((function(){t._drm=null,"function"==typeof e&&e(t)}))):(this._isFairPlay&&this._destroyFairPlay(),"function"==typeof e&&e(this))},t.prototype._destroyFairPlay=function(){p.destroyFairPlay.call(this)},t.prototype.dispose=function(){r.dispose.call(this),this.destroy()},t.prototype._switchLevel=function(e,t){if(t=t||{isAuto:!0},this.trigger(u.Player.LevelSwitch),this._switchedLevel=!0,this._isFairPlay){this._manuallySwitchDrmLevel=!t.isAuto;var r=this.autoplay||"pause"!=this._status;this._loadByUrlInner(e,this.getCurrentTime(),r)}else if(t.isAuto)this._drm.configure({abr:{enabled:!0}}),P(this._player,this._drm);else{for(var n,i=this._drm.getVariantTracks(),o=0;o<i.length;o++){var a=i[o];if(Number(a.bandwidth)===Number(t.bitrate)&&Number(a.height)===Number(t.resolution.split("x")[1])){n=a;break}}n||console.warn("cannot find target track",t),this._drm.configure({abr:{enabled:!1}}),this._drm.selectVariantTrack(n,!this._options.seamlessHandover)}var s=this;setTimeout((function(){s.trigger(u.Player.LevelSwitched),this._switchedLevel=!1}),1e3)},t.prototype._getDRMEncryptItem=function(){var e=this._urls;if(e&&0<e.length)for(var t=e.length,r=0;r<t;r++){var n=e[r];if(n.Url==this._options.source&&+n.encryption)return n}return""},t.prototype._getItemBySource=function(){var e=this._urls;if(e&&0<e.length)for(var t=e.length,r=0;r<t;r++){var n=e[r];if(n.Url==this._options.source)return n}return""},m=function(e,t){t.addEventListener("error",(function(t){var r,n=e,i=(t=t.detail,"Error code:"+t.code+"message:"+t.message),o=(n.traceLog(h,i),console.log(i),a.ErrorCode.OtherError);i=l.get("Error_Play_Text");t.code==shaka.util.Error.Code.EXPIRED?function(){var e=this,t=(this.trigger(u.Private.H5_Loading_Show),null);this._options.isLive||(t=this.getCurrentTime());var r,n=!this.paused(),i=this._drm.getConfiguration().abr.enabled;if(!i)for(var o=this._drm.getVariantTracks(),a=0;a<o.length;a++)if(o[a].active){r=o[a].id;break}var s={startTime:t,continuePlay:n,prevVariant:r,isAdaptive:i};"function"==typeof this._options.refreshAccessInfo?this._options.refreshAccessInfo().then((function(t){(t=t||{}).accessKeyId&&(e._options.accessKeyId=t.accessKeyId),t.securityToken&&(e._options.securityToken=t.securityToken),t.accessKeySecret&&(e._options.accessKeySecret=t.accessKeySecret),w.call(e,s)})):w.call(e,s)}.call(n):(t.code==shaka.util.Error.Code.HTTP_ERROR?(o=a.ErrorCode.NetworkError,i=l.get("Http_Error")):t.code==shaka.util.Error.Code.TIMEOUT?(o=a.ErrorCode.LoadingTimeout,i=l.get("Error_Waiting_Timeout_Text")):t.code==shaka.util.Error.Code.LICENSE_REQUEST_FAILED?(o=a.ErrorCode.DrmLicenseRequestFailed,i=l.get("Error_Drm_License_Request_Failed")):t.Category==shaka.util.Error.NETWORK&&(o=a.ErrorCode.NetworkError,i=l.get("Error_Network_Text")),k.call(n),setTimeout((function(){n.trigger(u.Private.Play_Btn_Hide)})),n.checkOnline()&&(r=n._drm.drmInfo()||{},r={keyIds:Array.from(r.keyIds||[]),initData:String((null==(r=(r.initData||[])[0])?void 0:r.initData)||[]),cdmData:n._cdmData,licenseData:n._licenseData},r={mediaId:n._options.vid||"",error_code:o,error_msg:t.message,shaka_error:JSON.stringify(t.data||[]),drm_info:JSON.stringify(r)},n.logError(r),r.display_msg=i+" | "+n._shakaCodeMap[t.code],r.diagnosis_info=S.call(n,t),n.trigger(u.Player.Error,r)))})),t.addEventListener("variantchanged",(function(e){console.log("DRM Event: variantchanged",e)})),t.addEventListener("abrstatuschanged",(function(e){console.log("DRM Event: abrstatuschanged",e)})),t.addEventListener("drmsessionupdate",(function(t){console.log("DRM Event: drmsessionupdate",t),k.call(e)})),t.addEventListener("expirationupdated",(function(e){console.log("DRM Event: expirationupdated",e),console.log("Exp:",this.getExpiration())})),t.addEventListener("adaptation",(function(r){console.log("adaptation",r),P(e,t)})),t.addEventListener("trackschanged",(function(r){console.log("DRM EVENT: trackschanged",t.getTextLanguages(),t.getTextTracks());var n=t.getTextLanguages();n&&n.length&&(n=(e=>{var t={subtitle:"subtitles",caption:"captions"},r=(console.log("Building track config"),e.getManifest().textStreams||[]),n=(console.log("textStreams",r),e.getTextLanguages()),i=(console.log("languageList",n),[]);try{r.forEach((function(e){n.includes(e.language)&&i.push({kind:t[e.kind]||e.kind,label:e.label,srclang:e.language,src:Array.from(e.segmentIndex)[0].getUris()[0]})}))}catch(e){console.log("error in retrieving text track url: ",e)}return i})(t),e.trigger(u.Private.TextTrackFounded,{from:"drm",textTracks:n}),e.trigger(u.Private.CCReset))}))})}},{"../../config":15,"../../lang/index":26,"../../lib/constants":31,"../../lib/dom":35,"../../lib/io":43,"../../lib/playerutil":48,"../../lib/ua":51,"../../lib/util":53,"../base/event/eventtype":71,"../saas/drm":113}],103:[function(e,t,r){function n(){n=function(){return t};var e,t={},r=Object.prototype,i=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function p(t,r,n,i){var a,s,c,l;r=r&&r.prototype instanceof _?r:_,r=Object.create(r.prototype),i=new P(i||[]);return o(r,"_invoke",{value:(a=t,s=n,c=i,l=h,function(t,r){if(l===y)throw Error("Generator is already running");if(l===g){if("throw"===t)throw r;return{value:e,done:!0}}for(c.method=t,c.arg=r;;){var n=c.delegate;if(n&&(n=function t(r,n){var i=n.method,o=r.iterator[i];return o===e?(n.delegate=null,"throw"===i&&r.iterator.return&&(n.method="return",n.arg=e,t(r,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),v):(i=d(o,r.iterator,n.arg),"throw"===i.type?(n.method="throw",n.arg=i.arg,n.delegate=null,v):(o=i.arg,o?o.done?(n[r.resultName]=o.value,n.next=r.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)))}(n,c),n)){if(n===v)continue;return n}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if(l===h)throw l=g,c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);if(l=y,n=d(a,s,c),"normal"===n.type){if(l=c.done?g:f,n.arg===v)continue;return{value:n.arg,done:c.done}}"throw"===n.type&&(l=g,c.method="throw",c.arg=n.arg)}})}),r}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var h="suspendedStart",f="suspendedYield",y="executing",g="completed",v={};function _(){}function m(){}function b(){}a={};var S=(u(a,s,(function(){return this})),Object.getPrototypeOf),T=(S=S&&S(S(C([]))),S&&S!==r&&i.call(S,s)&&(a=S),b.prototype=_.prototype=Object.create(a));function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var r;o(this,"_invoke",{value:function(n,o){function a(){return new t((function(r,a){!function r(n,o,a,s){var c;n=d(e[n],e,o);if("throw"!==n.type)return(o=(c=n.arg).value)&&"object"==typeof o&&i.call(o,"__await")?t.resolve(o.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(o).then((function(e){c.value=e,a(c)}),(function(e){return r("throw",e,a,s)}));s(n.arg)}(n,o,r,a)}))}return r=r?r.then(a,a):a()}})}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function C(t){if(t||""===t){var r,n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return r=-1,(n=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n}).next=n}throw new TypeError(typeof t+" is not iterable")}return o(T,"constructor",{value:m.prototype=b,configurable:!0}),o(b,"constructor",{value:m,configurable:!0}),m.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){return e="function"==typeof e&&e.constructor,!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(T),e},t.awrap=function(e){return{__await:e}},w(E.prototype),u(E.prototype,c,(function(){return this})),t.AsyncIterator=E,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new E(p(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(T),u(T,l,"Generator"),u(T,s,(function(){return this})),u(T,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t,r=Object(e),n=[];for(t in r)n.push(t);return n.reverse(),function e(){for(;n.length;){var t=n.pop();if(t in r)return e.value=t,e.done=!1,e}return e.done=!0,e}},t.values=C,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(k),!t)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,i){return s.type="throw",s.arg=t,r.next=n,i&&(r.method="next",r.arg=e),!!i}for(var o=this.tryEntries.length-1;0<=o;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),l=i.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;0<=r;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}var a=(o=o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc?null:o)?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r,n,i=this.tryEntries[t];if(i.tryLoc===e)return"throw"===(r=i.completion).type&&(n=r.arg,k(i)),n}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:C(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function i(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function s(e){i(a,n,o,s,c,"next",e)}function c(e){i(a,n,o,s,c,"throw",e)}s(void 0)}))}}var a="undefined"==typeof Promise?e("es6-promise").Promise:Promise,s=e("../../lib/io"),c=e("../../config"),l=e("../../lang/index"),u=e("../base/event/eventtype"),p=e("../../lib/constants"),d="drminjectorNg.js",h={LoadJs:1,LoadSource:2,PlayerError:3,SupportError:4,ParamsError:5},f={Widevine:"com.widevine.alpha",FairPlay:"com.apple.fps"},y={},g={};function v(e){return _.apply(this,arguments)}function _(){return(_=o(n().mark((function e(t){var r,i,o,u,p=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._drm)return e.next=3,this._drm.destroy();e.next=4;break;case 3:this._drm=null;case 4:e.prev=4,I.call(this,"mod_shaka_s"),e.next=8;var n=t;return new a((function(e,t){var r="https://"+c.domain+c.path+c.h5Version+"/drm/aliplayer-drm2-min.js";null!=n&&n.shakaUrl&&(r=null==n?void 0:n.shakaUrl),s.loadJS(r,e,t)}));case 8:I.call(this,"mod_shaka_f"),e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(4),console.log("[load shaka-player error]",e.t0),e.abrupt("return",k.call(this,h.LoadJs,e.t0));case 15:if(shaka.polyfill.installAll(),y=P(shaka.util.Error.Code),g=P(shaka.net.NetworkingEngine.RequestType),shaka.Player.isBrowserSupported()){e.next=20;break}return e.abrupt("return",k.call(this,h.SupportError));case 20:if(window.isSecureContext){e.next=22;break}return e.abrupt("return",k.call(this,h.SupportError,{_code:"no-secure-context"}));case 22:if(o=(e=>{var t=null;return(e=e||{}).widevine||e.fairplay||(t={message:l.get("Error_Drm_Params_Missing")}),[e,t]})(t.drm),i=o[0],o=o[1])return e.abrupt("return",k.call(this,h.ParamsError,o));e.next=25;break;case 25:return t.vid||(this._options.isVBR=!0),o=new shaka.Player,x.call(this,o),this._drm=o,u={drm:{servers:((u={})[f.Widevine]=null==(r=i.widevine)?void 0:r.licenseUrl,u[f.FairPlay]=null==(r=i.fairplay)?void 0:r.licenseUrl,u),advanced:((r={})[f.Widevine]={serverCertificateUri:null==(u=i.widevine)?void 0:u.certificateUrl},r[f.FairPlay]={serverCertificateUri:null==(u=i.fairplay)?void 0:u.certificateUrl,serverCertificate:null==(u=i.fairplay)?void 0:u.certificate},r)},autoShowText:1},shaka.util.PlayerConfiguration.mergeConfigObjects(u,t.drmOption||{}),o.configure(u),o.attach(this.tag),o.getNetworkingEngine().registerRequestFilter((function(e,t,r){if(null!=(i=t.drmInfo)&&i.keySystem&&(p._keySystem=t.drmInfo.keySystem),e===shaka.net.NetworkingEngine.RequestType.LICENSE){I.call(p,"drm_li_s");var n=O.call(p);if(n.licenseHeaders&&Object.keys(n.licenseHeaders).forEach((function(e){t.headers[e]=n.licenseHeaders[e]})),"function"==typeof n.licenseRequestFilter)return n.licenseRequestFilter(t,shaka.util)}else if(e===shaka.net.NetworkingEngine.RequestType.SERVER_CERTIFICATE){I.call(p,"drm_cer_s");var i=O.call(p);if("function"==typeof i.certificateRequestFilter)return i.certificateRequestFilter(t,shaka.util)}})),o.getNetworkingEngine().registerResponseFilter((function(e,t,r){if(e===shaka.net.NetworkingEngine.RequestType.LICENSE){I.call(p,"drm_li_f"),L.call(p,e,t);var n=O.call(p);if("function"==typeof n.licenseResponseFilter)return n.licenseResponseFilter(t,shaka.util)}else if(e===shaka.net.NetworkingEngine.RequestType.SERVER_CERTIFICATE&&(I.call(p,"drm_cer_f"),L.call(p,e,t),n=O.call(p),"function"==typeof n.certificateResponseFilter))return n.certificateResponseFilter(t,shaka.util)})),e.prev=37,e.next=40,o.load(t.source);case 40:e.next=46;break;case 42:e.prev=42,e.t1=e.catch(37),console.log("error when load source",e.t1),k.call(this,h.LoadSource,e.t1);case 46:this._initPlayBehavior(),this._executeReadyCallback();case 48:case"end":return e.stop()}}),e,this,[[4,11],[37,42]])})))).apply(this,arguments)}function m(e){this.traceLog(d,"play::"+e),e&&this.trigger(u.Private.ManualPlay),this._isManualPlay=Boolean(e),this.tag.ended||this._ended?this.replay():this.tag.paused&&this.tag.play()}function b(){this._switchingDesc=null,this._keySystem=null,this._baseType.dispose.call(this),this._drm&&(this._drm.destroy(),this._drm=null)}function S(e,t){var r,n,i,o=this._drm;e?(r=Number(e.split(p.DASH_QUALITY_PROTOCOL)[1]),(e=o.getVariantTracks().find((function(e){return e.id===r})))&&(o.configure({abr:{enabled:!1}}),n=!1,i=this.getOptions().seamlessHandover,o.selectVariantTrack(e,n="boolean"==typeof i?!i:n),n||(this._switchingDesc=t.desc))):(o.configure({abr:{enabled:!0}}),this._switchingDesc=null)}function T(){var e=this._drm;if(e)return e.getTextTracks().map((function(e){return{language:e.language,label:e.label,kind:"subtitle"===e.kind?"subtitles":"captions",default:e.active}}));console.warn("shaka has not been initialized but _getTextTracks is called")}function w(e){var t=this._drm;t&&(e?(t.setTextTrackVisibility(!0),t.selectTextLanguage(e)):t.setTextTrackVisibility(!1))}function E(e){e&&this._drm.selectAudioLanguage(e),A.call(this)}function x(e){var t=this;e.addEventListener("error",(function(e){k.call(t,h.PlayerError,e.detail)})),e.addEventListener("trackschanged",(function(){(function(){var e,t,r,n=this._drm,i=n.getAudioLanguages(),o=null==(e=n.getVariantTracks())?void 0:e.find((function(e){return e.active}));o&&(t=[],1===i.length&&"und"===i[0]?t.push({id:"und",language:l.get("Default"),enabled:!0}):i.length&&(r=n.getAudioLanguagesAndRoles()||[],i.forEach((function(e){var n;t.push({id:e,language:(null==(n=r.find((function(t){return t.language===e})))?void 0:n.label)||e,enabled:e===o.language})}))),this.trigger(u.Player.AudioTrackUpdated,{audioTracks:t}))}).call(t),e.keySystem()===f.FairPlay?t.trigger(u.Player.LevelsLoaded,{levels:[{}]}):(A.call(t),R.call(t,e))})),e.addEventListener("adaptation",(function(){e.keySystem()!==f.FairPlay&&R.call(t,e)})),this.tag.addEventListener("resize",(function(){t._switchingDesc&&t.trigger(u.Private.Info_Show,{text:l.get("Quality_Change_Result")+"<span>"+t._switchingDesc+"</span>",duration:3e3,align:"lb"})}))}function k(e,t){var r=this;if(console.log("to handle error of:",e,t,"this._isError",this._isError),this._isError)this.traceLog(d,"drm extra error ["+e+"]"+t+"}");else{t=t||{};var n={mediaId:this.getOptions().vid||"",error_code:"",error_msg:""};switch(e){case h.LoadJs:n.error_code=p.ErrorCode.ModuleLoadError,n.error_msg="drm player module load error."+((null==t?void 0:t.message)||"");break;case h.LoadSource:case h.PlayerError:n.error_code=p.ErrorCode.DrmLoadError,n.error_msg=l.get("Error_Drm_Load")+" | "+(y[t.code]||"")+" "+(e=>{var t="";return e.code===shaka.util.Error.Code.BAD_HTTP_STATUS?(null==e||null==(e=e.data)?void 0:e[1])||"":t})(t),n.diagnosis_info=(e=>{var t=shaka.util.Error.Code,r="",n=e.data||[];switch(e.code){case t.BAD_HTTP_STATUS:case t.HTTP_ERROR:case t.TIMEOUT:case t.LICENSE_REQUEST_FAILED:r=l.get("Tip_Drm_Request_Err")+C(n);break;case t.REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:case t.SESSION_TIMEOUT:window.isSecureContext?(r=l.get("Tip_Drm_Key_System_Unavailable"),n.length&&(r+="<br />"+l.get("Tip_Err_Common_Short")+n)):r=l.get("Tip_Drm_Secure_Context");break;case t.FAILED_TO_CREATE_CDM:"file:"===window.location.protocol&&(r=l.get("Tip_Drm_File_Not_Allowed"));break;case t.HLS_INVALID_PLAYLIST_HIERARCHY:r=l.get("Tip_Drm_Playlist_Hierarchy");break;case t.ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:r=l.get("Tip_Drm_Info_Missing")}return e=C(n),r||e})(t),n.shaka_error=t||{},t.code===shaka.util.Error.Code.LICENSE_REQUEST_FAILED&&console.log("LICENSE_REQUEST_FAILED => ",t.data[0]);break;case h.SupportError:n.error_code=p.ErrorCode.DrmNotSupported,"no-secure-context"===t._code?n.error_msg=l.get("Tip_Drm_Secure_Context"):(n.error_msg=l.get("Error_Drm_Not_Supported"),n.diagnosis_info=l.get("Tip_Drm_Unsupported"));break;case h.ParamsError:n.error_code=p.ErrorCode.InvalidParameter,n.error_msg=t.message||""}this.logError(n),this.trigger(u.Player.Error,n),shaka.Player.probeSupport().then((function(e){r.traceLog(d,"probeSupport::"+JSON.stringify(e))})).catch((function(e){r.traceLog(d,"probeSupport::"+e)}))}}function P(e){var t={};return Object.keys(e).forEach((function(r){t[e[r]]=r})),t}function C(e){return l.get("Tip_Err_Common")+e}function R(){var e=null==(t=this._drm.getVariantTracks())?void 0:t.find((function(e){return e.active})),t=(this._qualityService.levels||[]).find((function(t){return t.Url===""+p.DASH_QUALITY_PROTOCOL+e.id}));e&&t?this.trigger(u.Private.QualityChange,{levelSwitch:!0,desc:t.desc}):console.warn("no activeTrack or activeDisplayItem found",e,t)}function A(){var e=this._drm,t=e.getVariantTracks(),r=null==(n=e.getVariantTracks())?void 0:n.find((function(e){return e.active})),n=(t=t.filter((function(e){return e.audioId===r.audioId}))).map((function(e){return{url:""+p.DASH_QUALITY_PROTOCOL+e.id,width:e.width,height:e.height,bitrate:e.bandwidth,attrs:{BANDWIDTH:e.bandwidth,RESOLUTION:e.width+"x"+e.height}}}));this.trigger(u.Player.LevelsLoaded,{levels:n}),this.trigger(u.Private.SelectorGenerateList,{type:"quality"}),e.getConfiguration().abr.enabled||(t=(this._qualityService.levels||[]).find((function(e){return e.Url===""+p.DASH_QUALITY_PROTOCOL+r.id})))&&this.trigger(u.Private.SelectorValueChange,{type:"quality",text:t.desc})}function I(e){this.trigger(u.Private.Timeline,{name:e,ts:performance.now()})}function O(){var e={},t=this.getOptions().drm||{},r=this._keySystem||(null==(r=this._drm)?void 0:r.keySystem())||"";return r===f.Widevine?e=t.widevine||{}:r===f.FairPlay&&(e=t.fairplay||{}),e}function L(e,t){if(null==(r=this.getOptions())||null==(r=r.drm)||!r.disableReportLicense){var r=t.data;t="";if("string"==typeof r)t=r;else if(r instanceof ArrayBuffer)try{t=(new TextDecoder).decode(r)}catch(e){console.log("error in decode license provider response",e),t="[ArrayBuffer] decode error: "+e}this.traceLog(d,"DRM-"+g[e]+"-response: "+t)}}t.exports.inject=(()=>{var e=o(n().mark((function e(t,r,i,o){var a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=t)._baseType=i,a._keySystem=null,a.initPlay=v.bind(a,o),a.play=m.bind(a),a.dispose=b.bind(a),a._getDrmTextTracks=T.bind(a),a._switchDrmTextTrack=w.bind(a),a._switchLevel=S.bind(a),a._switchAudioTrack=E.bind(a);case 10:case"end":return e.stop()}}),e)})));return function(t,r,n,i){return e.apply(this,arguments)}})(),t.exports.play=m,t.exports._switchLevel=S,t.exports._getTextTracks=T,t.exports._switchTextTrack=w,t.exports._switchAudioTrack=E,t.exports.updateLevelList=A,t.exports.logProviderResponse=L},{"../../config":15,"../../lang/index":26,"../../lib/constants":31,"../../lib/io":43,"../base/event/eventtype":71,"es6-promise":9}],104:[function(e,t,r){var n=e("../base/player"),i=e("./drminjector"),o=e("./drminjectorNg"),a=n.extend({init:function(e,t){t.useDrm2?o.inject(this,a,n.prototype,t):i.inject(this,a,n.prototype,t,(function(e){})),t._native=!1,n.call(this,e,t)}});t.exports=a},{"../base/player":94,"./drminjector":102,"./drminjectorNg":103}],105:[function(e,t,r){var n=e("../../ui/component"),i=e("../../lib/data"),o=e("../../lib/ua"),a=e("../../lib/constants"),s=e("../../lib/dom"),c=e("../../lib/object"),l=e("../../config"),u=e("../../lang/index"),p=e("../../lib/playerutil"),d=e("../../lib/util"),h=e("../../ui/component/info-display"),f=e("../../ui/component/error-display"),y=e("../../feature/autoplaydelay"),g=e("../../commonui/autostreamselector"),v=e("../base/event/eventtype"),_=e("../saas/ststoken");e=n.extend({init:function(e,t){var r;void 0===t.skinLayout&&(t.skinLayout=p.getDefaultFlashLayout()),n.call(this,this,t),this._id="prism-player-"+i.guid(),this.tag=e,this._el=this.tag,this._childrenUI=[f],this.initChildren(),this.id=this._id,window[this.id]=this,u.setCurrentLanguage(this._options.language,"flash",this._options.languageTexts),d.openInFile()?(t={mediaId:this._options.vid||"",error_code:a.ErrorCode.FormatNotSupport,error_msg:u.get("Open_Html_By_File","flash")},this.trigger(v.Private.Error_Show,t)):o.IS_MOBILE?this.trigger(v.Private.Error_Show,{mediaId:this._options.vid||"",error_code:a.ErrorCode.FormatNotSupport,error_msg:u.get("Cant_Use_Flash_On_Mobile","flash")}):(this._options.vid&&this._options.accessKeyId&&this._options.securityToken&&this._options.accessKeySecret?_.getPlayAuth((r=this)._options,(function(e){r._options.playauth=e,r._createPlayer()}),(function(e){var t={mediaId:r._options.vid,error_code:e.Code,error_msg:e.Message};e.sri&&(t.sri=e.sri),t.display_msg=e.display_msg,r.trigger(v.Private.Error_Show,t)}),"flash"):this._createPlayer(),this._status="init")},_createPlayer:function(){var e,t;this._options.autoPlayDelay?(t=new y(this),e=this,t.handle((function(){e._options.autoplay=!0,e._initPlayer(),e._childrenUI=[h,g],e.initChildren()}))):(this._initPlayer(),this._childrenUI=[h,g],this.initChildren()),o.HAS_FLASH||(t=u.get("Flash_Not_Ready","flash"),this.trigger(v.Private.Info_Show,{text:t,align:"tc",isBlack:!1}))},_initPlayer:function(){var e="//"+l.domain+"/de/prismplayer-flash/"+l.flashVersion+"/PrismPlayer.swf",t=(this._options.playerSwfPath?e=this._options.playerSwfPath:l.domain?-1<l.domain.indexOf("localhost")&&(e="//"+l.domain+"/build/flash//PrismPlayer.swf"):e="de/prismplayer-flash/"+l.flashVersion+"/PrismPlayer.swf",this._comboFlashVars()),r=this._options.wmode||"opaque";this.tag.innerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=5,0,0,0" width="100%" height="100%" id="'+this.id+'"><param name=movie value="'+e+'"><param name=quality value=High><param name="FlashVars" value="'+t+'"><param name="WMode" value="'+r+'"><param name="AllowScriptAccess" value="always"><param name="AllowFullScreen" value="true"><param name="AllowFullScreenInteractive" value="true"><embed name="'+this.id+'" src="'+e+'" quality=high pluginspage="//www.macromedia.com/shockwave/download/index.cgi?P1_Prod_Version=ShockwaveFlash" type="application/x-shockwave-flash" width="100%" height="100%" AllowScriptAccess="always" AllowFullScreen="true" AllowFullScreenInteractive="true" WMode="'+r+'" FlashVars="'+t+'"></embed></object>'},_getPlayer:function(e){return-1!=navigator.appName.indexOf("Microsoft")?document.getElementById(e):document[e]},_getLowerQualityLevel:function(){var e,t=this._getVideoUrls();return t&&(e=t.Urls,t=t.index,!(e&&0==e.length||-1==t))&&0<t?{item:e[t-1],index:t-1}:""},_comboFlashVars:function(){var e=encodeURIComponent(o.getReferer()),t=o.getHref(),r=encodeURIComponent(t),n="",i=(t=(t&&(n=o.getHost(t)),this._options),e={autoPlay:t.autoplay?1:0,isInner:0,actRequest:1,vid:t.vid,diagnosisButtonVisible:t.diagnosisButtonVisible?1:0,domain:t.domain||"//tv.taobao.com",statisticService:t.statisticService||l.logReportTo,videoInfoService:t.videoInfoService||"/player/json/getBaseVideoInfo.do",disablePing:t.trackLog?0:1,namespace:this.id,barMode:0!=t.barMode?1:0,isLive:t.isLive?1:0,waterMark:t.waterMark,environment:t.environment,vurl:t.source?encodeURIComponent(t.source):"",plugins:t.plugins||"",snapShotShow:t.snapshot?1:0,accessId:t.accId||"",accessKey:t.accSecret||"",apiKey:t.apiKey||"",flashApiKey:t.flashApiKey||"",disableSeek:t.disableSeek?1:0,disableFullScreen:t.disableFullScreen?1:0,stsToken:t.stsToken||"",domainRegion:t.domainRegion||"",authInfo:t.authInfo?encodeURIComponent(t.authInfo):"",playDomain:t.playDomain||"",stretcherZoomType:t.stretcherZoomType||"",playauth:t.playauth?t.playauth.replace(/\+/g,"%2B"):"",prismType:t.prismType||0,formats:t.formats||"",notShowTips:t.notShowTips?1:0,showBarTime:t.showBarTime||0,showBuffer:0==t.showBuffer?0:1,rePlay:t.rePlay?1:0,encryp:t.encryp||"",secret:t.secret||"",mediaType:"video",logInfo:{ud:o.getHost(t.source),os:o.os.name,ov:o.os.version||"",et:o.browser.name,ev:o.browser.version||"",uat:o.USER_AGENT,r:e,pu:r,app_n:n}},[]);return void 0!==t.rtmpBufferTime&&(e.rtmpBufferTime=t.rtmpBufferTime),t.cover&&(e.cover=t.cover),t.extraInfo&&(e.extraInfo=encodeURIComponent(JSON.stringify(t.extraInfo))),e.logInfo&&(e.logInfo=encodeURIComponent(JSON.stringify(e.logInfo))),e.languageData=encodeURIComponent(JSON.stringify(u.getLanguageData("flash"))),e.language=u.getCurrentLanguage(),c.each(e,(function(e,t){i.push(e+"="+t)})),i.join("&")},initChildren:function(){for(var e=this._childrenUI.length,t=0;t<e;t++){var r=new this._childrenUI[t](this,this._options),n=r.el();n.id=r.id(),this.contentEl().appendChild(n),r.bindEvent()}var i=document.querySelector("#"+this._options.id+" .prism-info-display");s.css(i,"display","none")},flashReady:function(){this.flashPlayer=this._getPlayer(this.id),this._isReady=!0;var e=this._options.skinRes,t=this._options.skinLayout;if(!1!==t&&!c.isArray(t))throw new Error("PrismPlayer Error: skinLayout should be false or type of array!");if("string"!=typeof e)throw new Error("PrismPlayer Error: skinRes should be string!");e=0!=t&&0!==t.length&&{skinRes:e,skinLayout:t},this.flashPlayer.setPlayerSkin(e),this.trigger("ready");var r=this;window.addEventListener("beforeunload",(function(){try{r.flashPlayer.setPlayerCloseStatus()}catch(e){}}))},jsReady:function(){return!0},snapshoted:function(e){var t=d.toBinary(e);e="data:image/jpeg;base64,"+e;this.trigger("snapshoted",{time:this.getCurrentTime(),base64:e,binary:t})},uiReady:function(){this._status="ready",this.trigger("uiReady")},loadedmetadata:function(){"ended"!=this._status&&(this._status="loading",this.trigger("loadedmetadata"))},onPlay:function(){this._status="play",this.trigger("play"),this._clearTimeoutHandle(),this.trigger(v.Private.AutoStreamHide)},onEnded:function(){this._clearTimeoutHandle(),this._status="ended",this.trigger("ended")},onPause:function(){this._status="pause",this._clearTimeoutHandle(),this.trigger(v.Private.AutoStreamHide),this.trigger("pause")},onBulletScreenReady:function(){this.trigger("bSReady")},onBulletScreenMsgSend:function(e){this.trigger("bSSendMsg",e)},onVideoRender:function(e){this._clearTimeoutHandle(),this.trigger("videoRender"),this.trigger("canplay",{loadtime:e})},onVideoError:function(e){this._clearTimeoutHandle(),this._status="error",this.trigger("error",{errortype:e})},onM3u8Retry:function(){this.trigger("m3u8Retry")},hideBar:function(){this.trigger("hideBar")},showBar:function(){this.trigger("showBar")},liveStreamStop:function(){this.trigger("liveStreamStop")},stsTokenExpired:function(){this._status="error",this.trigger("stsTokenExpired")},onVideoBuffer:function(){var e;"pause"!=this._status&&(this._status="waiting",this.trigger("waiting"),this._clearTimeoutHandle(),(e=this)._checkTimeoutHandle=setTimeout((function(){e.trigger(v.Private.AutoStreamShow)}),1e3*this._options.loadDataTimeout),this._checkVideoStatus())},startSeek:function(e){this.trigger("startSeek",e)},completeSeek:function(e){this.trigger("completeSeek",e)},_invoke:function(){var e=arguments[0],t=arguments;if(Array.prototype.shift.call(t),!this.flashPlayer)throw new Error("PrismPlayer Error: flash player is not ready，please use api after ready event occured!");if("function"!=typeof this.flashPlayer[e])throw new Error("PrismPlayer Error: function "+e+" is not found!");return this.flashPlayer[e].apply(this.flashPlayer,t)},play:function(){this._invoke("playVideo")},replay:function(){this._invoke("replayVideo")},pause:function(){this._invoke("pauseVideo")},stop:function(){this._invoke("stopVideo")},seek:function(e){this._invoke("seekVideo",e)},getCurrentTime:function(){return this._invoke("getCurrentTime")},getDuration:function(){return this._invoke("getDuration")},getStatus:function(){return this._status},_getVideoUrls:function(){var e=this._invoke("getVideoUrls"),t=[];if(e&&e.Urls)for(var r=0;r<e.Urls.length;r++){var n=e.Urls[r].value,i=n.desc.indexOf("_"),o=u.get(n.definition,"flash");n.desc=0<i?o+"_"+n.height:o,t.push(n)}return{Urls:t,index:e.index}},_getVideoStatus:function(){return this._invoke("getVideoStatus")},_checkVideoStatus:function(){var e,t;this.flashPlayer&&!this._checkVideoStatusHandler&&(e=this,(t=function(){e._checkVideoStatusHandler=setTimeout((function(){var r=e._getVideoStatus();"playing"==r.videoStatus&&"bufferFull"==r.bufferStatus?(e._status="playing",e._clearTimeoutHandle()):"videoPlayOver"==r.videoStatus&&(e._status="ended",e._clearTimeoutHandle()),t()}),500)})())},_clearTimeoutHandle:function(){this._checkTimeoutHandle&&(clearTimeout(this._checkTimeoutHandle),this._checkTimeoutHandle=null)},_changeStream:function(e){return this._invoke("changeStream",e)},mute:function(){this.setVolume(0)},unMute:function(){this.setVolume(.5)},getVolume:function(){return this._invoke("getVolume")},setVolume:function(e){this._invoke("setVolume",e)},loadByVid:function(e){this._invoke("loadByVid",e,!1)},loadByUrl:function(e,t){this._invoke("loadByUrl",e,t)},dispose:function(){this._clearTimeoutHandle(),this._checkVideoStatusHandler&&(clearTimeout(this._checkVideoStatusHandler),this._checkVideoStatusHandler=null),this._invoke("pauseVideo");var e=this;setTimeout((function(){e.offAll("completeSeek"),e.offAll("startSeek"),e.offAll("stsTokenExpired"),e.offAll("liveStreamStop"),e.offAll("showBar"),e.offAll("hideBar"),e.offAll("m3u8Retry"),e.offAll("error"),e.offAll("canplay"),e.offAll("pause"),e.offAll("ended"),e.offAll("play"),e.offAll("loadedmetadata"),e.offAll("snapshoted"),e.offAll("uiReady"),e.offAll("ready"),e.flashPlayer=null,e._el&&(e._el.innerHTML="")}))},showBSMsg:function(e){this._invoke("showBSMsg",e)},setToastEnabled:function(e){this._invoke("setToastEnabled",e)},setLoadingInvisible:function(){this._invoke("setLoadingInvisible")},setPlayerSize:function(e,t){this._el.style.width=e,this._el.style.height=t}});t.exports=e},{"../../commonui/autostreamselector":12,"../../config":15,"../../feature/autoplaydelay":18,"../../lang/index":26,"../../lib/constants":31,"../../lib/data":33,"../../lib/dom":35,"../../lib/object":45,"../../lib/playerutil":48,"../../lib/ua":51,"../../lib/util":53,"../../ui/component":137,"../../ui/component/error-display":142,"../../ui/component/info-display":145,"../base/event/eventtype":71,"../saas/ststoken":120}],106:[function(e,t,r){(function(r){(function(){var n=e("../../lib/io"),i=e("../../config"),o=e("../../lib/constants"),a=e("../../lib/util"),s=e("../../lib/playerutil"),c=e("../../lib/ua"),l=e("../../lib/data"),u=e("../../lang/index"),p=e("../base/event/eventtype"),d="flvinjector.js";t.exports.inject=function(e,t,h,f,y,g){var v,_=f.source,m=f.optionFormat;function b(){this._disposed||(this._disposed=!0,this._superPt&&this._superPt.dispose.call(this),this._destroyFlv(),this._superPt&&(t.prototype.play=this._superPt.play,t.prototype.pause=this._superPt.pause,t.prototype.initPlay=this._superPt.initPlay,t.prototype.seek=this._superPt.seek,t.prototype.canSeekable=this._superPt.canSeekable))}function S(e){try{for(var t=e.buffered.length,r="Len:"+t+";",n=0;n<t;n++)r+="["+(n+1)+"]"+e.buffered.start(n)+"~"+e.buffered.end(n);return r}catch(e){}}(g||(f=_,g=m,!e._flv&&s.isFlv(f,g)&&s.isSupportFlv()))&&(e._Type=t,e._superType=h,e._superPt=h.prototype,e._disposed=!1,t.prototype._checkFlvReady=function(){if(null==this._flv)throw new Error("please invoke this method after ready event")},e._isFlv=!0,e._flv=null,e._isLoadedFlv=!1,e._dumpBuffer=null,t.prototype.play=function(e){return this.traceLog(d,"play::"+e),e&&this.trigger(p.Private.ManualPlay),this._checkFlvReady(),this._isManualPlay=e||!1,this.trigger(p.Private.Cover_Hide),this._options.isLive&&e?this._loadByUrlInner(this._options.source,0,e):this.tag.ended||this._ended?this.replay():(0==this._seeking&&(e=0,this.tag.ended||this._ended||0==(e=this.getCurrentTime())&&(e=-1),-1!=e)&&this.seek(e),this.tag.paused&&(this._hasLoaded||(this._hasLoaded=!0,this._flv.load()),this._flv.play())),this},t.prototype.seek=function(e){this._checkFlvReady(),this._seeking=!0;var t=this.getDuration();t<=(e=Math.floor(e))&&(e=t);try{this._flv.currentTime=e}catch(e){console.log(e)}return this},t.prototype.pause=function(e){return this._checkFlvReady(),this._isManualPause=e||!1,this._flv.pause(),this},t.prototype.getProgramDateTime=function(){var e;return this._checkFlvReady(),this._metadata?(e=(e=this._flv.getFirstSample())&&e.pts?e.pts:0,console.log("推流时间："+this._metadata.NtpTime),console.log("首帧PTS："+e),this._metadata.NtpTime+e):""},t.prototype.initPlay=function(e){var t,l,h;function f(e,t){if(!e._disposed){var r=!e._flv,n=(e._destroyFlv(),e._options.isLive);if(n&&!flvjs.getFeatureList().networkStreamIO)return(f={error_code:o.ErrorCode.FormatNotSupport,error_msg:u.get("Error_Not_Support_Mse_Flv")+"|streamIO(format:flv)"}).display_msg=f.error_msg,void e.trigger(p.Player.Error,f);var i,l={isLive:n,enableWorker:e._options.enableWorker,accurateSeek:!0},h=(c.IS_IE11&&(l.enableWorker=!1),{type:"flv",isLive:n,url:e._options.source});for(i in n?(l.enableStashBuffer=e._options.enableStashBufferForFlv,l.stashInitialSize=e._options.stashInitialSizeForFlv,l.autoCleanupSourceBuffer=!1):l.lazyLoadMaxDuration=600,l.statisticsInfoReportInterval=1e3,e._options.isLive&&(e._options.flvFrameChasing&&(l.flvFrameChasing=e._options.flvFrameChasing),e._options.chasingFirstParagraph&&(l.chasingFirstParagraph=e._options.chasingFirstParagraph),e._options.chasingSecondParagraph&&(l.chasingSecondParagraph=e._options.chasingSecondParagraph),e._options.chasingFirstSpeed&&(l.chasingFirstSpeed=e._options.chasingFirstSpeed),e._options.chasingSecondSpeed)&&(l.chasingSecondSpeed=e._options.chasingSecondSpeed),e._options.flvOption)"cors"==i||"hasAudio"==i||"withCredentials"==i||"hasVideo"==i||"type"==i?h[i]=e._options.flvOption[i]:l[i]=e._options.flvOption[i];flvjs.LoggingControl.enableAll=e._options.debug,e._flv=flvjs.createPlayer(h,l),v(e,e._flv),e._flv.on(flvjs.Events.DUMP_BUFFER,(function(t){var r,n,i;e._options.disableDumpBuffer||0===e._liveRetryCount&&0===e._vodRetryCount&&0===e._nudgeCount&&"string"!=typeof e._dumpBuffer&&(e._flvDumpTimer||(e._flvDumpTimer=setTimeout((function(){e._reportDumpBuffer&&e._reportDumpBuffer()}),5e3)),t=new Uint8Array(t),e._dumpBuffer?e._dumpBuffer=(r=e._dumpBuffer,n=t,(i=new Uint8Array(r.length+n.length)).set(r),i.set(n,r.length),i):e._dumpBuffer=t)}));var f,g=a.throttle((function(t){e.traceLog(d,"dts_adjustment::"+t.from+"->"+t.to)}),1e3);e._flv.on(flvjs.Events.DTS_ADJUSTMENT,(function(e){g(e)})),e._flv.on(flvjs.Events.MEDIA_INFO,(function(t){e._metadata=t.metadata})),e._flv.on(flvjs.Events.METADATA_ARRIVED,(function(t){t&&t.dataContent&&t.dataContent.length&&e.trigger(p.Private.SeiFrame,{dataContent:t.dataContent,pts:t.pts})})),e._flv.on(flvjs.Events.STATISTICS_INFO,(function(t){e.trigger(p.Private.StatisticsInfo,t)})),e._flv.attachMediaElement(e.tag),e._initPlayBehavior(t)&&((e._options.preload||e._options.autoplay)&&(e._hasLoaded=!0,e._flv.load()),e._options.autoplay&&!e.tag.paused&&e._flv.play(),y&&y(e._flv),r)&&(e._executeReadyCallback(),e._urls)&&0<e._urls.length&&(e._currentPlayIndex=s.findSelectedStreamLevel(e._urls,e._options.defaultDefinition),f=e._urls[e._currentPlayIndex],e._options.source=f.Url,e.trigger(p.Private.SourceLoaded,f))}}c.browser.safari&&this.trigger(p.Private.Snapshot_Hide),a.contentProtocolMixed(_,"",m)?((t={mediaId:this._options.vid||"",error_code:o.ErrorCode.InvalidSourceURL,error_msg:"InvalidSourceURL"}).display_msg=u.get("Request_Block_Text"),this.trigger(p.Player.Error,t)):(l=this)._isLoadedFlv&&"undefined"!=typeof Hls?setTimeout((function(){f(l,e)}),1e3):(this.trigger(p.Private.H5_Loading_Show),h=performance.now(),function(e,t,o){var a="aliplayer-flv-min.js",s="",c=(s=i.domain?"https://"+i.domain+i.path+i.h5Version+"/flv/"+a:"/build/flv/"+a,this._options.assetPrefix&&(s=this._options.assetPrefix+"/flv/"+a),JSON.parse(r)&&(s="http://localhost:8000/dist/aliplayer-flv.js"),this);n.loadJS(s,(function(){e.apply(c)}),(function(){o&&o()}))}.call(l,(function(){this.traceLog(d,"got js#"+parseInt(performance.now()-h)),this._isLoadedFlv=!0,f(this,e)}),this._options.debug,(function(){var e={mediaId:l._options.vid||"",mediaAuth:l._options.mediaAuth||"",error_code:o.ErrorCode.ModuleLoadError,error_msg:"flv module load error."};l.trigger(p.Player.Error,e)})))},t.prototype._reportDumpBuffer=function(){var e,t;this.__flvDumpTimer&&clearTimeout(this.__flvDumpTimer),this.__flvDumpTimer=null,this._dumpBuffer&&"string"!=typeof this._dumpBuffer&&(1048576<this._dumpBuffer.byteLength&&(this._dumpBuffer=this._dumpBuffer.slice(0,1048576)),e=this._dumpBuffer,this._dumpBuffer="REPORTED",performance.now(),e=a.arrayBufferToB64(e),t=l.guid(),this.traceLog(d,"dump::"+t),this.trigger(p.Private.DumpBuffer,{id:t,data:e}))},t.prototype._destroyFlv=function(){try{this._flv&&(this._flv.pause(),this._flv.destroy())}catch(e){console.log(e)}this.loaded=!1,this._hasLoaded=!1,this._flv=null,this._flvDumpTimer&&(clearTimeout(this._flvDumpTimer),this._flvDumpTimer=null),this._dumpBuffer=null},Object.defineProperty(t.prototype,"dispose",{enumerable:!0,configurable:!0,get:function(){return b},set:function(){return b}}),t.prototype.canSeekable=function(e){var t=this._flv.mediaInfo;return!(!this._flv._isTimepointBuffered(e)&&t&&!t.hasKeyframesIndex)},t.prototype._getbwEstimator=function(){var e;return 1024*(null==(e=this._flv)||null==(e=e.statisticsInfo)?void 0:e.speed)*8},v=function(e,t){var r=!1;t.on(flvjs.Events.ERROR,(function(n,a,s){var c,l,h,f,y="flvjs-error::"+n+"#"+a+"#"+s.code+"#"+s.msg,g="BodyStreamBuffer was aborted"===s.msg&&t._config.lazyLoad;if(g){y+="#Maximum buffering duration exceeded, suspend transmuxing task";try{var v=t._msectl._sourceBuffers.video,_=t._msectl._sourceBuffers.audio;y+="#Video buffer:"+S(v)+"#Audio buffer:"+S(_)}catch(n){}}e.traceLog(d,y),e._reportDumpBuffer&&e._reportDumpBuffer(),n===flvjs.ErrorTypes.BUFFER_FULL||(e._flv.unload(),g)||e._isError||(c=o.ErrorCode.OtherError,l=u.get("Error_Play_Text"),h=null,a==flvjs.ErrorDetails.NETWORK_EXCEPTION?!(v=e.getOptions().source)||0!=v.toLowerCase().indexOf("http://")&&0!=v.toLowerCase().indexOf("https://")?(c=o.ErrorCode.InvalidSourceURL,l=u.get("Error_Invalidate_Source_Widthout_Protocal"),r=!0):l=navigator.onLine?(c=o.ErrorCode.RequestDataError,u.get("Maybe_Cors_Error")):(c=o.ErrorCode.NetworkError,u.get("Error_Network_Text")):a==flvjs.ErrorDetails.NETWORK_STATUS_CODE_INVALID?"404"==s.code?(c=o.ErrorCode.NotFoundSourceURL,l=u.get("Error_Not_Found"),h=u.get("Tip_Err_Not_found")):"403"==s.code?(c=o.ErrorCode.AuthKeyExpired,l=u.get("Error_AuthKey_Text"),r=!0):(c=o.ErrorCode.NetworkError,l=u.get("Error_Network_Text")):a==flvjs.ErrorDetails.NETWORK_TIMEOUT?(c=o.ErrorCode.LoadingTimeout,l=u.get("Error_Waiting_Timeout_Text")):a==flvjs.ErrorDetails.MEDIA_FORMAT_UNSUPPORTED||a==flvjs.ErrorDetails.MEDIA_CODEC_UNSUPPORTED?(c=o.ErrorCode.FormatNotSupport,l=u.get("Error_H5_Not_Support_Text")+"|codec(format:flv)",r=!0):a===flvjs.ErrorDetails.MEDIA_MSE_ERROR&&(_=e.tag.error)&&(c=o.VideoErrorCode[_.code],l=_.code+" || "+_.message),y=function(){var t;setTimeout((function(){e.trigger(p.Private.Play_Btn_Hide)})),e.checkOnline()&&(t={mediaId:e._options&&e._options.vid?e._options.vid:"",error_code:c,error_msg:l,diagnosis_info:h},e.logError(t),t.display_msg=l,i.cityBrain&&(e.flv=null),e.trigger(p.Player.Error,t))},e._options&&e._options.isLive&&!r?(f=e._options).liveRetry>e._liveRetryCount?(0==e._liveRetryCount&&e.trigger(p.Player.OnM3u8Retry),n=f.liveRetryInterval+f.liveRetryStep*e._liveRetryCount,e._liveRetryCount++,setTimeout((function(){e._isError||e._liveRetryTimer||e._loadByUrlInner(f.source)}),1e3*n)):(e.trigger(p.Player.LiveStreamStop),y()):a===flvjs.ErrorDetails.MEDIA_MSE_ERROR&&11===s.code&&e.getCurrentTime()<e.getDuration()?(e._flv.unload(),e._flv.load(),e._flv.detachMediaElement(),e._flv.attachMediaElement(e.tag)):r?(e._flv.unload(),y()):e._reloadForVod()||y())}))})}}).call(this)}).call(this,"false")},{"../../config":15,"../../lang/index":26,"../../lib/constants":31,"../../lib/data":33,"../../lib/io":43,"../../lib/playerutil":48,"../../lib/ua":51,"../../lib/util":53,"../base/event/eventtype":71}],107:[function(e,t,r){var n=e("../base/player"),i=e("./flvinjector"),o=n.extend({init:function(e,t){i.inject(this,o,n,t,(function(e){})),t._native=!1,n.call(this,e,t)}});t.exports=o},{"../base/player":94,"./flvinjector":106}],108:[function(e,t,r){(function(r){(function(){function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)!{}.hasOwnProperty.call(n,r)||(e[r]=n[r])}return e}).apply(null,arguments)}var i,o=e("../../lib/object"),a=e("../../lib/io"),s=e("../../config"),c=e("../../lib/constants"),l=e("../../lib/util"),u=e("../../lib/playerutil"),p=e("../../lib/ua"),d=e("../../lang/index"),h=e("../base/event/eventtype"),f="hlsinjector.js";function y(){this&&this._hls&&(this._hls.stopLoad(),this._hls.destroy(),this._hls=null)}function g(e){this.trigger(h.Private.Timeline,{name:e,ts:performance.now()})}function v(e,t){return t<e.maxNumRetry}var _={};function m(e,t){t.frag.level===this.currentLevel&&(this.off(i.Events.FRAG_BUFFERED,m),this.media.currentTime=this.media.currentTime+.01)}t.exports.inject=function(e,t,b,S,T,w){e._hls2=!1;var E,x,k,P=S.source,C=S.optionFormat;((T||"").length||w||(w=P,E=S.useHlsPluginForSafari,S=S.useHlsPlugOnMobile,x=C,!e._hls&&u.isHls(w,x)&&(!u.canPlayHls()||u.isSafariUsedHlsPlugin(E)||S&&u.isUsedHlsPluginOnMobile())))&&(e._Type=t,e._superType=b,e._superPt=b.prototype,e._disposed=!1,e._isHls=!0,e._hls=null,e._isLoadedHls=!1,e._stopLoadAsPaused=!0,e._yekced_saved=T,_.seek||(_.seek=b.prototype.seek),_.dispose||(_.dispose=b.prototype.dispose),e.initPlay=function(e){var t,_;function m(e,t){if(!e._disposed){if(e._antiRecord&&(console.log("Manual check before load source"),e._antiRecord.check()))return;var r,a=!e._hls,s=(e._destroyHls(),{xhrSetup:function(t,r){t.withCredentials=e._options.withCredentials||!1}}),c=(e._hls2||(c=e._options.loadingTimeOut||e._options.hlsLoadingTimeOut)&&(s.manifestLoadingTimeOut=c,s.levelLoadingTimeOut=c,s.fragLoadingTimeOut=c),e._hls2&&(s.manifestLoadPolicy=n({},i.DefaultConfig.manifestLoadPolicy),s.playlistLoadPolicy=n({},i.DefaultConfig.playlistLoadPolicy),s.fragLoadPolicy=n({},i.DefaultConfig.fragLoadPolicy),c=e._options.isLive?e._options.liveRetry:e._options.vodRetry,s.manifestLoadPolicy.default.errorRetry.maxNumRetry=c,e._options.isLive&&(s.manifestLoadPolicy.default.errorRetry.shouldRetry=v),s.manifestLoadPolicy.default.timeoutRetry.maxNumRetry=c,s.playlistLoadPolicy.default.errorRetry.maxNumRetry=c,e._options.isLive&&(s.playlistLoadPolicy.default.errorRetry.shouldRetry=v),s.playlistLoadPolicy.default.timeoutRetry.maxNumRetry=c,s.fragLoadPolicy.default.maxLoadTimeMs=2e4,s.fragLoadPolicy.default.errorRetry.shouldRetry=v,(c=e._options.hlsOption||{}).manifestLoadPolicy&&(s.manifestLoadPolicy=o.deepMerge(s.manifestLoadPolicy,c.manifestLoadPolicy),delete c.manifestLoadPolicy),c.playlistLoadPolicy&&(s.playlistLoadPolicy=o.deepMerge(s.playlistLoadPolicy,c.playlistLoadPolicy),delete c.playlistLoadPolicy),c.fragLoadPolicy&&(s.fragLoadPolicy=o.deepMerge(s.fragLoadPolicy,c.fragLoadPolicy),delete c.fragLoadPolicy),e._options.isLive)&&!p.IS_IE11&&(s.backBufferLength=12,s.liveDurationInfinity=!0),e._options.isLive&&(e._options.hlsFrameChasing&&(s.hlsFrameChasing=e._options.hlsFrameChasing),e._options.chasingFirstParagraph&&(s.chasingFirstParagraph=e._options.chasingFirstParagraph),e._options.chasingSecondParagraph&&(s.chasingSecondParagraph=e._options.chasingSecondParagraph),e._options.chasingFirstSpeed&&(s.chasingFirstSpeed=e._options.chasingFirstSpeed),e._options.chasingSecondSpeed)&&(s.chasingSecondSpeed=e._options.chasingSecondSpeed),e._options.defaultBandwidth&&(s.defaultBandwidth=e._options.defaultBandwidth),e._options.hlsBandWidthUpCacheTime&&(s.abrBandWidthUpCacheTime=e._options.hlsBandWidthUpCacheTime),e._options.seamlessHandover&&(s.seamlessHandover=e._options.seamlessHandover),e._options.liveSyncDurationCount&&(s.liveSyncDurationCount=e._options.liveSyncDurationCount),e._options.nudgeMaxRetry&&(s.nudgeMaxRetry=e._options.nudgeMaxRetry),e._options.maxMaxBufferLength&&(s.maxMaxBufferLength=e._options.maxMaxBufferLength),e._options.maxBufferSize&&(s.maxBufferSize=e._options.maxBufferSize),e._options.fragLoadingRetryDelay&&(s.fragLoadingRetryDelay=e._options.fragLoadingRetryDelay),e._options.maxBufferLength&&(s.maxBufferLength=e._options.maxBufferLength),e._options.accessKeyId&&(s.accessKeyId=e._options.accessKeyId),e._options.accessKeySecret&&(s.accessKeySecret=e._options.accessKeySecret),e._options.securityToken&&(s.securityToken=e._options.securityToken),e._options.app&&(s.app=e._options.app),e._options.stream&&(s.stream=e._options.stream),e._options.domain&&(s.domain=e._options.domain),e._options.regionId&&(s.regionId=e._options.regionId),e._yekced_saved&&(s._yekcedxx=e._yekced_saved,s._vpk=e._yekced_saved),s.enableWorker=e._options.enableWorker,s.debug=e._options.debug,e._stopLoadAsPaused=e._options.hlsOption.stopLoadAsPaused,e._getPlayStartTime()+e._posOffset);for(r in c&&(s.startPosition=c,console.log("hls.js startPosition => ",c)),e._options.hlsOption)s[r]=e._options.hlsOption[r];p.IS_IE11&&(s.enableWorker=!1),e._hls=new i(s),k(e,e._hls),e._loadSourced=!1,e._hls.attachMedia(e.tag),e._hls.on(i.Events.INIT_PTS_FOUND,(function(t,r){e._initPTS=r.initPTS})),e._hls.on(i.Events.FRAG_LOADING,(function(){g.call(e,"frag_s")})),e._hls.on(i.Events.FRAG_LOADED,(function(){g.call(e,"frag_f")})),e._hls.on(i.Events.FRAG_PARSED,(function(){g.call(e,"frag_parsed")})),e._hls.on(i.Events.FRAG_PARSED,(function(t,r){r=(null==r?void 0:r.frag)||{};var n=r.elementaryStreams||{},i="Frag(sn"+r.sn+"): "+(null==(i=r.startPTS)?void 0:i.toFixed(3))+" -> "+(null==(i=r.endPTS)?void 0:i.toFixed(3))+"(v:"+(null==(i=n.video)||null==(i=i.startPTS)?void 0:i.toFixed(3))+"/"+(null==(i=n.video)||null==(i=i.endPTS)?void 0:i.toFixed(3))+";a:"+(null==(i=n.audio)||null==(i=i.startPTS)?void 0:i.toFixed(3))+"/"+(null==(i=n.audio)||null==(i=i.endPTS)?void 0:i.toFixed(3))+"); Duration: "+(null==(n=r.duration)?void 0:n.toFixed(3));e.trackLogFragBuffer&&(e.trackLogFragBuffer.push(i),10<e.trackLogFragBuffer.length)&&e.trackLogFragBuffer.shift()})),e._hls.on(i.Events.FRAG_PARSING_USERDATA,(function(t,r){r&&r.dataContent&&r.dataContent.length?e.trigger(h.Private.SeiFrame,{dataContent:r.dataContent,pts:r.pts}):r.samples.forEach((function(t){e.trigger(h.Private.SeiFrame,{dataContent:t.userDataBytes,dataContentString:t.userData,pts:t.pts,uuid:t.uuid})}))})),e._hls.on(i.Events.MEDIA_ATTACHED,(function(){var r;e._hls.on(i.Events.MANIFEST_PARSED,(function(){e._initPlayBehavior(t||e._loadSourced)})),e._hls.on(i.Events.AUDIO_TRACKS_UPDATED,(function(t,r){e.trigger(h.Player.AudioTrackUpdated,r)})),e._hls.on(i.Events.MANIFEST_LOADED,(function(t,r){e.trigger(h.Player.LevelsLoaded,r)})),e._hls.on(i.Events.LEVEL_SWITCHED,(function(t,r){if(e._qualityService){for(var n=e._hls.levels[r.level].url,i=e._qualityService.levels,o="",a="",s=0;s<i.length;s++)if(i[s].Url==n){a=i[s].desc,o=i[s].bitrate;break}(a||o)&&e.trigger(h.Private.QualityChange,{levelSwitch:!0,url:n,bitrate:o,desc:a})}})),e._hls.on(i.Events.AUDIO_TRACK_SWITCH,(function(t,r){e.trigger(h.Player.AudioTrackSwitch,r),setTimeout((function(){e.trigger(h.Player.AudioTrackSwitched,r)}),1e3)})),(e._options.autoplay||e._options.preload||t)&&(e._loadSourced=!0,e._levels&&1<e._levels.length?(e._hls.trigger(i.Events.MANIFEST_LOADING,{}),e._hls.trigger(i.Events.MANIFEST_LOADED,{levels:e._levels})):e._hls.loadSource(e._options.source||"__INVALID__")),a?(e._executeReadyCallback(),e._urls&&0<e._urls.length&&(e._currentPlayIndex=u.findSelectedStreamLevel(e._urls,e._options.defaultDefinition),r=e._urls[e._currentPlayIndex],e._options.source=r.Url,e.trigger(h.Private.SourceLoaded,r))):e.trigger(h.Private.H5_Loading_Show)}))}}this.trigger(h.Private.H5_Loading_Show),l.contentProtocolMixed(P,"",C)?(t=this.getOptions()||{},(t={mediaId:t.vid||"",mediaAuth:t.mediaAuth||"",error_code:c.ErrorCode.InvalidSourceURL,error_msg:"InvalidSourceURL"}).display_msg=d.get("Request_Block_Text"),this.trigger(h.Player.Error,t)):(_=this)._isLoadedHls&&void 0!==i?m(this,e):(this.trigger(h.Private.H5_Loading_Show),this._getHlsVersion((function(t){var n=performance.now();(function(e,t,n){var o="aliplayer-hls-min.js",c=((t=t||{}).hls2&&(o="aliplayer-hls2-min.js"),t.enableHlsH265&&(o="aliplayer-hls2-hevc-min.js"),""),l=(c=s.domain?"https://"+s.domain+s.path+s.h5Version+"/hls/"+o:"/build/hls/"+o,t.assetPrefix&&(c=t.assetPrefix+"/hls/"+o),JSON.parse(r)&&(c="http://localhost:8080/dist/aliplayer-hls2.js"),g.call(this,"mod_hls_s"),this);a.loadJS(c,(function(){g.call(l,"mod_hls_f"),i=window.AliHls||window.Hls,e.apply(l)}),(function(){n&&n()}))}).call(_,(function(){_.traceLog(f,"got js#"+parseInt(performance.now()-n)),_._isLoadedHls=!0,m(_,e)}),{debug:_._options.debug,hls2:_._hls2,assetPrefix:_._options.assetPrefix,enableHlsH265:_._options.enableHlsH265},(function(){var e={mediaId:_._options.vid||"",mediaAuth:_._options.mediaAuth||"",error_code:c.ErrorCode.ModuleLoadError,error_msg:"hls module load error."};_.trigger(h.Player.Error,e)}))})),this.on("error",y))}.bind(e),e.seek=function(e){this._checkHlsReady();try{_.seek.call(this,e),this.tag.paused&&this._stopLoadAsPaused&&this._hls.startLoad(e)}catch(e){console.log(e)}return this}.bind(e),e.pause=function(e){return this.tag&&(this._checkHlsReady(),this.tag.pause(),this._stopLoadAsPaused)&&this._hls.stopLoad(),this._isManualPause=e||!1,this}.bind(e),e.play=function(e){return this.traceLog(f,"play::"+e),e&&this.trigger(h.Private.ManualPlay),this._checkHlsReady(),this._isManualPlay=e||!1,this.trigger(h.Private.Cover_Hide),this._options.autoplay||this._options.preload||this._loadSourced||(this._loadSourced=!0,this._options._autoplay=!0,this._hls.loadSource(this._options.source)),this.tag.ended||this._ended?this.replay():this.tag.paused&&(this.tag.play(),this._stopLoadAsPaused)&&(e=this.getCurrentTime(),this._hls.startLoad(e)),this}.bind(e),e.stop=function(){return this._checkHlsReady(),this.tag.setAttribute("src",null),this._hls.stopLoad(),this}.bind(e),e.dispose=function(){this._disposed||(this._disposed=!0,_.dispose.call(this),this._destroyHls())}.bind(e),e.getCurrentPDT=function(){if(this._checkHlsReady(),-1==this._hls.currentLevel)return"";if(this._hls.playingDate)return this._hls.playingDate.getTime();var e,t=this._hls.streamController.fragPlaying||{},r=t.pdt;return r?(t=1e3*t.startPTS,e=1e3*this.getCurrentTime(),r+(e-t)):0}.bind(e),e.getProgramDateTime=function(){if(this._checkHlsReady(),-1==this._hls.currentLevel)return"";var e=this._hls.currentLevel;e=this._hls.levels[e].details;return e&&(e=e.programDateTime,e)?new Date(e).valueOf():0}.bind(e),e._checkHlsReady=function(){if(null==this._hls)throw new Error("please invoke this method after ready event")}.bind(e),e._getHlsVersion=function(e){!0===this._options.useHls2?(this._hls2=!0,e()):!1===this._options.useHls2&&e()}.bind(e),e._getbwEstimator=function(){var e,t=NaN;return this._hls&&(e=this._hls.abrController._bwEstimator,t=e?e.getEstimate():this._hls.bandwidthEstimate),t}.bind(e),e._destroyHls=function(){this._hls&&this._hls.destroy(),this._hls=null,this.trackLogFragBuffer=[]}.bind(e),e._switchLevel=function(e){for(var t=this,r=(this.traceLog(f,"switchLevel::"+e),this.trigger(h.Player.LevelSwitch),this._hls.levels),n=!0,o=0;o<r.length;o++)if(r[o].url==e||r[o].url[0]==e){n=!1,this._hls2&&this._options.seamlessHandover?(this._hls.loadLevel=o,console.log("Seamlessly set nextLevel to",o)):(this._hls.on(i.Events.FRAG_BUFFERED,m),this._hls.currentLevel=o,console.log("Immediately set currentLevel to",o));break}n&&(this._hls.on(i.Events.FRAG_BUFFERED,m),this._hls.currentLevel=-1),this._switchedLevel=!0,setTimeout((function(){t.trigger(h.Player.LevelSwitched),t._switchedLevel=!1}),1e3)}.bind(e),k=function(e,t){t.on(i.Events.MANIFEST_LOADING,(function(){g.call(e,"mani_s")})),t.on(i.Events.MANIFEST_LOADED,(function(){g.call(e,"mani_f")})),t.on(i.Events.DEFAULT_BANDWIDTH,(function(t,r){e.trigger(h.Player.DefaultBandWidth,{width:r.width,height:r.height,bitrate:r.bitrate})})),t.on(i.Events.ERROR,(function(r,n){var o="hlsjs-error::"+n.type+"#"+n.details+"#"+(null==(o=n.networkDetails)?void 0:o.status)+"#"+n.reason+"#bw:"+(e._getbwEstimator()/8/1024).toFixed(2)+"KB";if("manifestParsingError"===n.details)try{o+="#"+n.networkDetails.getResponseHeader("Content-Type")+"#"+n.networkDetails.getResponseHeader("Content-Length")}catch(r){}else if("fragLoadError"===n.details||"fragLoadTimeOut"===n.details)o+="#"+n.frag.url+"#retry:"+(null==(_=n.errorAction)?void 0:_.retryCount);else if("internalException"===n.details)try{o+="#"+n.event+"#"+(null==(l=n.error)?void 0:l.message)+"#"+(null==(s=n.error)?void 0:s.stack)}catch(r){}"internalException"!==n.details&&(o+="#"+n.error);try{o+="#"+(null==e||null==(b=e.trackLogFragBuffer)?void 0:b.toString())}catch(r){}if(e.traceLog(f,o),e._options&&n.details!=i.ErrorDetails.FRAG_LOOP_LOADING_ERROR&&1!=e._seeking&&0!=n.fatal){e._clearTimeout();var a,s,l,p=c.ErrorCode.LoadedMetadata,y=d.get("Error_Play_Text"),g=!1,v=null,_=!1,m=(n.details==i.ErrorDetails.MANIFEST_LOAD_ERROR||n.details==i.ErrorDetails.LEVEL_LOAD_ERROR?(g=!0,l=n.networkDetails,a=Number(l.status),e.liveShiftSerivce&&e.liveShiftSerivce.isLiveShiftPlaying()&&404===a?(p=c.ErrorCode.NotFoundSourceURL,y=d.get("Error_Liveshift_M3U8_Not_Found_Text"),_=!0):404===a?(p=c.ErrorCode.NotFoundSourceURL,y=d.get("Error_Not_Found"),v=d.get("Tip_Err_Not_found")):403===a?(s=u.parseHttpHeaders(l)["x-tengine-error"])&&-1<c.RegionBlockMessages.indexOf(s)?(p=c.ErrorCode.RegionBlock,y=d.get("Error_Region_Block_Text"),v=d.get("Tip_Err_Blocked")):(p=c.ErrorCode.AuthKeyExpired,y=d.get("Error_AuthKey_Text")):y=0===a&&navigator.onLine?(p=c.ErrorCode.RequestDataError,y+"，"+d.get("Maybe_Cors_Error")):d.get("Error_Load_M3U8_Failed_Text")):n.details==i.ErrorDetails.MANIFEST_LOAD_TIMEOUT||n.details==i.ErrorDetails.LEVEL_LOAD_TIMEOUT?(g=!0,y=d.get("Error_Load_M3U8_Timeout_Text")):n.details==i.ErrorDetails.MANIFEST_PARSING_ERROR||n.details==i.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR?(g=!0,y=d.get("Error_M3U8_Decode_Text")):n.type==i.ErrorTypes.NETWORK_ERROR?(p=c.ErrorCode.NetworkError,y=d.get("Error_Network_Text")):n.type!=i.ErrorTypes.MUX_ERROR&&n.type!=i.ErrorTypes.MEDIA_ERROR||(p=c.ErrorCode.PlayDataDecode,y=d.get("Error_TX_Decode_Text")),y=y+"("+n.details+")",function(){var t;setTimeout((function(){e.trigger(h.Private.Play_Btn_Hide)})),e.checkOnline()&&(t={mediaId:(t=e.getOptions()||{}).vid||"",mediaAuth:t.mediaAuth||"",error_code:p,error_msg:n.details,diagnosis_info:v},e.logError(t),t.display_msg=y,e.trigger(h.Player.Error,t))}),b=function(){e._liveErrorHandle&&clearTimeout(e._liveErrorHandle),t.stopLoad(),e.trigger(h.Player.LiveStreamStop),e._liveErrorHandle=setTimeout(m,500)},S=e._options;if(S.isLive&&_)b();else if(e._hls2){if(g&&S.isLive)if(S.hlsOption.progressive){if(S.liveRetry>e._liveRetryCount)return 0==e._liveRetryCount&&e.trigger(h.Player.OnM3u8Retry),e.trigger(h.Private.H5_Loading_Show),e._hls.stopLoad(),e._liveRetryCount++,void setTimeout((function(){e.traceLog(f,"retry when live error in progressive mode#"+e._liveRetryCount),e._hls.loadSource(S.source)}),1e3*e._liveRetryCount)}else 0===(null==(o=n.errorAction)?void 0:o.retryCount)&&e.trigger(h.Player.OnM3u8Retry);n.fatal&&b()}else S.isLive?S.liveRetry>e._liveRetryCount?(0==e._liveRetryCount&&e.trigger(h.Player.OnM3u8Retry),l=S.liveRetryInterval+S.liveRetryStep*e._liveRetryCount,e._liveRetryCount++,e.trigger(h.Private.H5_Loading_Show),setTimeout((function(){g&&e._loadByUrlInner(e._options.source,0,!0)}),1e3*l)):b():(g&&-1<[403,404].indexOf(a)||!e._reloadForVod())&&m()}}))})}}).call(this)}).call(this,"false")},{"../../config":15,"../../lang/index":26,"../../lib/constants":31,"../../lib/io":43,"../../lib/object":45,"../../lib/playerutil":48,"../../lib/ua":51,"../../lib/util":53,"../base/event/eventtype":71}],109:[function(e,t,r){var n=e("../base/player"),i=e("./hlsinjector"),o=n.extend({init:function(e,t){t._native=!1,i.inject(this,o,n,t),n.call(this,e,t)}});t.exports=o},{"../base/player":94,"./hlsinjector":108}],110:[function(e,t,r){var n=["extraInfo"];function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)!{}.hasOwnProperty.call(n,r)||(e[r]=n[r])}return e}).apply(null,arguments)}var o="undefined"==typeof Promise?e("es6-promise").Promise:Promise,a=e("../../lib/io"),s=e("../../config"),c=e("../../lib/constants"),l=e("../../lang/index"),u=e("../base/event/eventtype"),p=e("../../lib/ua"),d=e("../base/event/eventtype"),h=e("../../lib/playerutil"),f="rtsinjector.js";function y(e){var t,r,n,i,o=this._options;o.rtsFallback&&window.Aliplayer?((t=o.rtsFallbackSource)||((r=String(o.rtsFallbackType||"").toUpperCase())&&!["HLS","FLV"].includes(r)&&(console.warn("invalid rtsFallbackType:",o.rtsFallbackType,", will use flv -> hls as fallback"),r=""),r=r||(h.isSupportFlv()?"FLV":"HLS"),n=o.source,i=!n.includes("@subvideo=no"),n=!n.includes("@subaudio=no"),n=(i={enableVideo:i,enableAudio:n}).enableVideo,i=i.enableAudio,"FLV"===r?(o.flvOption=o.flvOption||{},i||(o.flvOption.hasAudio=!1),n||(o.flvOption.hasVideo=!1)):"HLS"!==r||i||(o.mute=!0),t=((e,t)=>{t="FLV"===t?"flv":"m3u8";var r=window.location.protocol;r=(-1<["http:","https:"].indexOf(r)?r:"https:")+"//";return(e=e.replace("artc://",r).replace("?","."+t+"?").replace("@subvideo=no","").replace("@subaudio=no","")).includes("?")||(e+="."+t),e.includes("auth_key")&&(e+="&rts_degrade=on"),e})(o.source,r)),this.trigger(u.Player.RtsFallback,{reason:e,fallbackUrl:t}),this.loadByUrl(t)):(this.trigger(u.Player.Error,e),this.logError(e))}function g(e){var t=this,r=(this.trigger(u.Private.H5_Loading_Show),this.trigger(u.Private.Play_Btn_Hide),this._options),n=new v(t,e);return t._rts.subscribe(r.source,i({retryTimes:r.rtsFallback?1:void 0,mediaTimeout:r.rtsLoadDataTimeout},r.rtsOption||{})).then((function(e){return n.preProcess(),t.tag.srcObject=null,e.play(t.tag),p.IS_IOS&&Number(p.IOS_VERSION)<=14&&t.one(d.Player.TimeUpdate,(function(){setTimeout((function(){t.tag.pause(),t.tag.play()}),200)})),!0})).catch((function(e){return t.traceLog(f,"subError::"+JSON.stringify(e)),!1}))}t.exports.inject=function(e,t,r,i,p,h){function v(){this._disposed||(this._disposed=!0,this._superPt&&this._superPt.dispose.call(this),this._destroyRts())}e._Type=t,e._superType=r,e._superPt=r.prototype,e._disposed=!1,t.prototype._checkRtsReady=function(){if(null==this._rts)throw new Error("please invoke this method after ready event")},e._isRts=!0,e._rts=null,e._isLoadedRts=!1,e.bind_rtsErrorEventHandler=null,e.bind_rtsReconnectEventHandler=null,t.prototype.play=function(e){if(this.traceLog(f,"play::"+e),e&&this.trigger(u.Private.ManualPlay),this._checkRtsReady(),this._isManualPlay=e||!1,this.paused())return this.trigger(u.Private.Cover_Hide),this.trigger(u.Private.Play_Btn_Hide),g.call(this),this},t.prototype.seek=function(e){},t.prototype.setSpeed=function(e){},t.prototype.stop=function(){return this._rts&&this._rts.unsubscribe(),this},Object.defineProperty(t.prototype,"dispose",{enumerable:!0,configurable:!0,get:function(){return v},set:function(){return v}}),t.prototype._destroyRts=function(){this._rts&&(this.stop(),this._rts.off("onError",this.bind_rtsErrorEventHandler),this._rts.off("reconnect",this.bind_rtsReconnectEventHandler)),this._rts=null},t.prototype.initPlay=function(e){var t,r=this;function n(e,t){var r;e._disposed||(r=!e._rts,e._destroyRts(),e._rts=new AliRTS.createClient({customReporter:function(t){if(126===Number(t.msgid)){var r={};try{r=JSON.parse(t.args)}catch(t){r={}}r.tcid&&e._rts&&(e._rts.traceid=r.tcid,e.traceLog(f,"tcid::"+r.tcid),e.trigger(u.Player.RtsTraceId,{traceId:r.tcid,source:e._options.source}))}}}),e._checkRtsSupport((function(n){(function(e){var t=this._rtsErrorEventHandler.bind(this);this.bind_rtsErrorEventHandler=t,e.on("onError",t),t=this._rtsReconnectEventHandler.bind(this);this.bind_rtsReconnectEventHandler=t,e.on("reconnect",t)}).call(e,e._rts),e._options.autoplay?g.call(e).then((function(r){r&&e._initPlayBehavior(t)})):e._initPlayBehavior(t),r&&e._executeReadyCallback()}),(function(t){console.log("[RTS isSupport error]",t);var r=null,n=null;switch(Number(t.errorCode)){case 10110:r=c.ErrorCode.RtsNotSupportWebRtc,n=l.get("Rts_Err_Not_Support_Webrtc");break;case 10111:r=c.ErrorCode.RtsBrowserNotSupport,n=l.get("Rts_Err_Browser_Not_Support");break;case 10112:r=c.ErrorCode.RtsBrowserVersionTooLow,n=l.get("Rts_Err_Browser_Version_Too_Low");break;case 10113:r=c.ErrorCode.RtsNotSupportH264,n=l.get("Rts_Err_Not_Support_H264");break;case 10114:r=c.ErrorCode.RtsCreateOfferError,n=l.get("Rts_Err_Create_Offer_Error")}return y.call(e,{error_code:r,error_msg:n}),!1})))}this._isLoadedRts?n(this,e):(this.trigger(u.Private.H5_Loading_Show),t=performance.now(),function(e,t,r){var n="",i=this._options,o=(n="https://g.alicdn.com/apsara-media-box/imp-web-rts-sdk/"+(i.rtsVersion||s.rtsVersion)+"/aliyun-rts-sdk.js",i.assetPrefix&&(n=i.assetPrefix+"/rts/aliyun-rts-sdk.js"),i.rtsSdkUrl&&(n=i.rtsSdkUrl),this);a.loadJS(n,(function(){e.apply(o)}),(function(){r&&r()}))}.call(r,(function(){this.traceLog(f,"got js#"+parseInt(performance.now()-t)),this._isLoadedRts=!0,n(this,e)}),this._options.debug,(function(){var e={error_code:c.ErrorCode.ModuleLoadError,error_msg:"rts module load error."};r.trigger(u.Player.Error,e)})))},t.prototype.getStats=function(){return this._rts&&this._rts.getTransportStats?o.all([this._rts.getTransportStats(),this._rts.getRemoteVideoStats(),this._rts.getRemoteAudioStats()]).then((function(e){var t=e[0],r=e[1];e=e[2];return{rtt:t.rtt,bytesReceived:t.bytesReceived,framesDecoded:r.framesDecoded,packetsLost:(r.packetsLost||0)+(e.packetsLost||0),packetsReceived:(r.packetsReceived||0)+(e.packetsReceived||0),timestamp:t.timestamp||Date.now()}})).catch((function(e){return console.log("ERR in RTS getstats: ",e),{}})):o.resolve()},t.prototype._checkRtsSupport=function(e,t){this._options.skipRtsSupportCheck?e():this._rts.isSupport({isReceiveVideo:!0}).then(e).catch(t)},t.prototype._rtsErrorEventHandler=function(e){console.log("RTS Error:",e),e.extraInfo;var t=((e,t)=>{if(null==e)return{};var r,n={};for(r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n})(e,n),r=(this.traceLog(f,"rtsError::"+JSON.stringify(t)),null),i=null,o=null;switch(Number(e.errorCode)){case 10201:return;case 10101:r=c.ErrorCode.RtsSignalError,i=l.get("Rts_Err_Http_Signal_Error");break;case 10114:r=c.ErrorCode.RtsCreateOfferError,i=l.get("Rts_Err_Create_Offer_Error");break;case 10202:r=c.ErrorCode.RtsPlayUrlError,i=l.get("Rts_Err_Play_Url_Error");break;case 10203:r=c.ErrorCode.RtsSubscribeNonthing,i=l.get("Rts_Err_Subscribe_Nonthing");break;case 10205:var a=null==(a=e.extraInfo)?void 0:a.response;if(403===(null==a?void 0:a.status)){var s=a.headers["x-tengine-error"];if(s&&-1<c.RegionBlockMessages.indexOf(s)){r=c.ErrorCode.RegionBlock,i=l.get("Error_Region_Block_Text"),o=l.get("Tip_Err_Blocked");break}r=c.ErrorCode.AuthKeyExpired,i=l.get("Error_AuthKey_Text")}else o=404===(null==a?void 0:a.status)?(r=c.ErrorCode.NotFoundSourceURL,i=l.get("Error_Not_Found"),l.get("Tip_Err_Not_found")):(r=c.ErrorCode.RtsHttpRequestFaild,i=l.get("Rts_Err_Http_Request_Failed"),l.get("Tip_Err_Rts_Http_Failed"));break;case 10206:r=c.ErrorCode.RtsHttpAnswerFaild,i=l.get("Rts_Err_Http_Answer_Failed");break;case 10207:r=c.ErrorCode.RtsPlayFailedError;try{var p,d=null==(p=e.message.match(/after (\d+) ms/))?void 0:p[1]}catch(e){}i=l.get("Rts_Err_Play_Failed")+", "+(d?d*e.extraInfo.retryTimes/1e3+l.get("Rts_Err_No_Data_For"):e.message);break;case 12e3:r=c.ErrorCode.RtsPeerConnectionUnknown,i=l.get("Rts_Err_PeerConnection_Unknown")}t={error_code:r,error_msg:i,diagnosis_info:o,tcid:this._rts.traceid},function(e){var t=this;t.pause(),setTimeout((function(){t.trigger(u.Private.Play_Btn_Hide)})),t.checkOnline()&&y.call(this,e)}.call(this,t)},t.prototype._rtsReconnectEventHandler=function(e){var t=this;this.traceLog(f,"rts auto reconnect::"+e.retryTimes+"#"+JSON.stringify(e.reason)),this.waiting=!0,this._TimeUpdateStamp=0,this.trigger(u.Private.H5_Loading_Show),this.trigger(u.Private.Play_Btn_Hide),this._options.autoplay&&this.one(d.Player.AutoPlayPrevented,(function(){t.trigger(u.Private.Play_Btn_Hide),t.trigger(u.Private.H5_Loading_Show)})),1===e.retryTimes&&this.trigger(u.Player.OnM3u8Retry),this.trigger(u.Private.Retry,{type:"rts",source:this._options.source})}};var v=(()=>{function e(e,t){(this.isRetry=t)&&(this.isApple=p.IS_IOS||p.IS_SAFARI,this.player=e)}return e.prototype.preProcess=function(){var e,t,r;this.isRetry&&this.isApple&&(e=this.player.getVolume(),t=this.player.muted(),e)&&!t&&((r=this.player.tag).volume=0,this.player.one("canplay",(function(){r.volume=e})))},e})()},{"../../config":15,"../../lang/index":26,"../../lib/constants":31,"../../lib/io":43,"../../lib/playerutil":48,"../../lib/ua":51,"../base/event/eventtype":71,"es6-promise":9}],111:[function(e,t,r){var n=e("../base/player"),i=e("./rtsinjector"),o=n.extend({init:function(e,t){t.isLive&&(t._native=!1,i.inject(this,o,n,t),n.call(this,e,t))}});t.exports=o},{"../base/player":94,"./rtsinjector":110}],112:[function(e,t,r){var n=e("../../lib/constants");e=e("../../lib/oo").extend({init:function(e){this.player=e,this.tickhandle=null}});e.prototype.tick=function(e,t){var r=this;this.tickhandle=setTimeout((function(){r.player&&r.player.trigger(n.AuthKeyExpiredEvent),t&&t()}),1e3*e)},e.prototype.clearTick=function(e){this.tickhandle&&clearTimeout(this.tickhandle)},t.exports=e},{"../../lib/constants":31,"../../lib/oo":46}],113:[function(e,t,r){function n(e,t,r){var n=s.randomUUID(),o="https://mts."+e.domainRegion+".aliyuncs.com/?";n={AccessKeyId:e.accessId,Action:"GetLicense",MediaId:e.vid,LicenseUrl:o,data:e.data,SecurityToken:e.stsToken,Format:"JSON",Type:e.encryptionType,Version:"2014-06-18",SignatureMethod:"HMAC-SHA1",SignatureVersion:"1.0",SignatureNonce:n};e.header&&(n.Header=e.header),o+="Signature="+s.AliyunEncodeURI(s.makeChangeSiga(n,e.accessSecret,"POST")),e=s.makeUTF8sort(n,"=","&"),i.post(o,e,(function(e){e?(e=JSON.parse(e),t&&(e=e.License,t(e))):r&&r(c.createError("MPS获取License失败"))}),(function(e){if(r){var t={Code:"",Message:p.get("Error_MTS_Fetch_Urls_Text")};try{t=JSON.parse(e)}catch(e){}r({Code:a.ErrorCode.ServerAPIError,Message:t.Code+"|"+t.Message,sri:t.RequestId||""})}}))}var i=e("../../lib/io"),o=(e("../../lib/ua"),e("../../lib/bufferbase64")),a=e("../../lib/constants"),s=e("./signature"),c=e("./util"),l=e("../../lib/url"),u=e("../../lib/playerutil"),p=e("../../lang/index"),d=e("../base/event/eventtype");function h(e){window.console.error("The license request failed.")}function f(e){window.console.error("A decryption key error was encountered"),window.console.error("A decryption key error was encountered",e)}function y(e){window.console.log("Decryption key was added to session.")}function g(e,t,r){r.addEventListener(e,(function(){t(arguments[0])}),!1)}t.exports.requestLicenseKey=function(e){var t=e;return t._options.vid&&(t.__vid=t._options.vid),function(e,r){var i,s,c=t._options,l=t._getDRMEncryptItem();l&&(i={vid:t.__vid,accessId:c.accId,accessSecret:c.accSecret,stsToken:c.stsToken,domainRegion:c.domainRegion,authInfo:c.authInfo,encryptionType:l.encryptionType},l.encryptionType==a.EncryptionType.Widevine?i.data=o.encode(e.message):l.encryptionType==a.EncryptionType.PlayReady&&(c=o.unpackPlayReady(e.message),i.data=c.changange,c.header)&&(i.header=JSON.stringify(c.header)),console.log(i.data),e=t.__licenseKeys,s=t.__vid+l.Url,e&&e[s],n(i,(function(e){t.__licenseKeys||(t.__licenseKeys={}),10<i.data.length&&(t.__licenseKeys[s]=e),e=o.decode(e),r(e)}),(function(e){e={mediaId:t.__vid,error_code:e.Code,error_msg:e.Message},t.logError(e),t.trigger("error",e)})))}},t.exports.loadCertificate=function(e,t){var r,n,i,o=new XMLHttpRequest,c=(o.addEventListener("load",function(e,t){var r;t=t.target;if(200!==t.status){var n=a.ErrorCode.DrmLicenseRequestFailed,i=p.get("Error_Drm_License_Request_Failed");n={mediaId:this._options.vid||"",error_code:n,error_msg:t.response};player.logError(n),n.display_msg=i,player.trigger(d.Player.Error,n)}else{try{r=this._options.isLive?JSON.parse(t.response).Response.B64ServCert:JSON.parse(JSON.parse(t.response).DRMCertInfo).b64ServCert}catch(e){console.log(e)}i=s.base64DecodeUint8Array(r),n=function(e,t){var r=t.target,n=(t=t.initData,s.arrayToString(t).split("skd://")[1].split("?")[0]),i=s.stringToArray(n);if(t=((e,t,r)=>{"string"==typeof t&&(t=stringToArray(t));var n=0,i=new ArrayBuffer(e.byteLength+4+t.byteLength+4+r.byteLength),o=new DataView(i);return new Uint8Array(i,0,e.byteLength).set(e),n+=e.byteLength,o.setUint32(n,t.byteLength,!0),n+=4,(e=new Uint16Array(i,n,t.length)).set(t),n+=e.byteLength,o.setUint32(n,r.byteLength,!0),n+=4,new Uint8Array(i,n,r.byteLength).set(r),new Uint8Array(i,0,i.byteLength)})(t,i,e),r.webkitKeys||((()=>{if(!WebKitMediaKeys.isTypeSupported("com.apple.fps.1_0","video/mp4"))throw"Key System not supported";keySystem="com.apple.fps.1_0"})(),r.webkitSetMediaKeys(new WebKitMediaKeys(keySystem))),!r.webkitKeys)throw"Could not create MediaKeys";if(i=r.webkitKeys.createSession("video/mp4",t),!i)throw"Could not create key session";i.contentId=n,g("webkitkeymessage",function(e){var t=this,r=e.target,n=e.message,i=new XMLHttpRequest,o=(e=(e.sessionId,i.responseType="text",i.session=r,i.addEventListener("load",function(e){e=e.target,t=this._options.isLive?JSON.parse(e.response).Response.B64License:JSON.parse(JSON.parse(e.response).License).b64License;var t=s.base64DecodeUint8Array(t);t=s.Uint8ArrayToString(t);"<ckc>"===t.substr(0,5)&&"</ckc>"===t.substr(-6)&&(t=t.slice(5,-6)),t=s.base64DecodeUint8Array(t),e.session.update(t)}.bind(this),!1),i.addEventListener("error",h,!1),btoa("spc="+s.base64EncodeUint8Array(n)+"&assetId="+encodeURIComponent(r.contentId))),{Format:"JSON",SignatureMethod:"HMAC-SHA1",SignatureVersion:"1.0",Timestamp:s.ISODateString(new Date),SignatureNonce:s.randomUUID(),AccessKeyId:t._options.accessKeyId,SecurityToken:t._options.securityToken,CertId:t._options.certId});t._options.isLive?(o.RegionId=t._options.region,o.Action="DescribeDRMLicense",o.Version="2016-11-01",o.CdmData=e,o.Type="fairplay",o.Domain=l.parseUrl(t._options.source).hostname):(o.region=t._options.region,o.Action="GetDRMLicense",o.Version="2017-03-21",o.VideoId=t._options.vid,o.CDMData=e,o.DRMType="FairPlay");var a,c;n="Signature="+s.AliyunEncodeURI(s.makeChangeSiga(o,t._options.accessKeySecret,"POST"));for(c in r=t._options.isLive?"https://"+u.getLiveHostByRegion(t._options.region)+"/?"+n:"https://vod."+t._options.region+".aliyuncs.com/?"+n,i.open("POST",r,!0),i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o){var p;o.hasOwnProperty(c)&&(p=o[c],a=a?a+"&"+s.AliyunEncodeURI(c)+"="+s.AliyunEncodeURI(p):s.AliyunEncodeURI(c)+"="+s.AliyunEncodeURI(p))}i.send(a)}.bind(this),i),g("webkitkeyadded",y,i),g("webkitkeyerror",f,i)}.bind(this,i),this._fairPlayHandlers.onNeedKey=n,t=function(e){window.console.error("A video playback error occurred")}.bind(this),this._fairPlayHandlers.onError=t,this.tag.addEventListener("webkitneedkey",n,!1),this.tag.addEventListener("error",t,!1),this.tag.src=this._options.source}e&&e()}.bind(e,t),!1),o.addEventListener("error",function(e){window.console.error("Failed to retrieve the server certificate.")}.bind(e),!1),{Format:"JSON",SignatureMethod:"HMAC-SHA1",SignatureVersion:"1.0",Timestamp:s.ISODateString(new Date),SignatureNonce:s.randomUUID(),AccessKeyId:e._options.accessKeyId,SecurityToken:e._options.securityToken,CertId:e._options.certId});e._options.isLive?(c.RegionId=e._options.region,c.Action="DescribeDRMCertificate",c.Version="2016-11-01"):(c.region=e._options.region,c.Action="GetDRMCertInfo",c.Version="2017-03-21",c.VideoId=e._options.vid),t="Signature="+s.AliyunEncodeURI(s.makeChangeSiga(c,e._options.accessKeySecret,"POST")),e=e._options.isLive?"https://"+u.getLiveHostByRegion(e._options.region)+"/?"+t:"https://vod."+e._options.region+".aliyuncs.com/?"+t;for(r in o.open("POST",e,!0),o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),c)c.hasOwnProperty(r)&&(n=c[r],i=i?i+"&"+s.AliyunEncodeURI(r)+"="+s.AliyunEncodeURI(n):s.AliyunEncodeURI(r)+"="+s.AliyunEncodeURI(n),console.log(n));o.send(i)},t.exports.getRequestUrl=function(e,t){e={AccessKeyId:t._options.accessKeyId,Format:"JSON",Version:"2016-11-01",SignatureMethod:"HMAC-SHA1",SignatureVersion:"1.0",Timestamp:s.ISODateString(new Date),SignatureNonce:s.randomUUID(),SecurityToken:t._options.securityToken,RegionId:t._options.region,Action:"DescribeDRMLicense",Type:"widevine",CdmData:e,Domain:l.parseUrl(t._options.source).hostname};var r=(t._options.widevineCertId&&(e.CertId=t._options.widevineCertId),"Signature="+s.AliyunEncodeURI(s.makeChangeSiga(e,t._options.accessKeySecret,"POST")));return{url:"https://"+u.getLiveHostByRegion(t._options.region)+"/?"+r,data:s.makeUTF8sort(e,"=","&"),jsonData:s.makeUTF8sort(e,"=","&","json")}},t.exports.postData=function(e,t){var r=s.randomUUID();r={AccessKeyId:t._options.accessKeyId,VideoId:t._options.vid,Format:"JSON",Version:"2017-03-21",SignatureMethod:"HMAC-SHA1",SignatureVersion:"1.0",SignatureNonce:r,SecurityToken:t._options.securityToken,region:t._options.region,Action:"GetDRMLicense",DRMType:"Widevine",CDMData:e},t._options.widevineCertId&&(r.CertId=t._options.widevineCertId),e="Signature="+s.AliyunEncodeURI(s.makeChangeSiga(r,t._options.accessKeySecret,"POST"));return{url:"https://vod."+t._options.region+".aliyuncs.com/?"+e,data:s.makeUTF8sort(r,"=","&"),jsonData:s.makeUTF8sort(r,"=","&","json")}},t.exports.destroyFairPlay=function(){this._fairPlayHandlers.onNeedKey&&this.tag.removeEventListener("webkitneedkey",this._fairPlayHandlers.onNeedKey),this._fairPlayHandlers.onError&&this.tag.removeEventListener("error",this._fairPlayHandlers.onError),this._fairPlayHandlers={}}},{"../../lang/index":26,"../../lib/bufferbase64":28,"../../lib/constants":31,"../../lib/io":43,"../../lib/playerutil":48,"../../lib/ua":51,"../../lib/url":52,"../base/event/eventtype":71,"./signature":119,"./util":121}],114:[function(e,t,r){var n=e("../../lib/io"),i=e("../../lib/constants"),o=e("../../lib/data"),a=e("./util");t.exports.getDataByAuthInfo=function(e,t,r,s){e={playAuth:e.playAuth,requestId:e.requestId},n.get("https://api.h5video.shop/api/page/getMediaPlayInfo"+(e=>(e.requestId=o.guid(),Object.keys(e).reduce((function(t,r){return t+(t?"&":"?")+r+"="+encodeURIComponent(e[r])}),"")))(e),(function(e){if(e)if(e=JSON.parse(e),200!==e.httpStatusCode)s&&s({Code:i.ErrorCode.ServerAPIError,Message:e.httpStatusCode+"|"+e.code,sri:e.requestId});else{for(var n=e.data.PlayInfoList,o=[],c=n.length-1;0<=c;--c)"AUTO"===n[c].Definition&&(o=[n.splice(c,1)[0]]);var l,u=null;(u=(u=0===o.length?a.objectPlayerMessageSort(n,t):a.objectPlayerMessageSort(o)).map((function(e){return"m3u8"===e.format&&(e.Url=e.Url+"&_ext=.m3u8"),e})))&&r&&(l=e.data.VideoBase||{},r({videoId:l.VideoId,userId:l.UserId,requestId:e.requestId,urls:u,encryptUrlArr:[],thumbnailUrl:"",coverUrl:l.CoverURL,playInfoAry:n,textTracks:e.data.SubtitlesList}))}else s&&s(a.createError("轻SaaS服务获取数据失败"))}),(function(e){e&&"string"==typeof e&&-1<e.indexOf("Invalid CORS request")?s&&s({Code:i.ErrorCode.ServerAPIError,Message:e}):s&&s(a.createError("轻SaaS服务获取数据失败"))}))}},{"../../lib/constants":31,"../../lib/data":33,"../../lib/io":43,"./util":121}],115:[function(e,t,r){var n=e("./saasplayer"),i=e("./light"),o=e("../base/event/eventtype");e=n.extend({init:function(e,t){n.call(this,e,t),this.service=i,this.loadByLightSaas()}});e.prototype.loadByLightSaas=function(e){var t=this._options,r={playAuth:t.mediaAuth,defaultDefinition:t.defaultDefinition};this.log("STARTFETCHDATA",{it:"lightSaasPlayAuth",pa:{playAuth:t.mediaAuth}}),this.loadData(r,e)},e.prototype.replayByMediaAuth=function(e){this.trigger(o.Private.Error_Hide),this.tag&&(this.tag.pause(),this.tag.removeAttribute("src"),this.tag.load()),this.setTextTracks([]),this.trigger(o.Private.UserTrackReset),this._options.source="",this._options.mediaAuth=e,this._isError=!1,this._options.cover="",this._vodRetryCount=0,this._clearTimeout(),this.loadByLightSaas(!0)},t.exports=e},{"../base/event/eventtype":71,"./light":114,"./saasplayer":118}],116:[function(e,t,r){var n=e("../../lib/io"),i=e("../../lib/constants"),o=e("./signature"),a=e("./util"),s=e("../../lang/index"),c=e("../../lib/ua"),l=function(e,t){for(var r="",n=(e.sort((function(e,r){return e=parseInt(e.bitrate),r=parseInt(r.bitrate),"desc"==t?r<e?-1:e<r?1:void 0:e<r?-1:r<e?1:void 0})),e.length),o=0;o<n;o++){var a=e[o],s=i.QualityLevels[a.definition],c="";c=void 0===s?a.bitrate:r==s?s+a.bitrate:s;a.desc=c,r=s}},u=function(e,t){for(var r="",n=(e.sort((function(e,r){return e=parseInt(e.width),r=parseInt(r.width),"desc"==t?r<e?-1:e<r?1:void 0:e<r?-1:r<e?1:void 0})),e.length),o=0;o<n;o++){var a=e[o],s=i.QualityLevels[a.definition],c="";c=void 0===s?"":r==s?s+a.height:s;a.desc=c,r=s}};t.exports.getDataByAuthInfo=function(e,t,r,p){o.returnUTCDate(),o.randomUUID();var d=o.randomUUID();d={AccessKeyId:e.accessId,Action:"PlayInfo",MediaId:e.vid,Formats:e.format,AuthInfo:e.authInfo,AuthTimeout:e.authTimeout||i.AuthKeyExpired,IncludeSnapshotList:e.includeSnapshotList,Rand:e.rand,SecurityToken:e.stsToken,Format:"JSON",Version:"2014-06-18",SignatureMethod:"HMAC-SHA1",SignatureVersion:"1.0",Terminal:c.IS_CHROME?"Chrome":c.IS_EDGE?"Edge":c.IS_IE11?"IE":c.IS_SAFARI?"Safari":c.IS_FIREFOX?"Firefox":"",SignatureNonce:d},e.hlsUriToken&&(e.MtsHlsUriToken=e.hlsUriToken),e.playConfig&&(d.PlayConfig=JSON.stringify(e.playConfig)),d=o.makeUTF8sort(d,"=","&")+"&Signature="+o.AliyunEncodeURI(o.makeChangeSiga(d,e.accessSecret)),e="https://mts."+e.domainRegion+".aliyuncs.com/?"+d;n.get(e,(function(e){var n,i,o;e?(n=(e=JSON.parse(e)).PlayInfoList.PlayInfo,i="",(o=e.SnapshotList?e.SnapshotList.Snapshot:[])&&0<o.length&&(i=o[0].Url),o=((e,t)=>{for(var r=[],n=[],i=[],o=[],a=e.length-1;0<=a;a--){var s=e[a];("mp4"==s.format?n:"mp3"==s.format?i:"m3u8"==s.format?r:o).push(s)}return 0<i.length?(l(i,t),i):0<n.length?(u(n,t),n):0<r.length?(u(r,t),r):(u(o,t),o)})(n,t),r&&r({requestId:e.RequestId,urls:o,thumbnailUrl:i})):p&&p(a.createError("MPS获取取数失败"))}),(function(e){if(p){var t={Code:"",Message:s.get("Error_MTS_Fetch_Urls_Text")};try{t=JSON.parse(e)}catch(e){}p({Code:i.ErrorCode.ServerAPIError,Message:t.Code+"|"+t.Message,sri:t.RequestId||""})}}))}},{"../../lang/index":26,"../../lib/constants":31,"../../lib/io":43,"../../lib/ua":51,"./signature":119,"./util":121}],117:[function(e,t,r){var n=e("./saasplayer"),i=(e("../../lib/constants"),e("./mts"));e=n.extend({init:function(e,t){n.call(this,e,t),this.service=i,this.loadByMts()}});e.prototype.loadByMts=function(e){var t={vid:this._options.vid,accessId:this._options.accId,accessSecret:this._options.accSecret,stsToken:this._options.stsToken,domainRegion:this._options.domainRegion,authInfo:this._options.authInfo,format:this._options.format,includeSnapshotList:this._options.includeSnapshotList||!1,defaultDefinition:this._options.defaultDefinition,authTimeout:this._options.authTimeout,hlsUriToken:this._options.hlsUriToken,playConfig:this._options.playConfig};this.loadData(t,e)},e.prototype.replayByVidAndAuthInfo=function(e,t,r,n,i,o){this.trigger("error_hide"),this._options.source="",this._isError=!1,this._options.cover="",this._vodRetryCount=0,this._clearTimeout(),this.reloadNewVideoInfo(e,t,r,n,i,o)},e.prototype.reloadNewVideoInfo=function(e,t,r,n,i,o){if(this.trigger("error_hide"),this._options.source="",e&&(this._options.vid=e,this._options.accId=t,this._options.accessSecret=r,this._options.stsToken=n,this._options.domainRegion=o,this._options.authInfo=i),!(this._options.vid&&this._options.accId&&this._options.accessSecret&&this._options.stsToken&&this._options.domainRegion&&this._options.authInfo))throw new Error("需要提供vid、accId、accessSecret、stsToken、domainRegion和authInfo参数");this.log("STARTFETCHDATA",{it:"mps",pa:{vid:e}}),this.loadByMts(!0)},t.exports=e},{"../../lib/constants":31,"./mts":116,"./saasplayer":118}],118:[function(e,t,r){var n=e("../base/player"),i=e("../audio/audioplayer"),o=(e("../../lib/event"),e("../../lib/io")),a=e("../../lib/constants"),s=e("./signature"),c=e("./authkeyexpiredhandle"),l=e("../hls/hlsinjector"),u=e("../flv/flvinjector"),p=e("../drm/drminjector"),d=e("../sw/swinjector"),h=(e("../../lib/cookie"),e("../../lang/index")),f=e("../../lib/ua"),y=e("../../config"),g=e("../../lib/playerutil"),v=e("../base/event/eventtype"),_=e("../../protected/anti-injector-protected"),m=n.extend({init:function(e,t){f.IS_PC&&_(t,this),this._authKeyExpiredHandle=new c(this),n.prototype._videoCreateEl||(n.prototype._videoCreateEl=n.prototype.createEl),"mp3"==t.format?(t.height="auto",t.mediaType="audio",n.prototype.createEl=i.prototype.createEl,i.call(this,e,t),m.prototype.play=n.prototype.play,m.prototype.pause=n.prototype.pause,m.prototype.initPlay=n.prototype.initPlay,m.prototype.replay=n.prototype.replay,m.prototype.stop=n.prototype.stop,m.prototype.seek=n.prototype.seek):(n.prototype.createEl=n.prototype._videoCreateEl,t._native=!1,n.call(this,e,t))}});function b(){var e,t=!1;return 1!==Number(this._options.encryptType)?(e={error_code:a.ErrorCode.InvalidParameter,error_msg:h.get("Error_Not_Support_encrypt_Text")},this.logError(e),this.trigger("error",e),!0):t}function S(){var e=g.checkSecuritSupport();if(e)return this._mtsError_message(this,{Code:a.ErrorCode.EncrptyVideoNotSupport,Message:e,display_msg:e},""),!0}m.prototype.loadData=function(e,t){var r,n,i;1!=this._options.encryptType?this._loadData(e,t):(r="aliplayer-vod-min.js",n="",n=y.domain?"https://"+y.domain+y.path+y.h5Version+"/hls/"+r:"/build/hls/"+r,this.trigger(v.Private.Timeline,{name:"mod_rand_s",ts:performance.now()}),i=this,o.loadJS(n,(function(){i.trigger(v.Private.Timeline,{name:"mod_rand_f",ts:performance.now()}),i._loadData(e,t)})))},m.prototype._loadData=function(e,t){var r,i=(new Date).getTime(),o=this;this._urls=[],this._currentPlayIndex=0,this._retrySwitchUrlCount=0,this._authKeyExpiredHandle.clearTick(),""!=e.format&&"m3u8"!=e.format||1!=this._options.encryptType?e.rand=s.randomUUID():(r=_rtsneg(3===o._vdnct6f?e.vid:void 0),e.rand=_dnaRekam(r,o._vdnct6f)),this._options.thumbnailUrl&&(e.thumbnailUrl=this._options.thumbnailUrl),this.trigger(v.Private.H5_Loading_Show),this.service.getDataByAuthInfo.call(this,e,this._options.qualitySort,(function(s){if(o.trigger(v.Private.PlayInfoLoaded,s),s.userId&&(o._options.from=s.userId),s.videoId&&o._monitor&&o._monitor.updateLightSaasVideoId(s.videoId),s.textTracks&&s.textTracks.length&&(c=g.unqiueTextTracks(s.textTracks),o.trigger(v.Private.TextTrackFounded,{from:"saas",textTracks:c})),s.urls&&0==s.urls.length)o._mtsError_message(o,{Code:a.ErrorCode.URLsIsEmpty,Message:h.get("Error_Vod_URL_Is_Empty_Text")+(e.format?"(format:"+e.format+")":"")},"");else{o.log("COMPLETEFETCHDATA",{cost:(new Date).getTime()-i,mi:JSON.stringify((e=>{for(var t=[],r=0;r<e.length;r++)t.push({width:e[r].width,height:e[r].height,definition:e[r].definition,format:e[r].format,encryptionType:e[r].encryptionType,duration:e[r].duration});return t})(s.urls))}),o._urls=s.urls,o._currentPlayIndex=g.findSelectedStreamLevel(o._urls,e.defaultDefinition);var c=(y=s.urls[o._currentPlayIndex]).Url;if(o._vodDuration=y.duration||0,o._options.source=c,o.encType="",o.trigger(v.Private.PREPARE,y.definition),o.UI.cover&&s.coverUrl&&!o._options.cover&&o.setCover(s.coverUrl),g.isHls(c))if(s&&s.playInfoAry&&0<s.playInfoAry.length&&"Widevine-FairPlay"==s.playInfoAry[0].EncryptType)p.inject(o,m,n.prototype,o._options);else{if(s.encryptUrlArr&&0<s.encryptUrlArr.length){for(var y,_=[],T=!1,w=0;w<s.encryptUrlArr.length;++w)if((y=s.encryptUrlArr[w]).encryptionType===a.EncryptionType.Private){if(b.call(o))return;if(T||S.call(o))return void(T=!0);var E=_yekced(r,y.rand,y.plaintext);_.push({url:y.Url,secData:E})}}else if(_="",y.encryptionType==a.EncryptionType.Private){if(b.call(o))return;if(S.call(o))return;o.encType=y.encryptionType,_=_yekced(r,y.rand,y.plaintext)}var x=f.IS_IOS&&parseFloat(f.IOS_FULL_VERSION)<17.1;(_&&(o._options.useSW||x)?d:(o._hls&&(o._hls.destroy(),o._hls=null),l)).inject(o,m,n,o._options,_)}else g.isFlv(c)?u.inject(o,m,n,o._options):g.isDash(c)?(console.log("isDash"),p.inject(o,m,n,o._options)):o._player._executeReadyCallback();o._authKeyExpiredHandle.tick(a.AuthKeyRefreshExpired),o.trigger(v.Private.SourceLoaded,y),o.initPlay(t),o.trigger(v.Private.ChangeURL,{from:"saas"}),s.thumbnailUrl&&o._thumbnailService.get(s.thumbnailUrl),x=o._player._isFlv,c=-1<o._player.getOptions().source.indexOf("mp4"),1==o._player.encType||x||c||(f.IS_IOS||f.IS_MAC_SAFARI||f.IS_X5||f.IS_EDGE)&&(o._player._executeReadyCallback(),o._urls.length)&&o.trigger(v.Private.SourceLoaded,y)}}),(function(e){var t;-1<(null==(t=e.Message)?void 0:t.indexOf('The specified parameter "Rand" is not valid'))&&b.call(o)||o._mtsError_message(o,e,"")}))},m.prototype._changeStream=function(e,t){this._urls.length>e&&(this._loadByUrlInner(this._urls[e].Url,this.getCurrentTime(),!0),this._currentPlayIndex=e,this.trigger(v.Private.QualityChange,t||h.get("Quality_Change_Fail_Switch_Text")))},m.prototype._getLowerQualityLevel=function(){if(0!=this._urls.length&&-1!=this._currentPlayIndex)if("asc"==this.options().qualitySort){if(0<this._currentPlayIndex)return{item:this._urls[this._currentPlayIndex-1],index:this._currentPlayIndex-1}}else if(this._currentPlayIndex<this._urls.length-1)return{item:this._urls[this._currentPlayIndex+1],index:this._currentPlayIndex+1};return""},m.prototype._mtsError_message=function(e,t,r){e._serverRequestId=t.sri,e.trigger(v.Private.H5_Loading_Hide),t.Code=t.Code||t.code,t.Message=t.Message||t.message;var n=t.Code||"OTHER_ERR_CODE",i=t.Message||"OTHER_ERR_MSG",o=(a.ErrorCode.ServerAPIError,t.display_msg||""),s=(-1<i.indexOf("InvalidParameter.Rand")||-1<i.indexOf('"Rand" is not valid.')?(a.ErrorCode.EncrptyVideoNotSupport,o=h.get("Error_Encrypt_Fetch_Failed_Text")):-1<i.indexOf("SecurityToken.Expired")?(a.ErrorCode.AuthKeyExpired,o=h.get("Error_Playauth_Expired_Text")):-1<i.indexOf("InvalidVideo.NoneStream")?(a.ErrorCode.URLsIsEmpty,o=h.get("Error_Fetch_NotStream")+"("+e._options.format+"|"+e._options.definition+")"):-1<i.indexOf("DataNotFound")&&(a.ErrorCode.MediaNotFound,o=h.get("Error_Fetch_Media_Not_Found")),e._options.vid||"");e._options.from,s={mediaId:s,mediaAuth:e._options.mediaAuth||"",error_code:n,error_msg:i};t.sri&&(s.sri=t.sri),e.logError(s),s.display_msg=o&&o===i?o:(o||h.get("Error_Vod_Fetch_Urls_Text"))+"</br>"+i,e.trigger("error",s),console.log("PrismPlayer Error: "+r+"! error_msg :"+i+";")},t.exports=m},{"../../config":15,"../../lang/index":26,"../../lib/constants":31,"../../lib/cookie":32,"../../lib/event":36,"../../lib/io":43,"../../lib/playerutil":48,"../../lib/ua":51,"../../protected/anti-injector-protected":136,"../audio/audioplayer":69,"../base/event/eventtype":71,"../base/player":94,"../drm/drminjector":102,"../flv/flvinjector":106,"../hls/hlsinjector":108,"../sw/swinjector":134,"./authkeyexpiredhandle":112,"./signature":119}],119:[function(e,t,r){var n=e("crypto-js/hmac-sha1"),o=e("crypto-js/enc-base64"),a=e("crypto-js/enc-utf8");t.exports.randomUUID=function(){for(var e=[],t="0123456789abcdef",r=0;r<36;r++)e[r]=t.substr(Math.floor(16*Math.random()),1);return e[14]="4",e[19]=t.substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-",e.join("")},t.exports.returnUTCDate=function(){var e=new Date,t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDate(),i=e.getUTCHours(),o=e.getUTCMinutes(),a=e.getUTCSeconds();e=e.getUTCMilliseconds();return Date.UTC(t,r,n,i,o,a,e)},t.exports.AliyunEncodeURI=function(e){return e=encodeURIComponent(e),(e=(e=e.replace("+","%2B")).replace("*","%2A")).replace("%7E","~")},t.exports.makesort=function(e,t,r){if(!e)throw new Error("PrismPlayer Error: vid should not be null!");var n=[];for(s in e)n.push(s);for(var i=n.sort(),o="",a=i.length,s=0;s<a;s++)""==o?o=i[s]+t+e[i[s]]:o+=r+i[s]+t+e[i[s]];return o},t.exports.makeUTF8sort=function(e,r,n){if(!e)throw new Error("PrismPlayer Error: vid should not be null!");var i=[];for(c in e)i.push(c);for(var o=i.sort(),a="",s=o.length,c=0;c<s;c++){var l=t.exports.AliyunEncodeURI(o[c]),u=t.exports.AliyunEncodeURI(e[o[c]]);""==a?a=l+r+u:a+=n+l+r+u}return a},t.exports.makeChangeSiga=function(e,r,i){if(e)return o.stringify(n((i=i||"GET")+"&"+t.exports.AliyunEncodeURI("/")+"&"+t.exports.AliyunEncodeURI(t.exports.makeUTF8sort(e,"=","&")),r+"&"));throw new Error("PrismPlayer Error: vid should not be null!")},t.exports.ISODateString=function(e){function t(e){return e<10?"0"+e:e}return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"Z"},t.exports.encPlayAuth=function(e){if(e=a.stringify(o.parse(e)))return JSON.parse(e);throw new Error("playuth参数解析为空")},t.exports.encRsa=function(){},t.exports.stringToArray=function(e){for(var t=new ArrayBuffer(2*e.length),r=new Uint16Array(t),n=0,i=e.length;n<i;n++)r[n]=e.charCodeAt(n);return r},t.exports.Uint8ArrayToString=function(e){for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},t.exports.arrayToString=function(e){return e=new Uint16Array(e.buffer),String.fromCharCode.apply(null,e)},t.exports.base64DecodeUint8Array=function(e){var t=window.atob(e),r=t.length,n=new Uint8Array(new ArrayBuffer(r));for(i=0;i<r;i++)n[i]=t.charCodeAt(i);return n},t.exports.base64EncodeUint8Array=function(e){for(var t,r,n,i,o,a,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c="",l=0;l<e.length;)n=(t=e[l++])>>2,i=(3&t)<<4|(t=l<e.length?e[l++]:Number.NaN)>>4,o=(15&t)<<2|(r=l<e.length?e[l++]:Number.NaN)>>6,a=63&r,isNaN(t)?o=a=64:isNaN(r)&&(a=64),c+=s.charAt(n)+s.charAt(i)+s.charAt(o)+s.charAt(a);return c}},{"crypto-js/enc-base64":4,"crypto-js/enc-utf8":5,"crypto-js/hmac-sha1":6}],120:[function(e,t,r){var n=e("../../lib/io"),i=e("../../lib/constants"),o=e("./signature"),a=e("./util"),s=e("../../lang/index");t.exports.getPlayAuth=function(e,t,r,c){o.randomUUID();var l=o.randomUUID();l={AccessKeyId:e.accessKeyId,Action:"GetVideoPlayAuth",VideoId:e.vid,AuthTimeout:i.AuthInfoExpired,SecurityToken:e.securityToken,Format:"JSON",Version:"2017-03-21",SignatureMethod:"HMAC-SHA1",SignatureVersion:"1.0",SignatureNonce:l},l=o.makeUTF8sort(l,"=","&")+"&Signature="+o.AliyunEncodeURI(o.makeChangeSiga(l,e.accessKeySecret)),e="https://vod."+e.region+".aliyuncs.com/?"+l;n.get(e,(function(e){e?(e=JSON.parse(e),t&&t(e.PlayAuth)):r&&r(a.createError("获取视频播放凭证失败"))}),(function(e){if(r){var t={Code:"",Message:s.get("Fetch_Playauth_Error")};try{(t=JSON.parse(e)).Code}catch(e){}r({Code:i.ErrorCode.ServerAPIError,Message:t.Code+"|"+t.Message,sri:t.RequestId,display_msg:s.get("Fetch_Playauth_Error",c)})}}))}},{"../../lang/index":26,"../../lib/constants":31,"../../lib/io":43,"./signature":119,"./util":121}],121:[function(e,t,r){var n=e("../../lib/constants");t.exports.createError=function(e,t){return{requestId:"",code:t||"",message:e}},t.exports.getItem=function(e){var t={};return t.width=e.Width,t.height=e.Height,t.definition=e.Definition,t.Url=e.PlayURL,t.format=e.Format,t.desc=n.QualityLevels[t.definition],t.encryptionType=n.VodEncryptionType[e.EncryptType],t.plaintext=e.Plaintext,t.rand=e.Rand,t.encrypt=e.Encrypt,t.duration=e.Duration,t.bitrate=e.Bitrate,t},t.exports.objectPlayerMessageSort=function(e,r){for(var n=[],i=[],o=[],a=[],s=e.length-1;0<=s;s--){var c=e[s];c=t.exports.getItem(c);("mp4"==c.format?i:"mp3"==c.format?o:"m3u8"==c.format?n:a).push(c)}var l=[];l=0<o.length?o:0<i.length?i:0<n.length?n:a;return"asc"==r&&l.reverse(),l}},{"../../lib/constants":31}],122:[function(e,t,r){var n=e("../../lib/io"),i=e("../../lib/constants"),o=e("./signature"),a=e("./util"),s=e("../../config"),c=e("../../lang/index"),l=e("../base/event/eventtype"),u="saas/vod.js",p={MAIN:"main",BACKUP:"backup"},d=function(e){return(e||"").split("?")[0]},h={type:p.MAIN,time:0};function f(e,t,r,g){var v=this,_=function(e){var t=o.randomUUID();t={AccessKeyId:e.accessId,Action:"GetPlayInfo",VideoId:e.vid,Formats:e.format,AuthTimeout:e.authTimeout||i.AuthKeyExpired,Rand:e.rand,SecurityToken:e.stsToken,StreamType:e.mediaType,Format:"JSON",Version:"2017-03-21",SignatureMethod:"HMAC-SHA1",SignatureVersion:"1.0",SignatureNonce:t,PlayerVersion:s.h5Version,Channel:"HTML5"};return"AUTO"===e.definition?t.ResultType="Multiple":e.definition&&(t.Definition=e.definition),e.authInfo&&(t.AuthInfo=e.authInfo),e.outputType&&(t.OutputType=e.outputType),e.playConfig&&(t.PlayConfig=JSON.stringify(e.playConfig)),e.reAuthInfo&&(t.ReAuthInfo=JSON.stringify(e.reAuthInfo)),t=o.makeUTF8sort(t,"=","&")+"&Signature="+o.AliyunEncodeURI(o.makeChangeSiga(t,e.accessSecret)),"https://vod"+(this._useBackupVodDomain?"-product":"")+"."+e.domainRegion+".aliyuncs.com/?"+t}.call(this,e),m=performance.now();0===h.time&&this.trigger(l.Private.Timeline,{name:"vod_s",ts:m}),n.get.call(this,_,(function(n){y.call(v,_,{status:200}),function(e,t,r,n,i){if(this.trigger(l.Private.Timeline,{name:"vod_f",ts:performance.now()}),this.traceLog(u,"Vod request ok."+e),h={type:p.MAIN,time:0},e){e=JSON.parse(e);for(var o,s="",c=e.VideoBase.ThumbnailList,d=(c&&c.Thumbnail&&0<c.Thumbnail.length?s=c.Thumbnail[0].URL:t.thumbnailUrl&&(s=String(t.thumbnailUrl)),e.PlayInfoList.PlayInfo),f=[],y=[],g=d.length-1;0<=g;--g)"AUTO"===d[g].Definition?(this.getOptions().isVBR=!0,o=d.splice(g,1)[0],f=[o]):1===d[g].Encrypt&&y.push(d[g]);c=null,y=0===f.length?(c=a.objectPlayerMessageSort(d,r),[]):(c=a.objectPlayerMessageSort(f),a.objectPlayerMessageSort(y)),c&&n&&n({requestId:e.RequestId,urls:c,encryptUrlArr:y,thumbnailUrl:s,coverUrl:e.VideoBase.CoverURL,playInfoAry:d})}else i&&i(a.createError("点播服务获取数据失败"))}.call(v,n,e,t,r,g)}),(function(n,o,a){if(0===(b=(s=a).status)||500<=b&&b<=599&&-1===(s.responseText||"").indexOf("RequestId")){if(v.trigger(l.Private.VodRequestException,{url:d(_),status:a.status,response:a.responseText,retryType:h.type,retryTime:h.time}),5e3<performance.now()-m&&(h.type===p.MAIN?h.time=1:h.type===p.BACKUP&&(h.time=2)),h.type===p.MAIN)return h.time<1?(h.time++,void setTimeout((function(){f.call(v,e,t,r,g)}),200)):(h.type=p.BACKUP,h.time=1,void setTimeout((function(){v._useBackupVodDomain=!0,f.call(v,e,t,r,g)}),200));if(h.type===p.BACKUP){if(h.time<2)return h.time++,void setTimeout((function(){f.call(v,e,t,r,g)}),200);v&&(v._useBackupVodDomain=!1)}}else y.call(v,_,a);var s,b;(function(e,t){if(this.traceLog(u,"Vod request error::"+e),h={type:p.MAIN,time:0},t){var r={Code:"",Message:c.get("Error_Vod_Fetch_Urls_Text")};try{r=JSON.parse(e)}catch(e){}t({Code:i.ErrorCode.ServerAPIError,Message:r.Code+"|"+r.Message,sri:r.RequestId||""})}}).call(v,n,g)}),void 0,void 0,5e3)}function y(e,t){0!==h.time&&(this._useBackupVodDomain=!0,this.trigger(l.Private.VodRequestExceptionResume,{url:d(e),status:null==t?void 0:t.status,response:200!==(null==t?void 0:t.status)?null==t?void 0:t.responseText:"",retryType:h.type,retryTime:h.time}))}t.exports.getDataByAuthInfo=f},{"../../config":15,"../../lang/index":26,"../../lib/constants":31,"../../lib/io":43,"../base/event/eventtype":71,"./signature":119,"./util":121}],123:[function(e,t,r){var n=e("./saasplayer"),i=e("../../lib/constants"),o=e("./vod"),a=e("./signature"),s=(e("./authkeyexpiredhandle"),e("./ststoken"),e("../../lib/io")),c=e("../../config"),l=(e("../../lib/playerutil"),e("../base/event/eventtype"));e=n.extend({init:function(e,t){n.call(this,e,t),this.service=o,this.loadByVod()}});e.prototype.loadByVod=function(e){var t,r,n;"undefined"!=typeof _apesrap?this._loadByVod(e):("object"!=typeof globalThis&&(Object.prototype.__defineGetter__("__magic__",(function(){return this})),__magic__.globalThis=__magic__,delete Object.prototype.__magic__),t="aliplayer-vod-p-min.js",r="",r=c.domain?"https://"+c.domain+c.path+c.h5Version+"/hls/"+t:"/build/hls/"+t,this.trigger(l.Private.Timeline,{name:"mod_pa_s",ts:performance.now()}),n=this,s.loadJS(r,(function(){n.trigger(l.Private.Timeline,{name:"mod_pa_f",ts:performance.now()}),n._loadByVod(e)})))},e.prototype._loadByVod=function(e){var t="",r="",n="",o="",s="";if(this._options.accessKeyId&&this._options.accessKeySecret)t=this._options.accessKeyId,r=this._options.accessKeySecret,n=this._options.securityToken,o=this._options.region,this.log("STARTFETCHDATA",{it:"sts",pa:{vid:this._options.vid}});else{try{var c=_apesrap(this._options.playauth,this._options.vid),l=(this._vdnct6f=c.v,c.value),u=a.encPlayAuth(l);t=u.AccessKeyId,r=u.AccessKeySecret,n=u.SecurityToken,o=u.Region,s=u.AuthInfo}catch(e){return console.log("e",e),c={Code:i.ErrorCode.PlayauthDecode,Message:"playauth decoded failed.",displayMessage:"playauth解析错误"},void this._mtsError_message(this,c,l)}this._options.from=u.CustomerId||"",this.log("STARTFETCHDATA",{it:"playAuth",pa:{vid:this._options.vid}})}this._loadByVodBySTS(t,r,n,o,s,e)},e.prototype.replayByVidAndPlayAuth=function(e,t){this.trigger("error_hide"),this.setTextTracks([]),this.trigger(l.Private.UserTrackReset),this._options.source="",this._options.vid=e,this._options.playauth=t,this._isError=!1,this._options.cover="",this._vodRetryCount=0,this._posOffset=this._getSubVideoConfig().start||0,this._clearTimeout(),this.loadByVod(!0)},e.prototype.updateSourcesByVidAndPlayAuth=function(e,t){var r,n,i;"undefined"!=typeof _apesrap?this._updateSourcesByVidAndPlayAuth(e,t):(r="aliplayer-vod-p-min.js",n="",n=c.domain?"https://"+c.domain+c.path+c.h5Version+"/hls/"+r:"/build/hls/"+r,i=this,s.loadJS(n,(function(){i._updateSourcesByVidAndPlayAuth(e,t)})))},e.prototype._updateSourcesByVidAndPlayAuth=function(e,t){if(e!=this._options.vid)console.log("不能更新地址，vid和播放中的不一致");else{this._options.vid=e,this._options.playauth=t;try{var r=_apesrap(this._options.playauth,this._options.vid),n=(this._vdnct6f=r.v,r.value),o=a.encPlayAuth(n)}catch(e){return void console.log("playauth解析错误")}t={vid:e,accessId:o.AccessKeyId,accessSecret:o.AccessKeySecret,stsToken:o.SecurityToken,domainRegion:o.Region,authInfo:o.AuthInfo,playDomain:o.PlayDomain,format:this._options.format,mediaType:this._options.mediaType};var s=(this._authKeyExpiredHandle.clearTick(),this);this.service.loadData(t,this._options.qualitySort,(function(e){s._serverRequestId=e.requestId,0!=e.urls.length&&(s._urls=e.urls),s._authKeyExpiredHandle.tick(i.AuthKeyRefreshExpired)}),(function(e){console.log(e)}))}},e.prototype.reloaduserPlayInfoAndVidRequestMts=function(e,t){this.replayByVidAndPlayAuth(e,t,accessSecret)},e.prototype._loadByVodBySTS=function(e,t,r,n,i,o){e={vid:this._options.vid,accessId:e,accessSecret:t,stsToken:r,authInfo:i,domainRegion:n,format:this._options.format,mediaType:this._options.mediaType,definition:this._options.definition,defaultDefinition:this._options.defaultDefinition,authTimeout:this._options.authTimeout,outputType:this._options.outputType,playConfig:this._options.playConfig,reAuthInfo:this._options.reAuthInfo},this.loadData(e,o)},t.exports=e},{"../../config":15,"../../lib/constants":31,"../../lib/io":43,"../../lib/playerutil":48,"../base/event/eventtype":71,"./authkeyexpiredhandle":112,"./saasplayer":118,"./signature":119,"./ststoken":120,"./vod":122}],124:[function(e,t,r){function n(e){this._player=e,this._video=e.tag;var t=this;this._isCreated=!1,this._canPlayTriggered=!1,this._defaultTrack="",e.on(i.Private.ChangeURL,(function(){t._isCreated=!1,t._canPlayTriggered=!1,t._defaultTrack=""})),e.on(i.Player.CanPlay,(function(){var r;t._player._drm||t._canPlayTriggered||((r=t._getTracks())&&(t._isCreated=!0,t._player._options.isVBR||t._hls||(e.trigger(i.Player.AudioTrackReady,r),t._notifyDefaultValue(r))),t._canPlayTriggered=!0)})),e.on(i.Player.AudioTrackUpdated,(function(r){t._isCreated||(r=t._getTracks(r.paramData.audioTracks))&&(t._isCreated=!0,e.trigger(i.Player.AudioTrackReady,r),t._notifyDefaultValue(r))}))}var i=e("../base/event/eventtype");n.prototype._notifyDefaultValue=function(e){!this._defaultTrack&&0<e.length&&(this._defaultTrack=e[0]),this._defaultTrack&&this._player.trigger(i.Private.SelectorUpdateList,{type:"audio",text:this._defaultTrack.text})},n.prototype.support=function(){return!!this._video.audioTracks},n.prototype._getTracks=function(e){if(!this.support()&&!e)return null;for(var t=[],r=(e=!this._video||!this._video.audioTracks||e&&0!=e.length?e:this._video.audioTracks)?e.length:0,n=0;n<r;n++){var i=e[n],o={value:i.id,text:i.label||i.name||i.language};(i.default||i.enabled)&&(this._defaultTrack=o),t.push(o)}return t},n.prototype.switch=function(e){if(this._player._hls)this._player._hls.audioTrack=+e;else if(this._player._switchAudioTrack)this._player._switchAudioTrack(e);else for(var t=this._video.audioTracks?this._video.audioTracks.length:0,r=0;r<t;r++){var n=this._video.audioTracks[r];n.id==e?n.enabled=!0:n.enabled=!1}},n.prototype.dispose=function(){this._player=null},t.exports=n},{"../base/event/eventtype":71}],125:[function(e,t,r){function n(e){this._video=e.tag,this._player=e,this._isCreated=!1,this._backupCC="",this.tracks=[],this._defaultTrack="",this._currentValue="",this._switchTimer=null,this._storedTracks=[];var t=this,r=(e.on(i.Player.LevelsLoaded,(function(r){e.getOptions().useDrm2||(a.IS_MAC_SAFARI||a.IS_IOS)&&(r&&r.paramData&&r.paramData.subtitles&&r.paramData.subtitles.length?t._storedTracks=r.paramData.subtitles||[]:t._resotreTracks())})),e.on(i.Private.SafariDrmLevelSwitch,(function(){t._resotreTracks()})),e.on(i.Private.ChangeURL,(function(e){e&&e.paramData&&"saas"===e.paramData.from||(t._disabledTracks(),t._isCreated=!1,t._defaultTrack="",t._backupCC="")})),e.on(i.Private.VttClearTracks,(function(){t.switch("off"),t._disabledTracks(),t._isCreated=!1,t._defaultTrack={value:"off",text:"Off"},t.tracks=[t._defaultTrack],e.trigger(i.Private.SelectorGenerateList,{type:"cc"}),e.trigger(i.Private.CCStateChanged,{value:"off",lang:""})})),e.on(i.Player.CanPlay,(function(){t._isCreated||(t.tracks=t._getTracks(),e.trigger(i.Player.TextTrackReady,t.tracks),e.trigger(i.Private.CCReset)),t._isCreated&&!t._player._setDefaultCC||!t._defaultTrack||(e.trigger(i.Private.SelectorUpdateList,{type:"cc",text:t._defaultTrack.text}),t.switch(t._defaultTrack.value),t._player._setDefaultCC=!1,t._isCreated=!0)})),a.os.ios&&parseFloat(a.os.version)<=15.1&&o.addCssByStyle("video::-webkit-media-text-track-container{position: relative; top: -44px !important;}"),"always"===e.getOptions().controlBarVisibility&&o.addCssByStyle("video::-webkit-media-text-track-container{transform: translateY(-44px);}"),l.throttle((function(){e._vttBroker&&e._vttBroker.enabled||o.addCssByStyle("video::-webkit-media-text-track-container{transform: translateY(-44px);}")}),100));e.on(i.Private.ShowBar,r),r=l.throttle((function(){e._vttBroker&&e._vttBroker.enabled||o.addCssByStyle("video::-webkit-media-text-track-container{transform: none;}")}),100);e.on(i.Private.HideBar,r),e.on(i.Private.CCReset,(function(){t._updateSelectorList()}))}var i=e("../base/event/eventtype"),o=(e("../../lib/event"),e("../../lib/dom")),a=e("../../lib/ua"),s=e("../../lib/cookie"),c=e("../../lib/constants"),l=e("../../ui/component/util");n.prototype._adaptiveCueStype=function(){var e,t=-10;a.IS_SAFARI?(t=-65,(e=this._player.fullscreenService)&&e.getIsFullScreen()&&(t=-95)):a.IS_MOBILE&&(t=-30),o.addCssByStyle("video::-webkit-media-text-track-container{transform: translateY("+t+"px) !important;}")},n.prototype.close=function(){for(var e=this.getTextTracks(),t=e.length,r=0;r<t;r++){var n=e[r];"expired"!=n.mode&&("showing"==n.mode&&(this._backupCC=n),n.mode="disabled",this._player._switchDrmTextTrack)&&this._player._switchDrmTextTrack()}this._player.trigger(i.Private.VttHide)},n.prototype.open=function(){var e,t,r;return!this.tracks||this.tracks.length<2||(t=this._backupCC?this._backupCC.language:"",r=this._backupCC?this._backupCC.label:"",this.tracks.forEach((function(r){t===r.value&&(e=!0)})),(t=e?t:r="")||(t=this.tracks[1].value,r=this.tracks[1].text),this.switch(t)),{label:r,language:t}},n.prototype.getCurrentSubtitle=function(){return this._currentValue},n.prototype._getTracks=function(){for(var e=this.getTextTracks(),t=e.length,r=(this._defaultTrack={value:"off",text:"Off"},[this._defaultTrack]),n=s.get(c.SelectedCC),i="",o=!1,a=0;a<t;a++){var l,u=e[a];"expired"==u.mode||"subtitles"!=u.kind&&"captions"!=u.kind||(l={value:u.language,text:u.label},u.default&&(this._defaultTrack=l,o=!0),l.value==n&&(i=l),r.push(l))}return!o&&i&&(this._defaultTrack=i),r},n.prototype._disabledTracks=function(){for(var e=this.getTextTracks(),t=e.length,r=0;r<t;r++)e[r].mode="expired"},n.prototype.switch=function(e){var t=this._player;if(this.close(),"off"!=e)for(var r=this.getTextTracks(),n=r.length,o=0;o<n;o++){var a=r[o];a.language===e&&"expired"!=a.mode&&(t._switchDrmTextTrack&&t._switchDrmTextTrack(e),r[o].mode="showing",t.trigger(i.Private.VttSwitchTrack,a.language))}else this.close();this._currentValue=e,t.trigger(i.Private.CCChanged,e)},n.prototype.updateUI=function(e){var t=this._player,r="on",n="";n=e?(this.tracks.find((function(t){return t.value===e}))||{}).text||"":(r="off","Off"),t.trigger(i.Private.CCChanged,r),t.trigger(i.Private.CCStateChanged,{value:r,lang:n})},n.prototype.dispose=function(){this._player=null,this._switchTimer&&(clearTimeout(this._switchTimer),this._switchTimer=null)},n.prototype._patchSafariTracks=function(){var e=this;if(a.IS_MAC_SAFARI||a.IS_IOS){if(!(this._video&&this._video.textTracks&&this._video.textTracks.length)){var t=!1;if(t=!(!this._video.textTracks||!this._video.textTracks.length)||t)return;for(var r=0;r<this._storedTracks.length;r++){var n=this._storedTracks[r],i=n.vttUrl,o=document.createElement("track");o.src=i,o.kind="subtitles",o.label=n.name,o.srclang=n.lang,this._video.appendChild(o)}}this._switchTimer&&clearTimeout(this._switchTimer),this._switchTimer=setTimeout((function(){var t=e.getCurrentSubtitle();t&&"off"!==t&&e.switch(t)}),1e3)}},n.prototype.getTextTracks=function(){var e=this._player,t=e.tag;return e._vttBroker&&e._vttBroker.enabled&&e.getTextTracks?e.getTextTracks()||[]:e._getDrmTextTracks?e._getDrmTextTracks()||[]:t&&t.textTracks||[]},n.prototype._updateSelectorList=function(){var e=this._player;this.tracks=this._getTracks(),e.trigger(i.Private.SelectorGenerateList,{type:"cc",value:"Off"})},n.prototype._resotreTracks=function(){this._patchSafariTracks(),this.tracks=this._getTracks(),this._player.trigger(i.Player.TextTrackReady,this.tracks)},t.exports=n},{"../../lib/constants":31,"../../lib/cookie":32,"../../lib/dom":35,"../../lib/event":36,"../../lib/ua":51,"../../ui/component/util":166,"../base/event/eventtype":71}],126:[function(e,t,r){var n=e("../../lib/playerutil");t.exports=[{service:e("./ccservice"),name:"_ccService",condition:!0},{service:e("./audiotrackservice"),name:"_audioTrackService"},{service:e("./qualityservice"),name:"_qualityService"},{service:e("./fullscreenservice"),name:"fullscreenService",condition:function(){return!0}},{service:e("./liveshiftservice"),name:"_liveshiftService",condition:function(){var e=this.options();return n.isLiveShift(e)}},{service:e("./thumbnailservice"),name:"_thumbnailService",condition:function(){return!0}},{service:e("./progressmarkerservice"),name:"_progressMarkerService",condition:function(){return!0}}]},{"../../lib/playerutil":48,"./audiotrackservice":124,"./ccservice":125,"./fullscreenservice":127,"./liveshiftservice":128,"./progressmarkerservice":129,"./qualityservice":130,"./thumbnailservice":131}],127:[function(e,t,r){function n(e){var t=this,r=(this.isFullWindow=!1,this.isFullScreen=!1,this.isFullScreenChanged=!1,this._requestFullScreenTimer=null,this._cancelFullScreenTimer=null,this._player=e,this),n=c;this._fullscreenChanged=function(e){var t;null!=r._player&&(e.target||e.srcElement)===(e=r._player.el())&&(t=document[n.fullscreenElement],r.isFullScreen=t===e,(r.isFullScreenChanged=!0)===r.isFullScreen?r._player.trigger(s.Player.RequestFullScreen):r._player.trigger(s.Player.CancelFullScreen))},n&&a.on(document,n.eventName,this._fullscreenChanged),a.on(e.tag,"webkitendfullscreen",(function(r){r=r.target||r.srcElement,e&&e.tag===r&&(t.isFullScreenChanged=!0,t.isFullScreen=!1,t._player.trigger(s.Player.CancelFullScreen),t._player.trigger(s.Private.Play_Btn_Show))}))}var i=e("../../lib/ua"),o=e("../../lib/dom"),a=e("../../lib/event"),s=e("../base/event/eventtype"),c=(e("../base/x5play"),e("../../lang/index"),(()=>{o.createEl("div");var e={},t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullScreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","webkitfullScreen"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","webkitIsFullScreen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","mozFullScreen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","MSFullScreen"]],r=!1;if(!(r=!(!i.IS_IOS||(e.requestFn="webkitEnterFullscreen",e.cancelFn="webkitExitFullscreen",e.fullscreenElement="webkitFullscreenElement",e.eventName="webkitfullscreenchange",e.isFullScreen="webkitDisplayingFullscreen",!document[e.requestFn]))||r)){for(var n=0;n<5;n++)if(t[n][1]in document){e.requestFn=t[n][0],e.cancelFn=t[n][1],e.fullscreenElement=t[n][2],e.eventName=t[n][4],e.isFullScreen=t[n][6];break}"requestFullscreen"in document?e.requestFn="requestFullscreen":"webkitRequestFullscreen"in document?e.requestFn="webkitRequestFullscreen":"webkitRequestFullScreen"in document?e.requestFn="webkitRequestFullScreen":"webkitEnterFullscreen"in document?e.requestFn="webkitEnterFullscreen":"mozRequestFullScreen"in document?e.requestFn="mozRequestFullScreen":"msRequestFullscreen"in document&&(e.requestFn="msRequestFullscreen"),"fullscreenchange"in document?e.eventName="fullscreenchange":"webkitfullscreenchange"in document||"webkitfullscreenchange"in document||"webkitfullscreenchange"in document?e.eventName="webkitfullscreenchange":"mozfullscreenchange"in document?e.eventName="mozfullscreenchange":"MSFullscreenChange"in document&&(e.eventName="MSFullscreenChange"),"fullScreen"in document?e.isFullScreen="fullScreen":"webkitfullScreen"in document?e.isFullScreen="webkitfullScreen":"webkitIsFullScreen"in document?e.isFullScreen="webkitIsFullScreen":"webkitDisplayingFullscreen"in document?e.isFullScreen="webkitDisplayingFullscreen":"mozFullScreen"in document?e.isFullScreen="mozFullScreen":"mozfullScreen"in document?e.isFullScreen="mozfullScreen":"MSFullScreen"in document&&(e.isFullScreen="MSFullScreen"),"fullscreenElement"in document?e.fullscreenElement="fullscreenElement":"webkitFullscreenElement"in document?e.fullscreenElement="webkitFullscreenElement":"webkitFullScreenElement"in document?e.fullscreenElement="webkitFullScreenElement":"mozFullScreenElement"in document?e.fullscreenElement="mozFullScreenElement":"msFullscreenElement"in document?e.fullscreenElement="msFullscreenElement":"MSFullscreenElement"in document&&(e.fullscreenElement="MSFullscreenElement")}return e.requestFn?e:null})()),l=(n.prototype.requestFullScreen=function(){var e=c,t=this._player.el(),r=this;if(i.IS_IOS){var n=this._player._splayer;if(!n||2!==n.renderType){t=this._player.tag,n&&2!==n.renderType&&(t=this._player.el().querySelector("video"));try{var o=t[e.requestFn]();o&&"function"==typeof o.catch&&o.catch((function(e){console.log(e)})),r._player.trigger(s.Player.RequestFullScreen)}catch(e){console.log(e)}return this}this._player._options.enableMockFullscreen=!0}if(this.isFullScreen=!0,this.isFullScreenChanged=!1,this._requestFullScreenTimer=null,this._cancelFullScreenTimer||clearTimeout(this._cancelFullScreenTimer),r=this,e&&!this._player._options.enableMockFullscreen)try{var a=t[e.requestFn]();a&&"function"==typeof a.catch&&a.catch((function(e){console.log(e)})),this._requestFullScreenTimer=setTimeout((function(){r.isFullScreenChanged||(l.apply(r),r._player.trigger(s.Player.RequestFullScreen)),r._requestFullScreenTimer=null}),1e3)}catch(e){console.log(e)}else l.apply(r),this._player.trigger(s.Player.RequestFullScreen);return this._player},n.prototype.cancelFullScreen=function(){var e=c,t=(this.isFullScreen=!1,this.isFullScreenChanged=!1,this._cancelFullScreenTimer=null,this._requestFullScreenTimer||clearTimeout(this._requestFullScreenTimer),this);if(e&&!this._player._options.enableMockFullscreen){try{var r=document[e.cancelFn]();r&&"function"==typeof r.catch&&r.catch((function(e){console.log(e)}))}catch(e){console.log(e)}t._cancelFullScreenTimer=setTimeout((function(){t.isFullScreenChanged||(u.apply(t),t._player.trigger(s.Player.CancelFullScreen)),t._cancelFullScreenTimer=null}),500)}else u.apply(t),this._player.trigger(s.Player.CancelFullScreen);return this._player.tag.paused||this._player.trigger(s.Player.Play),this._player},n.prototype.getIsFullScreen=function(){return this.isFullScreen},n.prototype.dispose=function(){this._player=null,c&&a.off(document,c.eventName,this._fullscreenChanged)},function(){this.isFullWindow=!0,this.docOrigOverflow=document.documentElement.style.overflow,document.documentElement.style.overflow="hidden",o.addClass(document.getElementsByTagName("body")[0],"prism-full-window")}),u=function(){this.isFullWindow=!1,document.documentElement.style.overflow=this.docOrigOverflow,o.removeClass(document.getElementsByTagName("body")[0],"prism-full-window")};t.exports=n},{"../../lang/index":26,"../../lib/dom":35,"../../lib/event":36,"../../lib/ua":51,"../base/event/eventtype":71,"../base/x5play":99}],128:[function(e,t,r){function n(e,t){var r;if(e)return e=new Date(e),r=(t=new Date(t)).valueOf()/1e3-e.valueOf()/1e3,{start:e,end:t,endDisplay:s.extractTime(t),totalTime:r}}function i(e,t){t&&(e.currentTimestamp=t,e.currentTime=s.convertToDate(t),e.currentTimeDisplay=s.extractTime(e.currentTime),e.liveShiftStart=e.liveTimeRange.start,e.liveShiftEnd=e.liveTimeRange.end,e.liveShiftStartDisplay=s.extractTime(e.liveShiftStart),e.liveShiftEndDisplay=s.extractTime(e.liveShiftEnd),e.availableLiveShiftTime=t-e.liveShiftStart.valueOf()/1e3,e.timestampStart=s.convertToTimestamp(e.liveShiftStart),e.timestampEnd,s.convertToTimestamp(e.liveShiftEnd))}function o(e){function t(){var t=e._options.source;this._originalPlayUrl=t,this._liveShiftUrl=e._options.liveTimeShiftUrl,this.liveTimeRange=n(e._options.liveStartTime,e._options.liveOverTime),this.availableLiveShiftTime=0,this.seekTime=-1}this._player=e,this._isLiveShiftPlaying=!1;var r=this;t.call(this),e.liveShiftSerivce={setLiveTimeRange:function(e,t){r.setLiveTimeRange(e,t)},queryLiveShift:function(e,t,n){r.queryLiveShift(e,t,n)},isLiveShiftPlaying:function(){return r._isLiveShiftPlaying}},e.on(h.Private.ChangeURL,(function(){t.call(r)}))}var a=e("../../lib/io"),s=e("../../lib/util"),c=e("../../lib/playerutil"),l=e("../../lang/index"),u=e("../flv/flvinjector"),p=e("../hls/hlsinjector"),d=e("../../lib/constants"),h=e("../base/event/eventtype");e("../../lib/url"),o.prototype.validate=function(){return!(this.liveTimeRange.start>=this.liveTimeRange.end)},o.prototype.switchToLive=function(){this.seekTime=-1;var e=this._originalPlayUrl,t=this._player._options.liveShiftSource,r=this._player._options.source;c.isHls(r)&&c.isFlv(e)&&t&&c.isHls(t)&&(this._player._hls&&this._player._destroyHls(),r=this._player._superType,t=this._player._Type,this._player._options._autoplay=!0,u.inject(this._player,t,r,this._player._options,"",!0)),this._player._loadByUrlInner(e,null,!0),this._isLiveShiftPlaying=!1,this._player.trigger(h.Private.LiveShiftSwitchToLive)},o.prototype.getBaseTime=function(){return this.liveShiftStartDisplay,-1==this.seekTime?s.parseTime(this.currentTimeDisplay):s.parseTime(this.liveShiftStartDisplay)+this.seekTime},o.prototype.getSourceUrl=function(e,t){var r=this._originalPlayUrl;return this.availableLiveShiftTime<e||(this._isLiveShiftPlaying=!0,e=parseInt(e),r=(r=this._switchLiveShiftPlayer(t))&&this._cleanUrl(r),t=parseInt(this.currentTimestamp)-e,-1===(r=-1==r.indexOf("?")?r+"?lhs_start_unix_s_0="+t:r+"&lhs_start_unix_s_0="+t).indexOf("aliyunols=on")&&(r+="&aliyunols=on"),-1===r.indexOf("continue=on")&&(r+="&continue=on")),r},o.prototype._cleanUrl=function(e){var t;return-1===e.indexOf("?")?e:(e=(e=(t=e.split("?"))[1])&&(0===(e=e.replace(/&?lhs_start_unix_s_0=[0-9]*/g,"")).indexOf("&")?e.replace("&",""):e))?t[0]+"?"+e:t[0]},o.prototype._switchLiveShiftPlayer=function(e){var t,r=this._originalPlayUrl,n=this._player._options.liveShiftSource,i=this._player._options.source;if(c.isHls(i))r=i;else if(c.isFlv(r)&&n&&c.isHls(n))return this._player._flv&&this._player._destroyFlv(),i=this._player._superType,t=this._player._Type,this._player._options._autoplay=!0,p.inject(this._player,t,i,this._player._options,"",!0),n;return r},o.prototype.getTimeline=function(e,t){var r;this._player.trigger(h.Private.LiveShiftQueryCompleted),this._liveShiftUrl?(r=this).queryLiveShift(this._liveShiftUrl,(function(n){n?0==n.retCode?(i(r,n.content.current),e&&e()):t({Code:d.ErrorCode.ServerAPIError,Message:n.retCode+"|"+n.description+"|"+n.content}):console.log("获取直播时移数据失败")}),(function(e){if(t&&e){var r={};if(e){if("string"==typeof e&&-1<e.indexOf("403 Forbidden"))r.Code=d.ErrorCode.AuthKeyExpired,r.Message="Query liveshift failed:"+l.get("Error_AuthKey_Text");else{var n;r=e;try{n=JSON.parse(e)}catch(e){}n&&(r.Code=d.ErrorCode.ServerAPIError,r.Message=n.retCode+"|"+n.description+"|"+n.content)}t(r)}}})):(i(this,(new Date).valueOf()/1e3),e&&e())},o.prototype.start=function(e,t){var r=this,n=function(){r._loopHandler&&clearTimeout(r._loopHandler),r._loopHandler=setTimeout((function(){r.getTimeline((function(){}),t),n()}),e)};r.getTimeline((function(e){r._localLiveTimeHandler||r.tickLocalLiveTime()}),t),n()},o.prototype.tickLocalLiveTime=function(){function e(){t._localLiveTimeHandler=setTimeout((function(){t.currentTimestamp++,i(t,t.currentTimestamp),t._player.trigger(h.Private.LiveShiftQueryCompleted),e()}),1e3)}var t=this;e()},o.prototype.setLiveTimeRange=function(e,t){e=e||this._player._options.liveStartTime,t=t||this._player._options.liveOverTime,this.liveTimeRange=n(e,t),i(this,this.currentTimestamp),this._player.trigger(h.Private.LiveShiftQueryCompleted)},o.prototype.queryLiveShift=function(e,t,r){a.get(e,(function(e){var n;e?0==(n=JSON.parse(e)).retCode?t&&t(n):r&&r(n):r&&r(e)}),(function(e){r&&r(e)}))},o.prototype.stop=function(e){this._loopHandler&&(clearTimeout(this._loopHandler),this._loopHandler=null)},o.prototype.dispose=function(){this.stop(),this._localLiveTimeHandler&&(clearTimeout(this._localLiveTimeHandler),this._localLiveTimeHandler=null),this._loopHandler&&(clearTimeout(this._loopHandler),this._loopHandler=null),this._player=null},t.exports=o},{"../../lang/index":26,"../../lib/constants":31,"../../lib/io":43,"../../lib/playerutil":48,"../../lib/url":52,"../../lib/util":53,"../base/event/eventtype":71,"../flv/flvinjector":106,"../hls/hlsinjector":108}],129:[function(e,t,r){function n(e){function t(){var t=document.querySelector("#"+e.id()+" .prism-progress-marker");if(t){t.innerHTML="";var n=r._player.getDuration();if(0<n){for(var s=0;s<r.progressMarkers.length;s++){var c,l=r.progressMarkers[s];void 0!==l.offset&&""!==l.offset&&(l=document.createElement("div"),o.addClass(l,"prism-marker-dot"),c=r.progressMarkers[s].offset/n,l.style.left=100*c+"%",t.appendChild(l),c=((e,t)=>function(){r._player.trigger(i.Private.MarkerTextShow,{left:e,progressMarker:t})})(c,r.progressMarkers[s]),a.on(l,"mouseover",c),a.on(l,"mouseout",(function(e){r._player.trigger(i.Private.MarkerTextHide)})),a.on(l,"touchstart",c),a.on(l,"mousemove",(function(e){e.preventDefault()})),a.on(l,"touchmove",(function(e){e.preventDefault()})))}var u=document.querySelector("#"+r._player.id()+" .prism-progress-cursor");r._player.on(u,"click",(function(e){for(var t=r._player.getCurrentTime(),o=0;o<r.progressMarkers.length;o++){var a,s=r.progressMarkers[o];s&&t-1<s.offset&&s.offset<t+1&&(a=s.offset/n*100+"%",r._player.trigger(i.Private.MarkerTextShow,{left:a,progressMarker:s}))}}))}}}this.progressMarkers=[],this._player=e;var r=this;e.on(i.Private.ProgressMarkerLoaded,(function(e){e=e.paramData,e&&0<e.length&&(r.progressMarkers=e)})),e.on(i.Private.ProgressMarkerChanged,(function(e){e=e.paramData,e&&0<e.length&&(r.progressMarkers=e,t())})),e.on(i.Video.LoadedMetadata,t)}var i=e("../base/event/eventtype"),o=(e("../../lang/index"),e("../../lib/hls/hlsparse"),e("../../lib/object"),e("../../lib/dom")),a=e("../../lib/event");e("../../lib/playerutil"),n.prototype.dispose=function(){this._player=null,this.progressMarkers=[]},t.exports=n},{"../../lang/index":26,"../../lib/dom":35,"../../lib/event":36,"../../lib/hls/hlsparse":41,"../../lib/object":45,"../../lib/playerutil":48,"../base/event/eventtype":71}],130:[function(e,t,r){function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)!{}.hasOwnProperty.call(n,r)||(e[r]=n[r])}return e}).apply(null,arguments)}function i(e){this.levels=[],this.drmUrl={},this._player=e;var t=this;e.on(o.Private.PlayInfoLoaded,(function(e){for(var r=e.paramData.encryptUrlArr||[],n=[],i=0;i<r.length;i++){var o=r[i];o.encryptionType===u.VodEncryptionType["Widevine-FairPlay"]&&n.push(o)}t.drmUrl=n})),e.on(o.Player.LevelsLoaded,(function(r){if(0<t.levels.length&&(t.levels=[]),(r=r.paramData)&&r.levels){for(var i=r.levels.length-1;-1<i;i--){var s,l=r.levels[i];l.url&&0<l.url.length&&l.attrs&&l.attrs.BANDWIDTH&&(s=l.url,c.isArray(s)&&(s=s[0]),s={Url:s=!e._hls&&e._options.isVBR&&e._options.isDrm&&e._options.vid?p.call(t,l):s,desc:Math.min(l.width,l.height),bitrate:l.bitrate,resolution:l.attrs.RESOLUTION,bandwidth:l.attrs.BANDWIDTH},t.levels.push(s))}"AUTO"===e._options.definition&&(e._urls=[],Object.assign(e._urls,this.levels)),t.levels.sort((function(e,t){return(e.bitrate||e.desc)-(t.bitrate||t.desc)})),t.levels=((e,t)=>"function"==typeof t?e.map((function(e){return n({},e,{desc:t({bandwidth:Number(e.bandwidth),bitrate:Number(e.bitrate),width:Number(e.resolution.split("x")[0]),height:Number(e.resolution.split("x")[1])})})})):e.map((function(e){return n({},e,{desc:e.desc+"p@"+parseInt(e.bitrate/1e3)+"k"})})))(t.levels,e._options.bitrateDisplayHandler);var u="";this._player._options.isVBR&&(u=a.get("Auto")),t.levels.push({Url:r.url,desc:u}),e.trigger(o.Private.SelectorUpdateList,{type:"quality",text:u})}})),e.on(o.Video.LoadStart,(function(){var r,n,i;e._options&&(r=e._options.source,n=e._options.isVBR,i=e._options.useDrm2,!e._hls)&&r&&l.isHls(r)&&(e._manuallySwitchDrmLevel?(e._manuallySwitchDrmLevel=!1,e.trigger(o.Private.SafariDrmLevelSwitch)):n&&!i&&t.loadLevels(r))}))}var o=e("../base/event/eventtype"),a=e("../../lang/index"),s=e("../../lib/hls/hlsparse"),c=e("../../lib/object"),l=e("../../lib/playerutil"),u=e("../../lib/constants");function p(e){for(var t,r=this.drmUrl,n=0;n<this.drmUrl.length;n++)if(Number(e.height)===Number(r[n].height)){t=r[n].Url;break}return t}(i.prototype={loadLevels:function(e){var t=new s,r=this;t.load(e,(function(e){var n;null!=(n=e.subtitles)&&n.forEach((function(e){t.loadMediaPlaylist({url:e.url},(function(r){r=r.fragments[0],r&&(e.vttUrl=t.resolve(r.relurl,r.baseurl))}),(function(e){console.log("parse vtt url error: ",e)}))})),r._player._created?r._player.trigger(o.Player.LevelsLoaded,e):r._player.one(o.Private.Created,(function(){r._player.trigger(o.Player.LevelsLoaded,e)}))}))}}).dispose=function(){this._player=null},t.exports=i},{"../../lang/index":26,"../../lib/constants":31,"../../lib/hls/hlsparse":41,"../../lib/object":45,"../../lib/playerutil":48,"../base/event/eventtype":71}],131:[function(e,t,r){function n(e){this._player=e,this.cues=[],this.baseUrl="";var t=this;e.on(s.Private.ChangeURL,(function(){t.cues=[],t.baseUrl=""}))}var i=e("../../lib/io"),o=e("../../lib/url"),a=e("../../lib/vtt/thumbnailvtt"),s=e("../base/event/eventtype");(n.prototype={get:function(e){var t,r,n,c=this;this.baseUrl=(t=e,r="",(n=o.parseUrl(t))&&(n=n.segments)&&0<n.length&&(n=n[n.length-1],r=t.split("?")[0].replace(n,"")),r),i.get(e,(function(e){e&&a.parse(e,(function(e){c.cues=e,c._player.trigger(s.Private.ThumbnailLoaded,e)}))}),(function(e){console.log(e)}))},findAvailableCue:function(e){for(var t=this.cues.length,r=0;r<t;r++){var n=this.cues[r];if(n.startTime<=e&&e<n.endTime)return n}return null},makeUrl:function(e){return-1==e.indexOf("://")?this.baseUrl+e:e}}).dispose=function(){this._player=null},t.exports=n},{"../../lib/io":43,"../../lib/url":52,"../../lib/vtt/thumbnailvtt":55,"../base/event/eventtype":71}],132:[function(e,t,r){function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)!{}.hasOwnProperty.call(n,r)||(e[r]=n[r])}return e}).apply(null,arguments)}var i=e("../base/player"),o=e("./splayerinjector"),a=e("../flv/flvinjector"),s=e("../hls/hlsinjector"),c=e("../../lib/playerutil"),l=e("../base/event/eventtype"),u=e("../../lib/constants"),p=e("../../lib/codec-probe"),d=e("../../lib/ua"),h=u.USER_EVENT_NAME,f=c.isH265Codec,y=c.isH266Codec,g=c.getVideoTrack,v={},_={codecCost:0,decoderCost:0},m=i.extend({init:function(e,t){var r,u=this,b=(this._options=t,c.isFlv(t.source,t.format)),S=c.isHls(t.source,t.format),T=this._extraMultiSources(),w={};function E(){b?(a.inject(this,m,i,t),t._native=!1):S&&!c.canPlayHls()&&(s.inject(this,m,i,t),t._native=!1),i.call(this,e,t),this._monitor&&this._monitor.updateH265ProbeInfo(n({},_,v)),k.call(this),v.codecTag&&o.reportH265PlayInfo.call(this,{renderType:"native",codecTag:v.codecTag})}function x(){t._native=!1,o.inject(this,m,i,t,v),i.call(this,e,t),this._monitor&&this._monitor.updateH265ProbeInfo(n({},_,v,{waitRenderType:!0})),k.call(this)}function k(){var e,t,r=this,n=w,o=this[h];o&&(n=Object.assign({},w,o),e=Object.keys(w),t=Object.keys(o),e.forEach((function(e){-1<t.indexOf(e)&&(n[e]=w[e].concat(o[e]))}))),Object.keys(n).forEach((function(e){n[e].forEach((function(t){t.binded||i.prototype.on.call(r,e,t)}))}))}w[l.Player.Ready]=[function(){u._setupSourceList(T),u.trigger(l.Private.SelectorGenerateList,{type:"quality"})}],"zhihu"===t.from||t.forceH265||t.forceH266?x.call(this):d.IS_ANDROID&&d.dingTalk()&&!b?E.call(this):(r=performance.now(),p(t.source,(function(e){_.codecCost+=performance.now()-r;e=g(e.tracks);var n,i=(e||{}).codecTag||(null==(i=(e||{}).codec)?void 0:i.split(".")[0]);v.codecTag=i,e&&f(i)?(n=performance.now(),b||S&&!c.canPlayHls()?(_.decoderCost+=performance.now()-n,x.call(u)):c.shouldUseBasePlayer({codecTag:i,url:t.source},(function(e){_.decoderCost+=performance.now()-n,(e?E:x).call(u)}))):(e&&y(i)?x:E).call(u)}),(function(e){console.log("error in demuxer, fallback to basePlayer",e),_.codecCost+=performance.now()-r,E.call(u),o.checkProtocol.call(u,t.source)})))}});t.exports=m},{"../../lib/codec-probe":29,"../../lib/constants":31,"../../lib/playerutil":48,"../../lib/ua":51,"../base/event/eventtype":71,"../base/player":94,"../flv/flvinjector":106,"../hls/hlsinjector":108,"./splayerinjector":133}],133:[function(e,t,r){function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)!{}.hasOwnProperty.call(n,r)||(e[r]=n[r])}return e}).apply(null,arguments)}var i=e("../../lib/io"),o=e("../base/event/eventtype"),a=e("../base/event/eventmanager"),s=(e("../../lib/event"),e("../../lib/util")),c=e("../../lib/dom"),l=e("../../lib/playerutil"),u=e("../../lib/constants"),p=e("../../lang/index"),d="splayerinjector.js";function h(e){var t=this._options,r=(g.call(this),function(){l.isVideoTag(this.tag)&&(a.offVideoAll(this),this.tag.parentNode&&this.tag.parentNode.removeChild(this.tag),this.tag=null)}.call(this),Videox.Videox),i=t.splayerWasmDomain,s=(i=(!i&&t.assetPrefix&&(i=t.assetPrefix+"/splayer"),new r(n({container:this._el,wasmDomain:i,progressive:!0,skipFrame:r.DiscardType.NONE,loop:t.rePlay,controls:!1,muted:!1,threads:t.h265Threads,simd:t.h265Simd,autoplay:t.autoplay||t._autoplay,live:t.isLive,poster:t.cover||void 0,src:t.source,trackOptions:{disable:!0},preload:t.preload?"auto":"none",timeout:1e3*t.waitingTimeout},t.splayerOptions||{}))),t.debug&&(i.setLogLevel(r.LogLevel.LOG),i.setLogPrintLevel(r.LogLevel.LOG)),this._splayer=i,(this.tag=i).play),c=this;this.tag.play=function(){c._monitor&&c._monitor.reportStartPlay(),s.call(this)},function(){var e,t=this,r=document.createElement("video");for(e in r)(e=>{t.tag[e]||0===e.indexOf("on")||"function"!=typeof r[e]||(t.tag[e]=function(){console.warn("Function ["+e+"] is called on splayer, which should be a mistake."),r[e].apply(r,arguments)})})(e)}.call(this),function(e){var t=this,r=(a.onAll(this),this._splayer);r.addEventListener("error",function(e){var t,r,n,i=Videox.Videox,a=(e||{}).detail,s=Number((a||{}).code);i=i.ErrorCode;switch(this.traceLog(d,"splayer-error::"+s),s){case i.WASM_NOT_SUPPORTED:case i.CANVAS_NOT_SUPPORTED:case i.AUDIOCONTEXT_NOT_SUPPORTED:case i.WORKER_NOT_SUPPORTED:case i.WEBGL_NOT_SUPPORTED:t=u.ErrorCode.SplayerEnvCheckError,r=p.get("Splayer_Err_Env_Check")+" | "+f(a);break;case i.DECODE:t=u.ErrorCode.SplayerDecodeError,r=p.get("Splayer_Err_Decode")+" | "+f(a);break;case i.NETWORK:t=u.ErrorCode.NetworkError,r=p.get("Error_Network_Text")+" | "+f(a);var c=(a.origin||{}).response;c?404===(c=c.status)?(t=u.ErrorCode.NotFoundSourceURL,r=p.get("Error_Not_Found")+" | "+f(a),n=p.get("Tip_Err_Not_found")):403===c&&(t=u.ErrorCode.AuthKeyExpired,r=p.get("Error_AuthKey_Text")+" | "+f(a)):navigator.onLine&&(t=u.ErrorCode.RequestDataError,r=r+"，"+p.get("Maybe_Cors_Error"));break;case i.PARSER:t=u.ErrorCode.SplayerParserNotFound,r=p.get("Splayer_Err_Parser_Not_Found")+" | "+f(a);break;default:t=u.ErrorCode.OtherError,r="(SP)"+p.get("Error_Play_Text")+" | "+f(a)}if(n=n||p.get("Tip_Err_Splayer")+'<a href="https://help.aliyun.com/zh/vod/developer-reference/advanced-features-3#section-j4v-zwt-641" target="_blank">'+p.get("Tip_Err_Splayer_Doc")+"</a>",t!==u.ErrorCode.NetworkError||!this._reloadForVod()){try{this.pause()}catch(e){}s={error_code:t,error_msg:r,diagnosis_info:n},null!==s.error_code&&null!==s.error_msg&&(this.logError(s),this.trigger(o.Player.Error,s)),v.call(this,{splayer:!0})}}.bind(this)),r.addEventListener("decoderoverload",(function(e){e=e.detail,delete e.shouldWarn,t.trigger(o.Player.H265DecoderOverload,e)})),r.addEventListener("loadedsupportinfo",(function(e){e=e.detail||{};var n=e.detail||{},i=r.controller.options||{};r.renderType=e.renderer,v.call(t,{renderer:e.renderer,wasmThreads:n.wasmThreads&&i.threads,wasmThreadsOption:i.threads,simd:n.simd&&i.simd,simdOption:i.simd,codecTag:r.controller.videoTrack&&r.controller.videoTrack.codecTag||r.controller.videoTrack&&(null==(e=r.controller.videoTrack.codec)?void 0:e.split(".")[0]),splayer:!0})})),(this._options.autoplay||this._options._autoplay)&&(r.once("canplay",(function(){r.paused&&t._autoplayFailedHandler()})),r.once("timeupdate",(function(){t.trigger(o.Player.Play)})),this._monitor)&&this._monitor.reportStartPlay(),r.on("playing",(function(){t._monitor&&t._monitor.reportPlaying()})),r.on("timeupdate",(function(){t._monitor&&t._monitor.reportPlaying()}))}.call(this,e)}function f(e){e=e=void 0===e?{}:e;var t=e.code,r=Videox.Videox.ErrorCode,n="";return t?n+t+": "+(e.message||r[t]):n}function y(e){return!s.contentProtocolMixed(e,"alwaysCheck")||((e={mediaId:this._options.vid||"",error_code:u.ErrorCode.InvalidSourceURL,error_msg:"InvalidSourceURL"}).display_msg=p.get("Request_Block_Text"),this.logError(e),this.trigger(o.Player.Error,e),!1)}function g(){this._splayer&&(this._splayer.destroy(),this._splayer=null)}function v(e){var t;void 0===e&&(e={}),!this._h265InfoReported&&(this._h265InfoReported=!0,t={0:"native",1:"mse",2:"wasm"},delete(e=n({codecTag:(this._probeInfo||{}).codecTag||e.codecTag,renderType:e.renderType||t[e.renderer]},e)).renderer,e.renderType!==t[2]&&(delete e.simd,delete e.simdOption,delete e.wasmThreads,delete e.wasmThreadsOption),this._splayerRenderType=e.renderType,t=e.codecTag)&&(l.isH265Codec(t)?this.trigger(o.Player.H265PlayInfo,e):l.isH266Codec(t)&&this.trigger(o.Player.H266PlayInfo,e))}t.exports.checkProtocol=y,t.exports.reportH265PlayInfo=v,t.exports.inject=function(e,t,r,n,a){function s(e,t){this._superPt.setPlayerSize.call(this,e,t),e=this._el.querySelector("canvas"),e&&(t=this._el.offsetWidth/this._el.offsetHeight,e.offsetWidth/e.offsetHeight<t?(e.style.height="100%",e.style.width="initial"):(e.style.width="100%",e.style.height="initial"))}function l(){this._disposed||(this._superPt&&(this._superPt.dispose.call(this),t.prototype.replay=this._superPt.replay,t.prototype.setPlayerSize=this._superPt.setPlayerSize,t.prototype._setTransform=this._superPt._setTransform,t.prototype.initPlay=this._superPt.initPlay),g.call(this),this._Type=null,this._superType=null,this._superPt=null,this._disposed=!0,this._splayerLoaded=!1,this._h265InfoReported=!1,this._splayerRenderType=null)}e._Type=t,e._superType=r,e._superPt=r.prototype,e._disposed=!1,e._splayer=null,e._splayerLoaded=!1,e._probeInfo=a,e._splayerRenderType=null,t.prototype.initPlay=function(e){var t=this;this.trigger(o.Private.H5_Loading_Show),y.call(this,this._options.source)&&(this._splayerLoaded?h.call(this,e):function(e,t){var r=this._options,n=r.splayerUrl||"https://g.alicdn.com/apsara-media-components/amcom-splayer/0.7.8/dist/index.js";!r.splayerUrl&&r.assetPrefix&&(n=r.assetPrefix+"/splayer/index.js"),i.loadJS(n,e.bind(this),(function(){t&&t()}))}.call(this,(function(){this._splayerLoaded=!0,h.call(this,e),t._executeReadyCallback()}),(function(){var e={mediaId:t._options.vid||"",mediaAuth:t._options.mediaAuth||"",error_code:u.ErrorCode.ModuleLoadError,error_msg:"splayer module load error."};t.trigger(o.Player.Error,e)})))},t.prototype.replay=function(){return this._monitor&&this._monitor.replay(),this._splayer.load(),this._splayer.play(),this},Object.defineProperty(t.prototype,"setPlayerSize",{enumerable:!0,configurable:!0,get:function(){return s},set:function(){return s}}),t.prototype._setTransform=function(){var e=this._player.el(),t="wasm"===this._splayerRenderType;e=t?e.querySelector("canvas"):e.querySelector("video"),this._transformProp||(this._transformProp=c.getTransformName(e)),t=t?"":" translate(-50%, -50%)";this._rotate&&(t+=" rotate("+this._rotate+"deg)"),this._image&&("vertical"==this._image?t+=" scaleY(-1)":"horizon"==this._image&&(t+=" scaleX(-1)")),e.style[this._transformProp]=t},Object.defineProperty(t.prototype,"dispose",{enumerable:!0,configurable:!0,get:function(){return l},set:function(){return l}})}},{"../../lang/index":26,"../../lib/constants":31,"../../lib/dom":35,"../../lib/event":36,"../../lib/io":43,"../../lib/playerutil":48,"../../lib/util":53,"../base/event/eventmanager":70,"../base/event/eventtype":71}],134:[function(e,t,r){function n(e,t){var r,n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=((e,t)=>{var r;if(e)return"string"==typeof e?i(e,t):"Map"===(r="Object"===(r={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0})(e))||t&&e&&"number"==typeof e.length)return n&&(e=n),r=0,function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var o="undefined"==typeof Promise?e("es6-promise").Promise:Promise,a=e("../../lib/io"),s=e("../../config"),c=e("../../lang/index"),l=e("../../lib/ua"),u=e("../base/event/eventtype"),p=e("../../lib/constants"),d=p.PLAYER_SCOPE,h=p.SW_MSG_EVT,f=p.DM_MSG_EVT,y=p.ErrorCode,g=e("./tsremuxer").TSRemuxer,v="swinjector.js";function _(e){e={mediaId:this._options.vid||"",error_code:e.code,error_msg:e.msg,diagnosis_info:e.info},this.trigger(u.Player.Error,e)}function m(e){return e.split("?")[0].split("#")[0]}t.exports.inject=function(e,t,r,i,p){e.swPlayer=!0,e.firstBuild=!0,e.sw=null,e.tsDemuxerWorker=null,e.tsRemuxer=null,e.preloadError=!1,e.fetchHasResult=!1,e._initServiceWorker=new o((function(e){setTimeout(e,1e3),"serviceWorker"in navigator?navigator.serviceWorker.getRegistrations().then((function(t){if(!t.length)return console.log("No serviceWorker registrations found."),e();for(var r,i=[],a=n(t);!(r=a()).done;)(()=>{var e=r.value,t=e.unregister().then((function(t){console.log(t?"Successfully unregistered":"Failed to unregister","ServiceWorkerRegistration\n"+(e.installing?"  .installing.scriptURL = "+e.installing.scriptURL+"\n":"")+(e.waiting?"  .waiting.scriptURL = "+e.waiting.scriptURL+"\n":"")+(e.active?"  .active.scriptURL = "+e.active.scriptURL+"\n":"")+"  .scope: "+e.scope+"\n")}));i.push(t)})();o.all(i).then(e).catch(e)})).catch((function(t){console.log("clear sw error",t),e()})):e()})).then(function(e){var t=this;return new o((function(r){var n=(e=>{if(!e)return c.get("Error_SW_ScriptURL_Empty");if(0!==(e=String(e)).indexOf("https")&&-1===e.indexOf("localhost")&&-1===e.indexOf("127.0.0.1"))return c.get("Error_SW_ScriptURL_Https");try{t=new URL(e)}catch(e){return c.get("Error_SW_ScriptURL_ILlegal","",{detail:e})}(e=m(location.href).split("/")).pop();e=e.join("/");var t=((t=m(t.href).split("/")).pop(),t.join("/"));return e!==t?c.get("Error_SW_ScriptURL_Scope","",{scope1:t,scope2:e}):void 0})(e.swScriptURL);if(n)return t.preloadError=!0,_.call(t,{code:y.ModuleLoadError,msg:n});"serviceWorker"in navigator?(navigator.serviceWorker.register(e.swScriptURL,{scope:"./"}).then((function(e){t.traceLog(v,"sw registered"),e=e.active||e.waiting||e.installing,e.postMessage({scope:d,name:h.SETUP}),t.sw=e})).catch((function(e){t.preloadError=!0,_.call(t,{code:y.ModuleLoadError,msg:c.get("Error_SW_Register_Failed")+"("+e+")",info:c.get("Tip_SW_Register")})})),navigator.serviceWorker.addEventListener("controllerchange",(function(r){r.target.controller.scriptURL!==e.swScriptURL&&_.call(t,{code:y.ModuleLoadError,msg:c.get("Error_SW_Conflict"),info:"controlled by "+r.target.controller.scriptURL})})),navigator.serviceWorker.addEventListener("message",(function(e){var n;if((i=e.data)&&i.scope===d){var i=e.data.name;switch(console.log("[MESSAGE FROM SW]["+i+"]",(e=>{var t;try{t=/[0-9]+\.ts/.exec(e)[0]}catch(e){}return t})(null==(n=e.data.payload)?void 0:n.url),e.data.payload),i){case h.SETUP_ACK:r(),t.traceLog(v,"sw ack");var o=null==(o=e.data.payload)?void 0:o.version;o!==s.h5Version&&(t.preloadError=!0,_.call(t,{code:y.ModuleLoadError,msg:c.get("Error_SW_Version_Not_Match","",{swVersion:o,playerVersion:s.h5Version})}));break;case h.ENC_SEGMENT:var a=e.data.payload;t._getDemuxer.then((function(){t.tsDemuxerWorker&&t.tsDemuxerWorker.postMessage({name:f.DEMUX,payload:{buffer:a.buffer,url:a.url,playlistUrl:a.playlistUrl}})}));break;case h.ABORT_SEGMENT:t.tsDemuxerWorker&&t.tsDemuxerWorker.postMessage({name:f.FLUSH}),t.tsRemuxer&&t.tsRemuxer.flush()}}}))):(t.preloadError=!0,n="http:"===location.protocol?c.get("Error_SW_Https_required"):c.get("UseChromeForVodEncription")+"(SW not found)",_.call(t,{code:y.EncrptyVideoNotSupport,msg:n}))}))}.call(e,i));var b,S,T=performance.now(),w=(e._getDemuxer=(b=i,new o((function(e,t){var r="aliplayer-hls2-demuxer-min.js",n="https://"+s.domain+s.path+s.h5Version+"/hls/"+r;b.assetPrefix&&(n=b.assetPrefix+"/hls/"+r),a.loadJS(n,e,t)})).then((function(){e.traceLog(v,"got demuxer#"+parseInt(performance.now()-T)),window.AliDemuxerWorker&&(e.tsDemuxerWorker=window.AliDemuxerWorker.injectWorker().worker,e.tsDemuxerWorker.postMessage({name:f.SETUP,payload:{key:p,debug:i.debug}}),e.tsDemuxerWorker.addEventListener("message",(function(t){var r=t.data;switch(r.name){case f.RESULT:if(e.tsRemuxer)try{e.tsRemuxer.remux(r.payload.demuxResult)}catch(t){e.traceLog(v,"remux error: "+t.message+", "+t.stack+"}")}break;case f.DISPOSED:e.tsDemuxerWorker&&(e.tsDemuxerWorker.terminate(),e.tsDemuxerWorker=null);break;case f.ERROR:e.traceLog(v,"demuxer error:  "+r.payload.reason)}})),e.tsDemuxerWorker.addEventListener("error",(function(t){e.traceLog(v,"demuxer uncaught error: "+t.message)})))})).catch((function(t){e.preloadError=!0,_.call(e,{code:y.ModuleLoadError,msg:"ts-demuxer module load error"})}))),performance.now());function E(){this.swPlayer=!1,this.preloadError=!1,this.fetchHasResult=!1,this.tsDemuxerWorker&&this.tsDemuxerWorker.postMessage({name:f.DISPOSE}),this.tsRemuxer&&(this.tsRemuxer.destroy(),this.tsRemuxer=null);var e=r.prototype;e&&(e.dispose.call(this),t.prototype.initPlay=e.initPlay),this.sw&&(this.sw.postMessage({scope:d,name:h.DISPOSE}),this.sw=null)}e._getRemuxer=(S=i,new o((function(e,t){var r,n="aliplayer-remuxer-min.js",i="https://"+s.domain+s.path+s.h5Version+"/hls/"+n;S.assetPrefix&&(i=S.assetPrefix+"/hls/"+n),l.IS_IOS&&Number(l.IOS_VERSION)<=14?(r="https://"+s.domain+s.path+s.h5Version+"/hls/aliplayer-remuxer-polyfill.js",S.assetPrefix&&(i=S.assetPrefix+"/hls/"+n),a.loadJS(r,(function(){a.loadJS(i,e,t)}),t)):a.loadJS(i,e,t)})).then((function(){e.traceLog(v,"got remuxer#"+parseInt(performance.now()-w)),window.LibMux&&(e.tsRemuxer=new g({onResult:function(t){e.sw.postMessage({scope:d,name:h.DEC_SEGMENT,payload:{buffer:t.data.buffer,url:t.id}},[t.data.buffer])}}))})).catch((function(){e.preloadError=!0,_.call(e,{code:y.ModuleLoadError,msg:"ts-remuxer module load error"})}))),t.prototype.initPlay=function(){var t=this;o.all([this._getDemuxer,this._getRemuxer,this._initServiceWorker]).then((function(){t.trigger(u.Private.H5_Loading_Show),a.get(i.source,(function(r){var n;e.fetchHasResult=!0,t.preloadError||(r=((e,t)=>{var r,n=-1<t.indexOf("EXT-X-STREAM-INF");if(t=t.replace(/#EXT-X-KEY:.*\n?/g,""),e=e.match(/^(.*)\/[^\/]*$/))return r=e[1],e=n?/(#EXT-X-STREAM-INF:[^\n]+\n)([^\n]+)/g:/(#EXTINF:[^\n]+\n)([^\n]+)/g,t.replace(e,(function(e,t,n){return""+t+r+"/"+n+(-1<n.indexOf("?")?"&":"?")+"_s=enc"}));console.warn("no match base url found.")})(i.source,r),n="",n=l.IS_IOS?"data:application/x-mpegurl;base64,"+btoa(r):(r=new Blob([r],{type:"application/vnd.apple.mpegurl"}),URL.createObjectURL(r)),t.tag.src=n,t._initPlayBehavior(),t.firstBuild&&(t.firstBuild=!1,t._executeReadyCallback()))}),(function(r,n){if(console.log("fetch m3u8 error",r,n),t.traceLog(v,"fetch m3u8 error "+n+"-"+r),!e.fetchHasResult&&(e.fetchHasResult=!0,!t.preloadError)){var i,o;switch(n){case 403:i=y.AuthKeyExpired,o=c.get("Error_AuthKey_Text");break;case 404:i=y.NotFoundSourceURL,o=c.get("Error_Not_Found");break;default:i=y.RequestDataError,o=c.get("Error_Load_M3U8_Failed_Text")}_.call(t,{code:i,msg:o})}}))}))},Object.defineProperty(t.prototype,"dispose",{enumerable:!0,configurable:!0,get:function(){return E},set:function(){return E}})}},{"../../config":15,"../../lang/index":26,"../../lib/constants":31,"../../lib/io":43,"../../lib/ua":51,"../base/event/eventtype":71,"./tsremuxer":135,"es6-promise":9}],135:[function(e,t,r){t.exports.TSRemuxer=(()=>{function e(e){this.mux=null;var t=window.LibMux;console.log("LibMux ->",t),this.mux=new t({outputFormat:2,hasVideo:!0,hasAudio:!0,onResult:function(t){console.log("remux result -> ",t),e.onResult(t)}})}var t=e.prototype;return t.remux=function(e){this.mux.remuxTS({id:e.id,videoTrack:e.videoTrack,audioTrack:e.audioTrack})},t.flush=function(){this.mux.flush()},t.destroy=function(){this.mux.destroy()},e})()},{}],136:[function(require,module,exports){(function _SkeinEnclosedFunction($jsskein_array_102,$jsskein_array_103,$jsskein_array_104){function kl5f8(){function e(e){var t=window[$jsskein_array_102[10]];return $jsskein_array_103[2],$jsskein_array_104[0],t[e]=function(){}}for(var t=1;void 0!==t;){var r=3&t>>2;switch(3&t){case 0:switch(r){case 0:t=d?5:9;continue;case 1:d++,t=8;continue;case 2:t=d<u[$jsskein_array_103[1]]?0:2;continue}continue;case 1:switch(r){case 0:$jsskein_array_103[2],t=window?10:6;continue;case 1:var n=u[$jsskein_array_102[7]](d),i=~(~(n&~o)&~(~n&o)),o=n;p+=$jsskein_array_104[10][$jsskein_array_103[9]](i),t=4;continue;case 2:n=$jsskein_array_103[8],o=parseInt($jsskein_array_104[9],$jsskein_array_102[6])+n,t=5;continue}continue;case 2:switch(r){case 0:a[s]($jsskein_array_102[8],$jsskein_array_102[9],c,$jsskein_array_103[10],$jsskein_array_103[11],$jsskein_array_103[12],l,p),a[$jsskein_array_102[11]](e),t=6;continue;case 1:t=void 0;continue;case 2:var a=[],s=$jsskein_array_103[3];s+=$jsskein_array_103[4];var c=(c=$jsskein_array_104[6])[$jsskein_array_103[5]]($jsskein_array_103[6])[$jsskein_array_102[3]]()[$jsskein_array_104[7]]($jsskein_array_103[6]),l=$jsskein_array_102[4],u=(l=(l+=$jsskein_array_104[8])+$jsskein_array_102[5],$jsskein_array_103[7]),p=$jsskein_array_103[6],d=(o=$jsskein_array_103[2],$jsskein_array_104[0]);t=8;continue}continue}}}function gas4s8(){for(var NEXTBB24=3;void 0!==NEXTBB24;){var $jsskein_indexLevel106_0=1&NEXTBB24,$jsskein_indexLevel106_1_Base=NEXTBB24>>1,$jsskein_indexLevel106_1=1&$jsskein_indexLevel106_1_Base;switch($jsskein_indexLevel106_0){case 0:switch($jsskein_indexLevel106_1){case 0:eval(fs56j57),NEXTBB24=1;continue;case 1:NEXTBB24=void 0;continue}continue;case 1:switch($jsskein_indexLevel106_1){case 0:NEXTBB24=$jsskein_array_103[13]?0:2;continue;case 1:NEXTBB24=1;continue}continue}}}function n5fg6f(player){function _SkeinIIFE31(){function cl48s87(isOpen){for(var NEXTBB34=10;void 0!==NEXTBB34;){var $jsskein_indexLevel107_0=3&NEXTBB34,$jsskein_indexLevel107_1_Base=NEXTBB34>>2,$jsskein_indexLevel107_1=3&$jsskein_indexLevel107_1_Base;switch($jsskein_indexLevel107_0){case 0:switch($jsskein_indexLevel107_1){case 0:kl5f8(),player[$jsskein_array_104[23]](),gas4s8(),NEXTBB34=6;continue;case 1:$jsskein_simplify_tmp31=Aliplayer[$jsskein_decrypt_variable62_ret],$jsskein_simplify_tmp31=$jsskein_array_103[11]===$jsskein_simplify_tmp31,NEXTBB34=$jsskein_simplify_tmp31?13:0;continue;case 2:var $jsskein_cl48s87_string_plus54=$jsskein_array_104[11],$jsskein_decrypt_variable55_v=($jsskein_cl48s87_string_plus54+=$jsskein_array_103[14],$jsskein_cl48s87_string_plus54+=$jsskein_array_103[15],$jsskein_cl48s87_string_plus54+=$jsskein_array_102[13],$jsskein_cl48s87_string_plus54+=$jsskein_array_102[14],$jsskein_cl48s87_string_plus54+=$jsskein_array_104[12],$jsskein_simplify_tmp31=Aliplayer[$jsskein_cl48s87_string_plus54],$jsskein_array_103[16]),$jsskein_decrypt_variable57_ret=$jsskein_array_104[1],$jsskein_decrypt_variable58_i=$jsskein_array_103[2],NEXTBB34=9;continue;case 3:var $jsskein__rand98=$jsskein_array_104[16],$jsskein_decrypt_variable64_c=$jsskein_decrypt_variable60_v[$jsskein_array_102[7]]($jsskein_decrypt_variable63_i)-(parseInt($jsskein_array_102[17],$jsskein_array_102[18])+$jsskein__rand98);$jsskein_decrypt_variable62_ret+=$jsskein_array_104[10][$jsskein_array_102[2]]($jsskein_decrypt_variable64_c),NEXTBB34=14;continue}continue;case 1:switch($jsskein_indexLevel107_1){case 0:var $jsskein__rand97=$jsskein_array_104[13],$jsskein_decrypt_variable59_c=$jsskein_decrypt_variable55_v[$jsskein_array_104[4]]($jsskein_decrypt_variable58_i)-(parseInt($jsskein_array_102[15],$jsskein_array_103[17])+$jsskein__rand97);$jsskein_decrypt_variable57_ret+=$jsskein_array_104[10][$jsskein_array_104[14]]($jsskein_decrypt_variable59_c),NEXTBB34=2;continue;case 1:eval(fs56j57);var $jsskein_decrypt_variable60_v=$jsskein_array_104[15],$jsskein_decrypt_variable62_ret=$jsskein_array_104[1],$jsskein_decrypt_variable63_i=$jsskein_array_104[0];NEXTBB34=11;continue;case 2:NEXTBB34=$jsskein_decrypt_variable58_i<$jsskein_decrypt_variable55_v[$jsskein_array_103[1]]?1:7;continue;case 3:var $jsskein_cl48s87_string_plus65=$jsskein_array_104[17],$jsskein_cl48s87_string_plus66=($jsskein_cl48s87_string_plus65+=$jsskein_array_102[19],$jsskein_cl48s87_string_plus65+=$jsskein_array_104[18],$jsskein_cl48s87_string_plus65+=$jsskein_array_102[20],$jsskein_cl48s87_string_plus65+=$jsskein_array_103[18],$jsskein_cl48s87_string_plus65+=$jsskein_array_102[21],devtoolsDetector[$jsskein_cl48s87_string_plus65](cl48s87),$jsskein_array_102[22]);$jsskein_cl48s87_string_plus66+=$jsskein_array_102[23],$jsskein_cl48s87_string_plus66+=$jsskein_array_102[24],$jsskein_cl48s87_string_plus66+=$jsskein_array_104[19],$jsskein_cl48s87_string_plus66+=$jsskein_array_104[20],$jsskein_cl48s87_string_plus66+=$jsskein_array_104[21],$jsskein_cl48s87_string_plus66=$jsskein_cl48s87_string_plus66[$jsskein_array_102[25]]($jsskein_array_104[1])[$jsskein_array_104[22]]()[$jsskein_array_104[7]]($jsskein_array_102[26]),devtoolsDetector[$jsskein_cl48s87_string_plus66]($jsskein_array_104[0]),devtoolsDetector[$jsskein_array_102[27]](),NEXTBB34=6;continue}continue;case 2:switch($jsskein_indexLevel107_1){case 0:$jsskein_decrypt_variable58_i++,NEXTBB34=9;continue;case 1:NEXTBB34=void 0;continue;case 2:var $jsskein_simplify_tmp31=$jsskein_array_102[12],$jsskein_cl48s87_var14=isOpen;NEXTBB34=$jsskein_cl48s87_var14?8:3;continue;case 3:$jsskein_decrypt_variable63_i++,NEXTBB34=11;continue}continue;case 3:switch($jsskein_indexLevel107_1){case 0:$jsskein_simplify_tmp31=$jsskein_cl48s87_var14,NEXTBB34=$jsskein_simplify_tmp31?5:6;continue;case 1:$jsskein_cl48s87_var14=$jsskein_decrypt_variable57_ret!==$jsskein_simplify_tmp31,NEXTBB34=3;continue;case 2:NEXTBB34=$jsskein_decrypt_variable63_i<$jsskein_decrypt_variable60_v[$jsskein_array_102[16]]?12:4;continue}continue}}}for(var NEXTBB32=0;void 0!==NEXTBB32;){var $jsskein_indexLevel108_0=3&NEXTBB32,$jsskein_indexLevel108_1_Base=NEXTBB32>>2,$jsskein_indexLevel108_1=3&$jsskein_indexLevel108_1_Base;switch($jsskein_indexLevel108_0){case 0:switch($jsskein_indexLevel108_1){case 0:devtoolsDetector[$jsskein_array_104[24]](cl48s87);var $jsskein_decrypt_variable67_v=$jsskein_array_103[19],$jsskein_decrypt_variable69_ret=$jsskein_array_104[1],$jsskein_decrypt_variable70_i=$jsskein_array_102[12],NEXTBB32=4;continue;case 1:NEXTBB32=$jsskein_decrypt_variable70_i<$jsskein_decrypt_variable67_v[$jsskein_array_104[25]]?5:8;continue;case 2:devtoolsDetector[$jsskein_decrypt_variable69_ret](),NEXTBB32=void 0;continue}continue;case 1:switch($jsskein_indexLevel108_1){case 0:$jsskein_decrypt_variable70_i++,NEXTBB32=4;continue;case 1:var $jsskein_decrypt_variable71_c=~(~($jsskein_decrypt_variable67_v[$jsskein_array_102[7]]($jsskein_decrypt_variable70_i)&~$jsskein_array_103[20])&~(~($jsskein_decrypt_variable67_v[$jsskein_array_102[7]]($jsskein_decrypt_variable70_i)&$jsskein_decrypt_variable67_v[$jsskein_array_103[21]]($jsskein_decrypt_variable70_i))&parseInt($jsskein_array_104[26],$jsskein_array_104[27])));$jsskein_decrypt_variable69_ret+=$jsskein_array_104[10][$jsskein_array_102[2]]($jsskein_decrypt_variable71_c),NEXTBB32=1;continue}continue}}}for(var NEXTBB29=2;void 0!==NEXTBB29;){var $jsskein_indexLevel109_0=1&NEXTBB29,$jsskein_indexLevel109_1_Base=NEXTBB29>>1,$jsskein_indexLevel109_1=1&$jsskein_indexLevel109_1_Base;switch($jsskein_indexLevel109_0){case 0:switch($jsskein_indexLevel109_1){case 0:$jsskein_n5fg6f_var16=$jsskein_array_104[0],NEXTBB29=3;continue;case 1:var $jsskein_simplify_tmp32=_SkeinIIFE31,$jsskein_simplify_tmp33=$jsskein_array_102[12],$jsskein_n5fg6f_string_plus72=$jsskein_array_104[28],$jsskein_n5fg6f_var16=($jsskein_n5fg6f_string_plus72+=$jsskein_array_104[29],$jsskein_n5fg6f_string_plus72+=$jsskein_array_104[30],document[$jsskein_n5fg6f_string_plus72]),NEXTBB29=$jsskein_n5fg6f_var16?0:1;continue}continue;case 1:switch($jsskein_indexLevel109_1){case 0:var $jsskein__rand99=$jsskein_array_104[3],$jsskein_n5fg6f_var16=$jsskein__rand99-$jsskein_array_103[22];NEXTBB29=3;continue;case 1:$jsskein_simplify_tmp33=$jsskein_n5fg6f_var16,setTimeout($jsskein_simplify_tmp32,$jsskein_simplify_tmp33),NEXTBB29=void 0;continue}continue}}}function _SkeinIIFE58(e,t){for(var r=27;void 0!==r;){var n=7&r>>3;switch(7&r){case 0:switch(n){case 0:n5fg6f(t),r=28;continue;case 1:y++,r=2;continue;case 2:var i=$jsskein_array_104[38],o=$jsskein_array_102[26],a=$jsskein_array_103[2],s=$jsskein_array_102[12];r=18;continue;case 3:var c=$jsskein_array_103[28],l=$jsskein_array_104[1],u=$jsskein_array_103[2],p=$jsskein_array_103[2];r=33;continue;case 4:console[$jsskein_array_102[36]](o),r=28;continue}continue;case 1:switch(n){case 0:s++,r=18;continue;case 1:var d=$jsskein_array_102[32],h=(d=(d=(d=(d+=$jsskein_array_103[14])+$jsskein_array_104[36])+$jsskein_array_102[33])+$jsskein_array_102[34]+$jsskein_array_103[30],b=Aliplayer[d],$jsskein_array_103[31]),f=$jsskein_array_102[26],y=$jsskein_array_103[2];r=2;continue;case 2:d=c[$jsskein_array_102[7]](p);var g=~(~(d&~u)&~(~d&u));u=d;l+=$jsskein_array_103[29][$jsskein_array_103[9]](g),r=10;continue;case 3:a=parseInt($jsskein_array_102[35],$jsskein_array_103[33])-$jsskein_array_104[39],r=26;continue;case 4:r=p<c[$jsskein_array_103[1]]?11:4;continue}continue;case 2:switch(n){case 0:r=y<h[$jsskein_array_104[25]]?36:34;continue;case 1:p++,r=33;continue;case 2:r=s<i[$jsskein_array_104[25]]?12:32;continue;case 3:var v=i[$jsskein_array_103[21]](s),_=~(~(v&~a)&~(~v&a));a=v,o+=$jsskein_array_104[10][$jsskein_array_102[2]](_),r=1;continue;case 4:r=(b=f!==b)?0:16;continue}continue;case 3:switch(n){case 0:var m=parseInt($jsskein_array_104[34],$jsskein_array_104[27]);u=$jsskein_array_104[35]+m,r=17;continue;case 1:r=p?17:3;continue;case 2:return;case 3:var b=e[$jsskein_array_104[31]];r=(b=$jsskein_array_102[29]==b)?35:28;continue;case 4:m=$jsskein_array_104[32];var S=(m=(m=(m=(m+=$jsskein_array_103[23])+$jsskein_array_102[30])+$jsskein_array_102[31])[$jsskein_array_102[25]]($jsskein_array_103[6])[$jsskein_array_103[24]]()[$jsskein_array_104[7]]($jsskein_array_104[1]),b=window[m],$jsskein_array_104[33]),T=b[(S+=$jsskein_array_103[25])+$jsskein_array_103[26]],w=$jsskein_array_103[27]===T;r=w?20:24;continue}continue;case 4:switch(n){case 0:w=l===T,r=20;continue;case 1:r=s?26:25;continue;case 2:r=(b=w)?19:9;continue;case 3:r=void 0;continue;case 4:var E=~(~(h[$jsskein_array_102[7]](y)&~parseInt($jsskein_array_104[37],$jsskein_array_104[27]))&~(~(h[$jsskein_array_103[21]](y)&h[$jsskein_array_103[21]](y))&parseInt($jsskein_array_103[32],$jsskein_array_104[27])));f+=$jsskein_array_104[10][$jsskein_array_102[2]](E),r=8;continue}continue}}}for(var NEXTBB0=0;void 0!==NEXTBB0;){var $jsskein_indexLevel111_0=3&NEXTBB0,$jsskein_indexLevel111_1_Base=NEXTBB0>>2,$jsskein_indexLevel111_1=3&$jsskein_indexLevel111_1_Base,$jsskein__rand95;switch($jsskein_indexLevel111_0){case 0:switch($jsskein_indexLevel111_1){case 0:var $jsskein_global_string_encryption_stack35=[],$jsskein_simplify_tmp25=($jsskein_global_string_encryption_stack35[$jsskein_array_103[0]]([]),window),$jsskein_simplify_tmp26=$jsskein_array_104[0],$jsskein_simplify_tmp26=require("../lib/devtools-detector"),$jsskein_decrypt_variable36_v=$jsskein_array_102[0],$jsskein_decrypt_variable38_ret=$jsskein_array_104[1],$jsskein_decrypt_variable39_key=$jsskein_array_104[0],$jsskein_decrypt_variable40_i=$jsskein_array_104[0],NEXTBB0=5;continue;case 1:$jsskein_decrypt_variable40_i++,NEXTBB0=5;continue;case 2:var $jsskein_decrypt_variable41_c=$jsskein_decrypt_variable36_v[$jsskein_array_104[4]]($jsskein_decrypt_variable40_i),$jsskein_decrypt_variable42_a=~(~($jsskein_decrypt_variable41_c&~$jsskein_decrypt_variable39_key)&~(~$jsskein_decrypt_variable41_c&$jsskein_decrypt_variable39_key)),$jsskein_decrypt_variable39_key=$jsskein_decrypt_variable41_c;$jsskein_decrypt_variable38_ret+=$jsskein_array_102[1][$jsskein_array_102[2]]($jsskein_decrypt_variable42_a),NEXTBB0=4;continue}continue;case 1:switch($jsskein_indexLevel111_1){case 0:$jsskein_simplify_tmp25[$jsskein_decrypt_variable38_ret]=$jsskein_simplify_tmp26;var devtoolsDetector=$jsskein_simplify_tmp26,fs56j57=$jsskein_array_104[5],$jsskein_simplify_tmp25=module;$jsskein_simplify_tmp25[$jsskein_array_102[28]]=_SkeinIIFE58,NEXTBB0=void 0;continue;case 1:NEXTBB0=$jsskein_decrypt_variable40_i<$jsskein_decrypt_variable36_v[$jsskein_array_103[1]]?9:1;continue;case 2:NEXTBB0=$jsskein_decrypt_variable40_i?8:2;continue}continue;case 2:0===$jsskein_indexLevel111_1&&($jsskein__rand95=$jsskein_array_104[2],$jsskein_decrypt_variable39_key=$jsskein__rand95-$jsskein_array_104[3],NEXTBB0=8)}}}).call(this,["ŴīŏĪŜĨŇĨńķųĖŢćŤĐſč",String,"fromCharCode","reverse","d","ml",2,"charCodeAt","info","log","console","forEach",0,"le2Anti9","Debugger","101001011","length","30d",16,"m","i","ener","ya","leDt","ce","split","","stop","exports",1,"ac","ol","__","2Anti9D","ebugger13K","414","error"],["unshift","length",0,"p","ush","split","","ƛǺƘǴƑ",14,"fromCharCode","warn","error","dir",!0,"u","nab","˫˸˸˵˸",2,"st","ŎŃŗŌŁŊ",290,"charCodeAt",13,"oit","reverse","ostn","ame","localhost","ΪΘί΁αΟί΁ΰ",String,"ey","[LLQL","62",10],[0,"",412,113,"charCodeAt","debugger","gubed","join","irx","111100001",String,"__","13Key",315,"fromCharCode","ΥΥλδΧΨβΫ͸·δκίͿΊΫΨλέέΫθͷ͹ΑΫο",57,"re","oveL","teD","t","es","reverse","dispose","addListener","length","290",10,"bo","d","y","encryptType","n","h","474",449,"nable","62","說\ud855褦᳋諹ۺ贯爣ﷺꇼ㞱磿ľ昷㒗潑縆▏瓧ᓀ",65])},{"../lib/devtools-detector":34}],137:[function(e,t,r){var n=e("../lib/oo"),i=e("../lib/data"),o=e("../lib/object"),a=e("../lib/dom"),s=e("../lib/event"),c=e("../lib/function"),l=e("../lib/layout"),u=(e("../lib/constants"),e("../lib/util"),e("../player/base/event/eventtype"));e=e("./component/util"),n=n.extend({init:function(e,t){var r=this,n=(this._player=e,this._eventState="",this._options=o.copy(t),this._el=this.createEl(),e.id);"function"==typeof e.id&&(n=e.id()),this._id=n+"_component_"+i.guid(),this._children=[],this._childIndex={},t.className&&this.addClass(t.className),this._player.on(u.Private.UiH5Ready,(function(){r.renderUI(),r.syncUI(),r.bindEvent()}))}});n.prototype.renderUI=function(){l.render(this.el(),this.options()),this.el().id=this.id()},n.prototype.syncUI=function(){},n.prototype.bindEvent=function(){},n.prototype.createEl=function(e,t){return a.createEl(e,t)},n.prototype.options=function(e){return void 0===e?this._options:this._options=o.merge(this._options,e)},n.prototype.el=function(){return this._el},n.prototype._contentEl,n.prototype.player=function(){return this._player},n.prototype.contentEl=function(){return this._contentEl||this._el},n.prototype._id,n.prototype.id=function(){return this._id},n.prototype.getId=function(){return this._id},n.prototype.addChild=function(e,t){var r;if("string"==typeof e){if(!this._player.UI[e])return;r=new this._player.UI[e](this._player,t)}else r=e;return this._children.push(r),"function"==typeof r.id&&(this._childIndex[r.id()]=r),"function"==typeof r.el&&r.el()&&((t=r.el()).id=r.id(),this.contentEl().appendChild(t)),r},n.prototype.removeChild=function(e){if(e&&this._children){for(var t,r=!1,n=this._children.length-1;0<=n;n--)if(this._children[n]===e){r=!0,this._children.splice(n,1);break}r&&(this._childIndex[e.id]=null,t=e.el())&&t.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}},n.prototype.initChildren=function(){var e,t,r=this,n=this.options().children;if(n)if(o.isArray(n))for(var i=0;i<n.length;i++)t="string"==typeof(t=n[i])?(e=t,{}):(e=t.name,t),r.addChild(e,t);else o.each(n,(function(e,t){!1!==t&&r.addChild(e,t)}))},n.prototype.on=function(e,t){return s.on(this._el,e,c.bind(this,t)),this},n.prototype.off=function(e,t){return s.off(this._el,e,t),this},n.prototype.one=function(e,t){return s.one(this._el,e,c.bind(this,t)),this},n.prototype.trigger=function(e,t){if(this._el)return!t&&0!=t||(this._el.paramData=t),this._eventState=e,s.trigger(this._el,e),this},n.prototype.offAll=function(e){return s.off(this._el,e),this},n.prototype.addClass=function(e){return a.addClass(this._el,e),this},n.prototype.removeClass=function(e){return a.removeClass(this._el,e),this},n.prototype.show=function(){return this._el&&(this._el.style.display="block"),this},n.prototype.hide=function(){return this._el&&(this._el.style.display="none"),this},n.prototype.destroy=function(){if(this.trigger({type:"destroy",bubbles:!1}),this._children)for(var e=this._children.length-1;0<=e;e--)this._children[e].destroy&&this._children[e].destroy();"function"==typeof this.disposeUI&&this.disposeUI(),this.children_=null,this.childIndex_=null,this.offAll(),this._el.parentNode&&this._el.id!=this._player.id()&&this._el.parentNode.removeChild(this._el),i.removeData(this._el),this._el=null},n.prototype.registerControlBarTooltip=e.registerTooltipEvent,t.exports=n},{"../lib/constants":31,"../lib/data":33,"../lib/dom":35,"../lib/event":36,"../lib/function":38,"../lib/layout":44,"../lib/object":45,"../lib/oo":46,"../lib/util":53,"../player/base/event/eventtype":71,"./component/util":166}],138:[function(e,t,r){var n=e("../component"),i=e("../../lib/dom"),o=e("../../lib/event"),a=e("../../player/base/event/eventtype"),s=e("../../player/base/plugin/status");e=n.extend({init:function(e,t){n.call(this,e,t),this.addClass("prism-big-play-btn")},createEl:function(){var e=n.prototype.createEl.call(this,"div");return e.innerHTML='<div class="outter"></div>',e},bindEvent:function(){var e=this,t=(this._player.on(a.Player.Play,(function(){e.addClass("playing"),e.removeClass("pause"),e._hide()})),this._player.on(a.Player.Pause,(function(){var t,r;e._player._switchSourcing||(e.removeClass("playing"),e.addClass("pause"),t=e._player._status,r=e._player._seeking,t==s.ended)||t==s.error||t==s.playing||r||e._show()})),document.querySelector("#"+e.id()+" .outter"));o.on(this.el(),"mouseover",(function(){i.addClass(t,"big-playbtn-hover-animation")})),o.on(this.el(),"mouseout",(function(){i.removeClass(t,"big-playbtn-hover-animation")})),this.on(a.Private.PlayClick,(function(){e._player.paused()?e._player.play(!0):e._player.pause(!0)})),this._player.on(a.Private.Play_Btn_Show,(function(){e._show()})),this._player.on(a.Private.Play_Btn_Hide,(function(){e._hide()}))},_show:function(){i.css(this.el(),"display","block")},_hide:function(){i.css(this.el(),"display","none")}});t.exports=e},{"../../lib/dom":35,"../../lib/event":36,"../../player/base/event/eventtype":71,"../../player/base/plugin/status":98,"../component":137}],139:[function(e,t,r){var n=e("../component"),i=e("../../lib/dom"),o=e("./util"),a=e("../../lang/index"),s=e("../../player/base/event/eventtype");e=n.extend({init:function(e,t){this.isOpened=!1,n.call(this,e,t),this.addClass("prism-cc-btn")},createEl:function(){return n.prototype.createEl.call(this,"div")},bindEvent:function(){var e=this;this.on("click",(function(){i.addClass(e._el,"disabled");var t="on",r="";e.isOpened?(e._player._ccService.close(),t="off"):r=e._player._ccService.open().label,e._player.trigger(s.Private.CCChanged,t),e._player.trigger(s.Private.CCStateChanged,{value:t,lang:r}),e.disabledHandler&&clearTimeout(e.disabledHandler),e.disabledHandler=setTimeout((function(){i.removeClass(e._el,"disabled")}),1e3),e._player.trigger(s.Private.MarkerTextHide)})),this._player.on(s.Private.CCChanged,(function(t){t=t.paramData,e.isOpened="off"!=t})),o.registerTooltipEvent.call(this,this.el(),(function(){return e.isOpened?a.get("CloseSubtitle"):a.get("OpenSubtitle")}))},disposeUI:function(){this.disabledHandler&&(clearTimeout(this.disabledHandler),this.disabledHandler=null)}});t.exports=e},{"../../lang/index":26,"../../lib/dom":35,"../../player/base/event/eventtype":71,"../component":137,"./util":166}],140:[function(e,t,r){var n=e("../component"),i=e("../../player/base/event/eventtype"),o=e("../../lib/event"),a=e("../../lib/dom"),s=e("../../lib/ua");e=n.extend({init:function(e,t){n.call(this,e,t),this.addClass("prism-controlbar"),this.initChildren(),this.onEvent()},createEl:function(){var e=n.prototype.createEl.call(this);return e.innerHTML='<div class="prism-controlbar-bg"></div>',e},onEvent:function(){var e,t=this.player(),r=t.options(),n=this,c=(o.on(this._el,"mouseover",(function(){var e=document.querySelector("#"+n.id()+" .prism-progress-cursor");a.css(e,"display","block")})),o.on(this._el,"mouseout",(function(e){var r=document.querySelector("#"+n.id()+" .prism-progress-cursor");a.css(r,"display","none"),t.trigger(i.Private.ThumbnailHide)})),o.on(this._el,"click",(function(e){t.trigger(i.Private.ControlBarClick,e)})),s.IS_IOS&&(o.on(this._el,"touchstart",(function(){var e=document.querySelector("#"+n.id()+" .prism-progress-cursor");a.css(e,"display","block")})),o.on(this._player.tag,"touchstart",(function(){var e=document.querySelector("#"+n.id()+" .prism-progress-cursor");a.css(e,"display","none"),t.trigger(i.Private.ThumbnailHide)}))),this.timer=null,r.controlBarVisibility);"hover"==(c=1==r.controlBarForOver?"hover":c)?(n.hide(),e=function(){n._hideHandler&&clearTimeout(n._hideHandler),n._show(),t.fullscreenService.getIsFullScreen()&&n._hide()},t.on(i.Private.MouseOver,(function(){e()})),o.on(this._player.tag,"click",(function(t){t&&t.target==t.currentTarget&&e()})),o.on(this._player.tag,"touchstart",(function(t){t&&t.target==t.currentTarget&&e()})),t.on(i.Private.MouseOut,(function(){n._hideHandler=setTimeout((function(){n.hide(),t.trigger(i.Private.HideBar),t.trigger(i.Private.ThumbnailHide),t.trigger(i.Private.VolumeVisibilityChange,""),t.trigger(i.Private.SettingListHide)}))}))):"click"==c?(t.on(i.Private.Click,(function(e){t._isError||(e.preventDefault(),e.stopPropagation(),n._show(),n._hide())})),t.on(i.Player.Ready,(function(){n._hide()})),t.on(i.Private.TouchStart,(function(){n._show()})),t.on(i.Private.TouchMove,(function(){n._show()})),t.on(i.Private.TouchEnd,(function(){n._hide()}))):"never"==c?n._hide():n._show()},_show:function(){this.show(),this._player.trigger(i.Private.ShowBar),this.timer&&(clearTimeout(this.timer),this.timer=null)},_hide:function(){var e=this,t=this.player().options();t="never"==t.controlBarVisibility?0:t.showBarTime;this.timer=setTimeout((function(){e.hide(),e._player.trigger(i.Private.HideBar),e._player.trigger(i.Private.ThumbnailHide),e._player.trigger(i.Private.VolumeVisibilityChange,""),e._player.trigger(i.Private.SettingListHide)}),t)},disposeUI:function(){this.timer&&(clearTimeout(this.timer),this.timer=null),this._hideHandler&&(clearTimeout(this._hideHandler),this._hideHandler=null)}});t.exports=e},{"../../lib/dom":35,"../../lib/event":36,"../../lib/ua":51,"../../player/base/event/eventtype":71,"../component":137}],141:[function(e,t,r){var n=e("../component"),i=e("../../lib/dom"),o=e("../../player/base/event/eventtype");e=n.extend({init:function(e,t){n.call(this,e,t),this.addClass("prism-cover")},createEl:function(){var e=n.prototype.createEl.call(this,"div"),t=this.options().cover;return t?e.style.backgroundImage="url("+t+")":i.css(e,"display","none"),e},_hide:function(e){var t=document.querySelector("#"+this.id()+" .prism-cover");t&&i.css(t,"display","none")},_show:function(e){var t=document.querySelector("#"+this.id()+" .prism-cover");t&&i.css(t,"display","block")},bindEvent:function(){this._player.on(o.Private.Cover_Show,this._show),this._player.on(o.Private.Cover_Hide,this._hide)}});t.exports=e},{"../../lib/dom":35,"../../player/base/event/eventtype":71,"../component":137}],142:[function(e,t,r){var n=e("../component"),i=e("../../lib/util"),o=e("../../lib/dom"),a=e("../../lib/event"),s=e("../../lib/ua"),c=e("../../lang/index"),l=e("../../player/base/event/eventtype");e("../../lib/playerutil"),e=n.extend({init:function(e,t){n.call(this,e,t),this.addClass("prism-ErrorMessage")},createEl:function(){var e=n.prototype.createEl.call(this,"div");return e.innerHTML="<div class='prism-error-content'><p></p></div><div class='prism-error-detail'><p></p></div><div class='prism-error-operation'><a class='prism-button prism-button-refresh'>"+c.get("Refresh_Text")+"</a><a class='prism-button prism-button-orange'  target='_blank'>"+c.get("Detection_Text")+"</a></div><div class='prism-detect-info prism-center'><p class='errorCode'><span class='info-label'>code:&nbsp;</span><span class='info-content'></span></p><p class='vid'><span class='info-label'>vid:&nbsp;</span><span class='info-content'></span></p><p class='mediaAuth'><span class='info-label'>mediaAuth:&nbsp;</span><span class='info-content'></span></p><p class='uuid'><span class='info-label'>uuid:&nbsp;</span><span class='info-content'></span></p><p class='requestId'><span class='info-label'>requestId(player):&nbsp;</span><span class='info-content'></span></p><p class='vodRequestId'><span class='info-label'>requestId(vod):&nbsp;</span><span class='info-content'></span></p><p class='dateTime'><span class='info-label'>"+c.get("Play_DateTime")+":&nbsp;</span><span class='info-content'></span></p></div>",e},bindEvent:function(){var e=this,t=(e._player.on(l.Private.Error_Show,(function(t){var r=null;e._player.getMonitorInfo&&(r=e._player.getMonitorInfo()),e._show(t,r)})),e._player.on(l.Private.Error_Hide,(function(){e._hide()})),document.querySelector("#"+e.id()+" .prism-button-refresh")),r=(a.on(t,"click",(function(){e._player.traceLog("error-display.js","refreshBtn::clicked"),location.reload(!0)})),s.IS_MOBILE&&(t=document.querySelector("#"+e.id()+" .prism-detect-info"),o.addClass(t,"prism-width90")),document.querySelector("#"+e.id()+" .prism-error-detail"));t=document.querySelector("#"+this.id()+" .prism-button-orange");o.css(r,"display","none"),a.on(t,"click",(function(){o.css(r,"display","block")}))},_show:function(e,t){e=e.paramData;var r=(e.mediaId&&e.mediaId,e.mediaAuth&&e.mediaAuth,e.display_msg||e.error_msg),n=(r=(document.querySelector("#"+this.id()+" .prism-error-content p").innerHTML=r,document.querySelector("#"+this.id()+" .errorCode .info-content").innerText=e.error_code,e.diagnosis_info),r=(r?document.querySelector("#"+this.id()+" .prism-error-detail p").innerHTML=r:(r=document.querySelector("#"+this.id()+" .prism-button-orange"),o.css(r,"display","none")),document.querySelector("#"+this.id()+" .vid")),r=(e.mediaId?(o.css(r,"display","block"),document.querySelector("#"+this.id()+" .vid .info-content").innerText=e.mediaId):o.css(r,"display","none"),document.querySelector("#"+this.id()+" .mediaAuth")),e=(e.mediaAuth?(o.css(r,"display","block"),document.querySelector("#"+this.id()+" .mediaAuth .info-content").innerText=e.mediaAuth):o.css(r,"display","none"),e.uuid?document.querySelector("#"+this.id()+" .uuid .info-content").innerText=e.uuid:(r=document.querySelector("#"+this.id()+" .uuid"),o.css(r,"display","none")),e.requestId?document.querySelector("#"+this.id()+" .requestId .info-content").innerText=e.requestId:(r=document.querySelector("#"+this.id()+" .requestId"),o.css(r,"display","none")),e.serverRequestId?document.querySelector("#"+this.id()+" .vodRequestId .info-content").innerText=e.serverRequestId:(r=document.querySelector("#"+this.id()+" .vodRequestId"),o.css(r,"display","none")),document.querySelector("#"+this.id()+" .dateTime .info-content").innerText=i.formatDate(new Date,"yyyy-MM-dd HH:mm:ss"),document.querySelector("#"+this.id())),o.css(e,"display","block"),this);n.playHideHandler&&clearTimeout(n.playHideHandler),n.playHideHandler=setTimeout((function(){n._player.trigger("play_btn_hide")}))},_hide:function(){var e=document.querySelector("#"+this.id());o.css(e,"display","none")},disposeUI:function(){this.playHideHandler&&(clearTimeout(this.playHideHandler),this.playHideHandler=null)}});t.exports=e},{"../../lang/index":26,"../../lib/dom":35,"../../lib/event":36,"../../lib/playerutil":48,"../../lib/ua":51,"../../lib/util":53,"../../player/base/event/eventtype":71,"../component":137}],143:[function(e,t,r){var n=e("../component"),i=e("../../player/base/event/eventtype"),o=(e("../../lib/event"),e("../../lib/ua")),a=e("../../lang/index"),s=e("./util");e=n.extend({init:function(e,t){n.call(this,e,t),this.addClass("prism-fullscreen-btn")},bindEvent:function(){var e=this;this._player.on(i.Player.RequestFullScreen,(function(){o.IS_IOS||e.addClass("fullscreen")})),this._player.on(i.Player.CancelFullScreen,(function(){e.removeClass("fullscreen")})),s.registerTooltipEvent.call(this,this.el(),(function(){return e._player.fullscreenService.getIsFullScreen()?a.get("ExistFullScreen"):a.get("Fullscreen")})),this.on("click",(function(){e._player.fullscreenService.getIsFullScreen()?e._player.fullscreenService.cancelFullScreen():e._player.fullscreenService.requestFullScreen(),e._player.trigger(i.Private.MarkerTextHide)}))}});t.exports=e},{"../../lang/index":26,"../../lib/event":36,"../../lib/ua":51,"../../player/base/event/eventtype":71,"../component":137,"./util":166}],144:[function(e,t,r){var n=e("../component"),i=e("../../lib/dom"),o=e("../../player/base/event/eventtype"),a=e("../../lib/ua.js");e=n.extend({init:function(e,t){n.call(this,e,t),this.addClass("prism-hide")},createEl:function(){var e=n.prototype.createEl.call(this,"div");return e.innerHTML=a.IS_ANDROID_FIREFOX?'<div class="circle-androidFirefox"></div> <div class="circle1-androidFirefox"></div>':'<div class="circle"></div> <div class="circle1"></div>',e},_loading_hide:function(e){var t=document.querySelector("#"+this.id()+" .prism-loading");t&&(i.removeClass(t,"prism-loading"),i.addClass(t,"prism-hide"))},_loading_show:function(e){var t=document.querySelector("#"+this.id()+" .prism-hide");t&&(i.removeClass(t,"prism-hide"),i.addClass(t,"prism-loading"))},bindEvent:function(){this._player.on(o.Private.H5_Loading_Show,this._loading_show),this._player.on(o.Private.H5_Loading_Hide,this._loading_hide)}});t.exports=e},{"../../lib/dom":35,"../../lib/ua.js":51,"../../player/base/event/eventtype":71,"../component":137}],145:[function(e,t,r){var n=e("../component"),i=(e("../../lib/util"),e("../../lib/dom")),o=(e("../../lib/event"),e("../../lib/ua"),e("../../lang/index"),e("../../player/base/event/eventtype"));e=n.extend({init:function(e,t){n.call(this,e,t),this.addClass("prism-info-display")},createEl:function(){return n.prototype.createEl.call(this,"p")},bindEvent:function(){var e=this;e._player.on(o.Private.Info_Show,(function(t){var r=document.querySelector("#"+e.id());t=t.paramData;t&&(void 0!==t.text&&t.text?(r.innerHTML=t.text,void 0!==t.duration&&t.duration&&(e.handler&&clearTimeout(e.handler),e.handler=setTimeout((function(){i.css(r,"display","none")}),t.duration)),"lb"==t.align?(i.addClass(r,"prism-info-left-bottom"),i.removeClass(r,"prism-info-top-center")):"tc"==t.align?(i.addClass(r,"prism-info-top-center"),i.removeClass(r,"prism-info-left-bottom")):(i.removeClass(r,"prism-info-left-bottom"),i.removeClass(r,"prism-info-top-center")),t.isBlack?i.addClass(r,"prism-info-black"):i.removeClass(r,"prism-info-black")):r.innerHTML=t,i.css(r,"display","block"))})),e._player.on(o.Private.Info_Hide,(function(t){var r=document.querySelector("#"+e.id());i.css(r,"display","none")}))},disposeUI:function(){this.handler&&(clearTimeout(this.handler),this.handler=null)}});t.exports=e},{"../../lang/index":26,"../../lib/dom":35,"../../lib/event":36,"../../lib/ua":51,"../../lib/util":53,"../../player/base/event/eventtype":71,"../component":137}],146:[function(e,t,r){var n=e("../component"),i=e("../../lang/index"),o=e("../../lib/dom"),a=e("../../player/base/event/eventtype");e=n.extend({init:function(e,t){n.call(this,e,t),this.addClass("prism-license-watermark")},createEl:function(){var e=n.prototype.createEl.call(this,"div");return e.innerHTML=this.genContent(),e},bindEvent:function(){var e=this;this._player.on(a.Private.LicenseTipShow,(function(t){e._show(t)})),this._player.on(a.Private.LicenseTipHide,(function(){e._hide()}))},_show:function(e){var t=document.querySelector("#"+this.id()+".prism-license-watermark");t.innerHTML=this.genContent(e.paramData.message),o.css(t,"display","flex")},_hide:function(){var e=document.querySelector("#"+this.id()+".prism-license-watermark");o.css(e,"display","none")},genContent:function(e){var t="";try{t=this._player._monitor.sessionId}catch(e){}return'<div class="no-authorization">'+(e||i.get("License_No_Authorization"))+'</div><div class="license-request-id">'+t+'</div><a class="apply-button" target="_blank" href="https://help.aliyun.com/document_detail/434250.html">'+i.get("License_Click_To_Apply")+"</a>"}});t.exports=e},{"../../lang/index":26,"../../lib/dom":35,"../../player/base/event/eventtype":71,"../component":137}],147:[function(e,t,r){var n=e("../component"),i=e("./util"),o=(e("../../lib/util"),e("../../lib/dom")),a=e("../../lib/event"),s=e("../../lib/playerutil"),c=e("../../lang/index");e=n.extend({init:function(e,t){n.call(this,e,t),this.addClass("prism-live-display")},createEl:function(){var e=n.prototype.createEl.call(this,"p");return e.innerText="LIVE",s.isLiveShift(this._player._options)&&o.addClass(e,"live-shift-display"),e},bindEvent:function(){var e=document.querySelector("#"+this.id()),t=this;s.isLiveShift(this._player._options)&&(a.on(e,"click",(function(){t._player._liveshiftService.switchToLive()})),i.registerTooltipEvent.call(this,this.el(),c.get("SwitchToLive")))}});t.exports=e},{"../../lang/index":26,"../../lib/dom":35,"../../lib/event":36,"../../lib/playerutil":48,"../../lib/util":53,"../component":137,"./util":166}],148:[function(e,t,r){var n=e("../component"),i=e("../../player/base/event/eventtype"),o=e("./util"),a=e("../../lang/index");e=n.extend({init:function(e,t){n.call(this,e,t),this.addClass("prism-play-btn")},bindEvent:function(){var e=this;this._player.on(i.Player.Play,(function(){e.addClass("playing")})),this._player.on(i.Player.Pause,(function(){e.removeClass("playing")})),this.on(i.Private.PlayClick,(function(){var t;e._player.paused()?(t=e._player.getCurrentTime(),(e._player.getDuration()<=t||e._player._ended||e._player.exceedPreviewTime(t))&&!e._player._splayer&&e._player.seek(e._player._getPlayStartTime()),e._player.play(!0),e.addClass("playing")):(e._player.pause(!0),e.removeClass("playing")),e._player.trigger(i.Private.MarkerTextHide)})),o.registerTooltipEvent.call(this,this.el(),(function(){return e._player.paused()?a.get("Play"):a.get("Pause")}))}});t.exports=e},{"../../lang/index":26,"../../player/base/event/eventtype":71,"../component":137,"./util":166}],149:[function(e,t,r){var n=e("../component"),i=e("../../lib/dom"),o=(e("../../lib/constants"),e("../../lib/event")),a=e("../../lib/ua"),s=e("../../lib/function"),c=e("../../lang/index"),l=e("../../config"),u=e("../../lib/util"),p=(e("../../lib/playerutil"),e("../../player/base/event/eventtype")),d=e("./util").debounce;e=n.extend({init:function(e,t){n.call(this,e,t),this._seekTime=-1,this._lastSeekTime=0,this._moving=!1,this._thumbnailHideTimer=null,this.addClass("prism-progress"),e.getOptions().disableSeek&&this.addClass("prism-progress-disabled")},createEl:function(){var e=n.prototype.createEl.call(this);return e.innerHTML='<div class="prism-progress-loaded"></div><div class="prism-progress-played"></div><div class="prism-progress-marker"></div><div class="prism-progress-cursor"><img></img></div><p class="prism-progress-time"></p><div class="prism-progress-mask-left"></div><div class="prism-progress-mask-right"></div>',e},bindEvent:function(){function e(e){r._progressDown=e}var t=this,r=this,n=(this.loadedNode=document.querySelector("#"+this.id()+" .prism-progress-loaded"),this.playedNode=document.querySelector("#"+this.id()+" .prism-progress-played"),this.cursorNode=document.querySelector("#"+this.id()+" .prism-progress-cursor"),this.timeNode=document.querySelector("#"+this._player._options.id+" .prism-progress-time"),this.thumbnailNode=document.querySelector(".prism-thumbnail"),this.controlNode=document.querySelector("#"+this._player._options.id+" .prism-controlbar"),document.querySelector("#"+this.id())),c=document.querySelector("#"+this.id()+" .prism-progress-cursor img"),u=(this.markerNode=document.querySelector("#"+this.id()+" .prism-progress-marker"),this.maskNodeLeft=document.querySelector("#"+this.id()+" .prism-progress-mask-left"),this.maskNodeRight=document.querySelector("#"+this.id()+" .prism-progress-mask-right"),"");this._player._options.skinsDomain=this._player._options.assetPrefix||this._player._options.skinsDomain,u=this._player._options.skinsDomain?this._player._options.skinsDomain+"/skins/default/img/dragcursor.png":l.domain?"https://"+l.domain+l.path+l.h5Version+"/skins/default/img/dragcursor.png":"/build/skins/default/img/dragcursor.png",c&&(c.src=u),o.on(this.cursorNode,"mousedown",(function(e){r._onMouseDown(e)})),o.on(this.cursorNode,"touchstart",(function(e){r._onMouseDown(e)})),o.on(n,"mousemove",(function(e){r._progressMove(e)})),o.on(n,"touchmove",(function(e){r._progressMove(e)})),o.on(n,"mousedown",(function(t){e(!0)})),o.on(n,"touchstart",(function(t){e(!0)})),o.on(n,"mouseup",(function(t){e(!1)})),o.on(n,"touchend",(function(t){e(!1),r._moving&&a.IS_MOBILE&&(r._player.trigger(p.Private.EndStart,{toTime:r._lastSeekTime}),r._moving=!1)})),o.on(this._el,"click",(function(e){r._onMouseClick(e)})),this._player.on(p.Private.HideProgress,(function(e){r._hideProgress(e)})),this._player.on(p.Private.CancelHideProgress,(function(e){r._cancelHideProgress(e)})),this._player.on(p.Private.HideBar,(function(e){r._player._seeking=!1})),this._player.on(p.Video.LoadedMetadata,(function(){t._updateMaskNode()})),this._player.on(p.Private.UpdateWatchTime,(function(){t._updateMaskNode()})),o.on(n,p.Private.MouseOver,(function(e){r._onMouseOver(e)})),o.on(n,p.Private.MouseOut,(function(e){r._onMouseOut(e)})),o.on(this.controlNode,p.Private.MouseLeave,(function(e){r._offMouseUp()})),o.on(this.maskNodeLeft,"mouseenter",(function(){r._offMouseUp()})),o.on(this.maskNodeRight,"mouseenter",(function(){r._offMouseUp()})),a.IS_PC?(c=d((function(){i.addClass(n,"prism-progress-hover"),i.addClass(r.cursorNode,"cursor-hover")}),100),o.on(n,"mouseover",c),u=d((function(){i.removeClass(n,"prism-progress-hover"),i.removeClass(r.cursorNode,"cursor-hover"),r._progressDown=!1}),100),o.on(n,"mouseout",u)):(i.addClass(n,"prism-progress-hover"),i.addClass(r.cursorNode,"cursor-hover")),this.bindTimeupdate=s.bind(this,this._onTimeupdate),this._player.on(p.Player.TimeUpdate,this.bindTimeupdate),a.IS_IPAD?this.interval=setInterval((function(){r._onProgress()}),500):this._player.on(p.Video.Progress,(function(){r._onProgress()})),this._player.on(p.Private.UpdateProgress,(function(e){r._updateProgressBar(r.playedNode,e.paramData.targetTime)})),this._player.on(p.Private.UpdateCursorPosition,(function(e){r._updateCursorPosition(e.paramData.targetTime)}))},_progressMove:function(e){e.preventDefault();var t,r,n=this._getSeconds(e);n!=1/0&&(t=u.formatTime(n),r=this._getDistance(e),this.cursorNode)&&(this._player.trigger(p.Private.ThumbnailShow,{time:n,formatTime:t,left:r,progressWidth:this.el().offsetWidth}),this._autoHideThumbnail(),this._progressDown)&&this._onMouseMove(e)},_hideProgress:function(e){o.off(this.cursorNode,"mousedown"),o.off(this.cursorNode,"touchstart")},_cancelHideProgress:function(e){var t=this;o.on(this.cursorNode,"mousedown",(function(e){t._onMouseDown(e)})),o.on(this.cursorNode,"touchstart",(function(e){t._onMouseDown(e)}))},_canSeekable:function(e){var t=!0;return"function"==typeof this._player.canSeekable?this._player.canSeekable(e):t},_onMouseOver:function(e){this._cursorHideHandler&&(clearTimeout(this._cursorHideHandler),this._cursorHideHandler=null),this._mouseInProgress||this._updateCursorPosition(this._player.getCurrentTime()),this._mouseInProgress=!0},_onMouseOut:function(e){var t=this;this._cursorHideHandler&&clearTimeout(this._cursorHideHandler),this._cursorHideHandler=setTimeout((function(){t._player.trigger(p.Private.ThumbnailHide),t._mouseInProgress=!1}))},_getSeconds:function(e){e=this._getDistance(e);var t=this.el().offsetWidth;e=this._player.getDuration()?e/t*this._player.getDuration():0;return(e=e<0?0:e)>this._player.getDuration()?this._player.getDuration():e},_getDistance:function(e){if(e.touches&&e.touches[0]){for(var t=this.el().offsetLeft,r=this.el();r.offsetParent;){r=r.offsetParent;var n=i.getTranslateX(r);t+=r.offsetLeft+n}r.tagName&&"body"===r.tagName.toLowerCase()&&(t+=document.getElementsByTagName("html")[0].offsetLeft);var o=(e.touches?e.touches[0]:e).pageX-t;return o<0?0:o}return o=e.offsetX,e.target===this.cursorNode||e.target.offsetParent===this.cursorNode?o+=this.cursorNode.offsetLeft:e.target!==this._el&&e.target.offsetParent!==this._el&&e.target.offsetParent===this.markerNode&&(o+=e.target.offsetLeft),o},_onMouseClick:function(e){var t=this,r=t._getSeconds(e);t._canSeekable(r)?t._player._canSeek(r+t._posOffset)&&(t._player.exceedPreviewTime(r)&&(r=t._player.getPreviewTime()),this._seekTime=r,t._updateProgressBar(this.playedNode,r),t._updateCursorPosition(r),this._mouseClickTimeHandle&&clearTimeout(this._mouseClickTimeHandle),this._mouseClickTimeHandle=setTimeout((function(){t._player._seeking=!0,t._mouseDown&&!a.IS_MOBILE||(t._player.trigger(p.Private.SeekStart,{fromTime:t._player.getCurrentTime()}),t._player.trigger(p.Private.EndStart,{toTime:r})),t._player.seek(r),t._mouseDown=!1,t._mouseClickTimeHandle=null,t._inWaitingSeek=!1}),0),this._inWaitingSeek=!0):t._player.trigger(p.Private.Info_Show,{text:c.get("Can_Not_Seekable"),duration:2e3})},_onMouseDown:function(e){var t=this;e.preventDefault(),this._mouseDown=!0,a.IS_PC&&this._player.trigger(p.Private.SeekStart,{fromTime:this._player.getCurrentTime()}),o.on(this.controlNode,"mousemove",(function(e){t._onMouseMove(e)})),o.on(this.controlNode,"touchmove",(function(e){t._onMouseMove(e)})),o.on(this.controlNode,"mouseup",(function(e){t._onControlBarMouseUp(e)})),o.on(this.controlNode,"touchend",(function(e){t._onControlBarMouseUp(e)})),e=t._getSeconds(e);t._canSeekable(e)?t._player.exceedPreviewTime(e)&&t._player.getPreviewTime():t._player.trigger(p.Private.Info_Show,{text:c.get("Can_Not_Seekable"),duration:2e3})},_onMouseUp:function(e){this._onMouseUpIntern(e)},_onControlBarMouseUp:function(e){this._onMouseUpIntern(e)},_onPlayerMouseUp:function(e){this._onMouseUpIntern(e)},_offMouseUp:function(){o.off(this.controlNode,"mousemove"),o.off(this.controlNode,"touchmove"),o.off(this.controlNode,"mouseup"),o.off(this.controlNode,"touchend")},_onMouseUpIntern:function(e){e.preventDefault(),this._offMouseUp(),e=this._getDistance(e)/this.el().offsetWidth*this._player.getDuration(),this._player.getDuration(),isNaN(e)||this._player.seek(e),a.IS_PC&&this._player.trigger(p.Private.EndStart,{toTime:e}),this._autoHideThumbnail()},_onMouseMove:function(e){e.preventDefault(),!this._moving&&a.IS_MOBILE&&(this._player.trigger(p.Private.SeekStart,{fromTime:this._player.getCurrentTime()}),this._moving=!0),e=this._getSeconds(e),this._player.exceedPreviewTime(e)&&(e=this._player.getPreviewTime()),this._player.seek(e),this._updateProgressBar(this.playedNode,e),this._updateCursorPosition(e),this._lastSeekTime=e},_onTimeupdate:function(e){var t=this._player._options.source,r=(t=this._getUrlSuffix(t),!1);"mp4"===t&&(a.IS_MAC_SAFARI&&(r=!0),a.IS_IOS&&(r=!0),a.IS_IE11)&&(r=!0),"m3u8"===t&&a.IS_IE11&&(r=!0),"audio"==this._player._options.mediaType&&a.IS_IOS&&(this._player._seeking=!1),(this._inWaitingSeek||this._progressDown)&&!r||(this._updateProgressBar(this.playedNode,this._player.getCurrentTime()),this._updateCursorPosition(this._player.getCurrentTime()),this._player.trigger(p.Private.UpdateProgressBar,{time:this._player.getCurrentTime()}))},_onProgress:function(e){this._player.getDuration()&&1<=this._player.getBuffered().length&&this._updateProgressBar(this.loadedNode,this._player.getBuffered().end(this._player.getBuffered().length-1))},_updateProgressBar:function(e,t){var r=this._player.getDuration();1!=this._player._switchSourcing&&r&&(-1!=this._seekTime&&(this._player.getCurrentTime()>=this._seekTime||!this._player._seeking?this._seekTime=-1:t=this._seekTime),1<(t/=r)&&(t=1),e)&&i.css(e,"width",100*t+"%")},_updateCursorPosition:function(e){var t,r,n,o=this._player.getDuration();1!=this._player._switchSourcing&&o&&(t=1,r=(this.cursorNode.offsetWidth||16)/2/(n=this._player.el().clientWidth),0!=n&&(t=1-r),n=(n=e/o-r)<0?0:n,this.cursorNode)&&(t<n?(i.css(this.cursorNode,"right","0px"),i.css(this.cursorNode,"left","auto")):(i.css(this.cursorNode,"right","auto"),i.css(this.cursorNode,"left",100*n+"%")))},_getUrlSuffix:function(e){return e&&"string"==typeof e?((e=(e.split("?")[0]||"").split("."))[e.length-1]||"").toLowerCase():""},_autoHideThumbnail:function(){var e=this;a.IS_MOBILE&&(this._thumbnailHideTimer&&clearTimeout(this._thumbnailHideTimer),this._thumbnailHideTimer=setTimeout((function(){e._moving||e._player.trigger(p.Private.ThumbnailHide)}),2e3))},_makeUninteractible:function(e){["click","mousedown","mousemove","mouseup","touchstart","touchmove","touchend"].forEach((function(t){o.on(e,t,(function(e){e.stopPropagation()}))}))},_updateMaskNode:function(){var e,t=this._player._getSubVideoConfig();t.start||t.end?(i.css(this.maskNodeLeft,"width","0px"),i.css(this.maskNodeRight,"width","0px")):((t=this._player._getWatchTimeConfig()).watchStartTime&&t.watchEndTime?(e=100*Math.min(t.watchStartTime/this._player.getDuration(),1)+"%",i.css(this.maskNodeLeft,"width",e)):i.css(this.maskNodeLeft,"width","0px"),t.watchEndTime?(e=100*(1-Math.min(t.watchEndTime/this._player.getDuration(),1))+"%",i.css(this.maskNodeRight,"width",e)):i.css(this.maskNodeRight,"width","0px"),this._makeUninteractible(this.maskNodeLeft),this._makeUninteractible(this.maskNodeRight))},disposeUI:function(){this._seekTime=-1,this._lastSeekTime=0,this._moving=!1,this.cursorNodeHandler&&(clearTimeout(this.cursorNodeHandler),this.cursorNodeHandler=null),this._cursorHideHandler&&(clearTimeout(this._cursorHideHandler),this._cursorHideHandler=null),this._mouseClickTimeHandle&&(clearTimeout(this._mouseClickTimeHandle),this._mouseClickTimeHandle=null),this.interval&&(clearInterval(this.interval),this.interval=null)}});t.exports=e},{"../../config":15,"../../lang/index":26,"../../lib/constants":31,"../../lib/dom":35,"../../lib/event":36,"../../lib/function":38,"../../lib/playerutil":48,"../../lib/ua":51,"../../lib/util":53,"../../player/base/event/eventtype":71,"../component":137,"./util":166}],150:[function(e,t,r){var n=e("../component"),i=(e("../../lib/util"),e("../../lib/dom")),o=e("../../lib/event"),a=e("../../player/base/event/eventtype");e=n.extend({init:function(e,t){n.call(this,e,t),this.addClass("prism-marker-text")},createEl:function(){var e=n.prototype.createEl.call(this,"div");return e.innerHTML="<p></p>",e},bindEvent:function(){var e=this;e._player.on(a.Private.MarkerTextShow,(function(t){var r=t.paramData,n=a.Player.MarkerDotOver;e._player.trigger(n,t.paramData),r.progressMarker.isCustomized?e._player.trigger(a.Private.LifeCycleChanged,{type:n,data:t.paramData}):(e._thumbnailShowHanlde&&(i.css(e.el(),"display","none"),clearTimeout(e._thumbnailShowHanlde)),e._thumbnailShowHanlde=setTimeout((function(){var t;document.querySelector("#"+e.id()+" p").innerText=r.progressMarker.text||"",r&&(i.css(e.el(),"display","block"),t=e._player.el().offsetWidth,left=t*r.left,width=e.el().offsetWidth,left+width>t?(i.css(e.el(),"right","0px"),i.css(e.el(),"left","auto")):(left=(left-=width/2)<0?0:left,i.css(e.el(),"right","auto"),i.css(e.el(),"left",left+"px")))}),30))})),e._player.on(a.Private.MarkerTextHide,(function(t){e._player.trigger(a.Player.MarkerDotOut),e._player.trigger(a.Private.LifeCycleChanged,{type:a.Player.MarkerDotOut,data:""}),e._thumbnailShowHanlde&&clearTimeout(e._thumbnailShowHanlde),i.css(e.el(),"display","none")})),o.on(e._player.tag,"click",(function(t){t&&t.target==t.currentTarget&&e._player.trigger(a.Private.MarkerTextHide)})),o.on(e._player.tag,"touchstart",(function(t){t&&t.target==t.currentTarget&&e._player.trigger(a.Private.MarkerTextHide)}))},disposeUI:function(){this._thumbnailShowHanlde&&(clearTimeout(this._thumbnailShowHanlde),this._thumbnailShowHanlde=null)}});t.exports=e},{"../../lib/dom":35,"../../lib/event":36,"../../lib/util":53,"../../player/base/event/eventtype":71,"../component":137}],151:[function(e,t,r){var n=e("./selector"),i=e("../../../lib/object"),o=(e("../../../lib/util"),e("../../../lib/cookie"),e("../../../lib/dom")),a=(e("../../../lib/event"),e("./util"),e("../../../lang/index")),s=e("../../../player/base/event/eventtype");e=n.extend({init:function(e,t){this.Name=a.get("AudioTrack"),this.Type="audio",this.Tooltip=a.get("AudioTrack_Switch_To"),n.call(this,e,t)},bindEvent:function(){this.bindCommonEvent();var e=this,t=document.querySelector("#"+e.id()+" .selector-list");document.querySelector("#"+e.id()+" .header"),e._player.on(s.Private.ChangeURL,(function(){e._hasGeneratedList=!1})),this._player.on(s.Player.AudioTrackSwitch,(function(){o.addClass(t,"disabled")})),this._player.on(s.Player.AudioTrackSwitched,(function(){o.removeClass(t,"disabled")})),e._player.on(s.Player.AudioTrackReady,(function(r){!e._hasGeneratedList&&(e._clear(),r=r.paramData)&&(i.each(r,(function(r,n){var i=o.createEl.call(e,"li",{key:r.value,text:r.text}),a=o.createEl.call(e,"span",{key:r.value,text:r.text});a.innerText=r.text,i.appendChild(a),t.appendChild(i)})),e._hasGeneratedList=!0)}))},execute:function(e){this._player._audioTrackService.switch(e)}});t.exports=e},{"../../../lang/index":26,"../../../lib/cookie":32,"../../../lib/dom":35,"../../../lib/event":36,"../../../lib/object":45,"../../../lib/util":53,"../../../player/base/event/eventtype":71,"./selector":157,"./util":159}],152:[function(e,t,r){var n=e("../../component"),i=(e("../../../lib/dom"),e("../../../player/base/event/eventtype")),o=e("./list"),a=e("../../../lang/index"),s=e("../util");e=n.extend({init:function(e,t){n.call(this,e,t),this.addClass(t.className||"prism-setting-btn"),this._settingList=new o(e,t),e.addChild(this._settingList,t)},createEl:function(){return n.prototype.createEl.call(this,"div")},bindEvent:function(){var e=this;this.on("click",(function(){e._settingList.isOpened?e._player.trigger(i.Private.SettingListHide):e._player.trigger(i.Private.SettingListShow),e._player.trigger(i.Private.SelectorHide),e._player.trigger(i.Private.MarkerTextHide),e._player.trigger(i.Private.VolumeVisibilityChange,"")})),s.registerTooltipEvent.call(this,this.el(),a.get("Setting"))}});t.exports=e},{"../../../lang/index":26,"../../../lib/dom":35,"../../../player/base/event/eventtype":71,"../../component":137,"../util":166,"./list":155}],153:[function(e,t,r){var n=e("./selector"),i=e("../../../lib/object"),o=e("../../../lib/dom"),a=(e("../../../lib/event"),e("./util"),e("../../../lib/cookie")),s=e("../../../lib/constants"),c=e("../../../lang/index"),l=e("../../../player/base/event/eventtype");e=n.extend({init:function(e,t){this.Name=c.get("Subtitle"),this.Type="cc",this.Tooltip=c.get("CC_Switch_To"),n.call(this,e,t)},bindEvent:function(){this.bindCommonEvent();var e=this;this._player.on(l.Private.CCStateChanged,(function(t){var r=t.paramData.value;t=t.paramData.lang,"on"==r&&t?e._backCCText=t:"off"==r&&""==e._backCCText&&(e._backCCText=e._previousSelection.text),t="Off";"on"==r&&(t=e._backCCText),e._player.trigger(l.Private.SelectorUpdateList,{type:"cc",text:t})}))},generateList:function(e){var t=document.querySelector("#"+this.id()+" .selector-list"),r=this._player._ccService.tracks,n=this;i.each(r,(function(r,i){var a=o.createEl.call(this,"li",{key:r.value,text:r.text}),s=o.createEl.call(this,"span",{key:r.value,text:r.text});r.text==e&&(o.addClass(a,"current"),n._previousSelection=a),s.innerText=r.text,a.appendChild(s),t.appendChild(a)}))},execute:function(e){this._backCCText="",a.set(s.SelectedCC,e,365),this._player._ccService.switch(e)}});t.exports=e},{"../../../lang/index":26,"../../../lib/constants":31,"../../../lib/cookie":32,"../../../lib/dom":35,"../../../lib/event":36,"../../../lib/object":45,"../../../player/base/event/eventtype":71,"./selector":157,"./util":159}],154:[function(e,t,r){t.exports={CC:e("./cc"),Speed:e("./speed"),Quality:e("./quality"),Audio:e("./audio")}},{"./audio":151,"./cc":153,"./quality":156,"./speed":158}],155:[function(e,t,r){var n=e("../../component"),i=e("../../../lib/dom"),o=e("../../../lib/ua"),a=e("../../../lib/event"),s=e("../../../player/base/event/eventtype"),c=e("./export"),l=e("./util"),u=e("../../../lang/index");e=n.extend({init:function(e,t){for(var r in this.isOpened=!1,n.call(this,e,t),this.addClass(t.className||"prism-setting-list"),c)r=new c[r](e,t),e.addChild(r,t)},createEl:function(){var e=n.prototype.createEl.call(this,"div"),t="<div class='prism-setting-item prism-setting-{type}' type={type}><div class='setting-content'><span class='setting-title'>{value}</span><span class='array'></span><span class='current-setting'></span></div></div>",r=t.replace(/{type}/g,"speed").replace("{value}",u.get("Speed")),i=t.replace(/{type}/g,"cc").replace("{value}",u.get("Subtitle")),o=t.replace(/{type}/g,"audio").replace("{value}",u.get("AudioTrack"));t=t.replace(/{type}/g,"quality").replace("{value}",u.get("Quality"));return e.innerHTML=r+i+o+t,e},bindEvent:function(){function e(){r._player.trigger(s.Private.SettingListHide),r.isOpened=!1}function t(e){e&&e.type&&(document.querySelector("#"+r.id()+" .prism-setting-"+e.type+" .current-setting").innerText=e.text||"")}var r=this,n=(this._player.on(s.Private.SettingListShow,(function(e){r.isOpened=!0,e=e.paramData,t(e),i.css(r.el(),"display","block")})),this._player.on(s.Private.UpdateToSettingList,(function(e){e=e.paramData,t(e)})),this._player.on(s.Private.SelectorUpdateList,(function(e){e=e.paramData,t(e),r._player.trigger(s.Private.SelectorValueChange,e)})),this._player.on(s.Private.SettingListHide,(function(){r.isOpened=!1,i.css(r.el(),"display","none")})),a.on(this.el(),"click",(function(e){r._player.trigger(s.Private.SettingListHide);e=e.srcElement||e.target;(e=l.findItemElementForList(e))&&(e=e.getAttribute("type"),r._player.trigger(s.Private.SelectorShow,{type:e}))})),o.IS_MOBILE?"touchleave":"mouseleave");a.on(this.el(),n,(function(){e()})),a.on(this._player.tag,"click",(function(t){t&&t.target==t.currentTarget&&e()})),a.on(this._player.tag,"touchstart",(function(t){t&&t.target==t.currentTarget&&e()})),this._player.on(s.Private.QualityChange,(function(e){var t,n;e=e.paramData;e.levelSwitch&&(t=document.querySelector("#"+r.id()+" .prism-setting-quality .current-setting"),n=u.get("Auto"),e=e.desc,-1<t.innerText.indexOf(n))&&(e&&-1<String(e).indexOf("(")?n=n+"-"+e:n+=e?"("+e+")":"",t.innerText=n)}))}});t.exports=e},{"../../../lang/index":26,"../../../lib/dom":35,"../../../lib/event":36,"../../../lib/ua":51,"../../../player/base/event/eventtype":71,"../../component":137,"./export":154,"./util":159}],156:[function(e,t,r){var n=e("./selector"),i=e("../../../lib/object"),o=(e("../../../lib/util"),e("../../../lib/cookie")),a=e("../../../lib/dom"),s=(e("../../../lib/event"),e("../../../lib/constants")),c=e("../../../lang/index"),l=e("../../../player/base/event/eventtype");e=n.extend({init:function(e,t){this.Name=c.get("Quality"),this.Type="quality",this.Tooltip=c.get("Quality_Switch_To"),n.call(this,e,t),this._isMasterLevel=!1},showTip:function(e,t){this._player.trigger(l.Private.Info_Show,{text:e,duration:t,align:"lb"})},bindEvent:function(){this.bindCommonEvent();var e=this,t=(this._player.on(l.Private.QualityChange,(function(t){var r,n,i=0<e._player._urls.length?e._player._urls:e._player._qualityService.levels;(data=t.paramData).levelSwitch?(r=data.desc||data.bitrate,e._autoSWitchDesc=r,e._updateText(r)):0<e._player._currentPlayIndex&&(e._autoSWitchDesc="",n=i[(r=e._player._currentPlayIndex)-1].desc,i=i[r].desc,e.showTip(n+t.paramData+i,1e3),e._player.trigger(l.Private.SelectorValueChange,{type:e.Type,text:i}))})),document.querySelector("#"+e.id()+" .selector-list"));this._player.on(l.Player.LevelSwitch,(function(){a.addClass(t,"disabled")})),this._player.on(l.Player.LevelSwitched,(function(){a.removeClass(t,"disabled")}))},generateList:function(e){var t,r=this._player._urls,n=this._player._currentPlayIndex,o=this._player._qualityService.levels,s=(0<o.length&&(this._isMasterLevel=!0,this._player._options.isVBR)&&(n=(r=o).length-1),document.querySelector("#"+this.id()+" .selector-list"));0<r.length&&(t=this,i.each(r,(function(e,r){var i,o;(e.desc||e.bitrate)&&(i=a.createEl.call(this,"li",{key:e.Url,index:r,text:e.desc||e.bitrate}),o=a.createEl.call(this,"span",{key:e.Url,index:r,text:e.desc||e.bitrate}),r==n&&(a.addClass(i,"current"),t._previousSelection=i),o.innerText=e.desc||e.bitrate,i.appendChild(o),s.appendChild(i))}))),this._autoSWitchDesc&&this._updateText(this._autoSWitchDesc)},execute:function(e){if(this._player._switchSourcing=!0,this._isMasterLevel){for(var t,r=this._player._qualityService.levels,n=0;n<r.length;n++)r[n].Url==e&&r[n].desc!=c.get("Auto")&&(t=r[n],this._resetAutoText());this._player._switchLevel?this._player._switchLevel(e,t):(i=this._player.autoplay||"pause"!=this._player._status,this._player._loadByUrlInner(e,this._player.getCurrentTime(),i))}else{var i,a=this._player._urls.length,l=this._player._currentPlayIndex,u=-1;for(n=0;n<a;n++)if(this._player._urls[n].Url==e){u=this._player._currentPlayIndex=n,o.set(s.SelectedStreamLevel,this._player._urls[n].definition,365);break}l!=u&&-1<u&&(l=this._player.getCurrentTime(),i=this._player.autoplay||"pause"!=this._player._status,this._player.autoplay||0!=l||(i=!1),this._player._switchLevel&&!this._player._options.isLive&&this._player._options.isVBR?this._player._switchLevel(e):this._player._loadByUrlInner(e,l,i))}var p=this;setTimeout((function(){p._player._switchSourcing=!1}))},_updateText:function(e){var t=document.querySelector("#"+this.id()+" .selector-list .current"),r=document.querySelector("#"+this.id()+" .selector-list .current span"),n=c.get("Auto");r&&r.innerText&&-1<r.innerText.indexOf(n)&&(e&&-1<String(e).indexOf("(")?n=n+"-"+e:n+=e?"("+e+")":"",r.innerText=n,t)&&(t.text=n)},_resetAutoText:function(){for(var e=c.get("Auto"),t=document.querySelectorAll("#"+this.id()+" .selector-list li"),r=0;r<t.length;r++){var n=t[r],i=n.querySelector("span");if(-1<i.innerText.indexOf(e)){i.innerText=e,n.text=e;break}}}});t.exports=e},{"../../../lang/index":26,"../../../lib/constants":31,"../../../lib/cookie":32,"../../../lib/dom":35,"../../../lib/event":36,"../../../lib/object":45,"../../../lib/util":53,"../../../player/base/event/eventtype":71,"./selector":157}],157:[function(e,t,r){var n=e("../../component"),i=(e("../../../lib/object"),e("../../../lib/util"),e("../../../lib/ua")),o=(e("../../../lib/cookie"),e("../../../lib/dom")),a=e("../../../lib/event"),s=e("./util"),c=(e("../../../lang/index"),e("../../../player/base/event/eventtype"));e=n.extend({init:function(e,t){this._hasGeneratedList=!1,this._previousSelection=null,this._backupSelector="",n.call(this,e,t),this.className=t.className||"prism-"+this.Type+"-selector prism-setting-selector",this.addClass(this.className)},createEl:function(){var e=n.prototype.createEl.call(this,"div");return e.innerHTML='<div class="header"><div class="left-array"></div><span>'+this.Name+'</span></div><ul class="selector-list"></ul>',e},bindEvent:function(){this.bindCommonEvent()},bindCommonEvent:function(){var e=this,t=document.querySelector("#"+e.id()+" .selector-list"),r=document.querySelector("#"+e.id()+" .header");function n(){e._hasGeneratedList||(e._clear(),e.generateList(e._backupSelector),e._backupSelector="",e._hasGeneratedList=!0)}this._player.on(c.Private.ChangeURL,(function(){e._hasGeneratedList=!1})),a.on(r,"click",(function(){e._player.trigger(c.Private.SelectorHide),e._player.trigger(c.Private.SettingListShow,{type:e.Type,text:e._previousSelection?e._previousSelection.text:""})})),a.on(t,"click",(function(t){t=t.srcElement||t.target;var r=t.key,n=t.text;e._player.traceLog("selector.js","selector::click#"+e.Name+"#"+e.Type+"#"+n+"#"+r),e._player.trigger(c.Player.SettingSelected,{name:e.Name,type:e.Type,text:n,key:r}),void 0!==n&&(e._previousSelection&&o.removeClass(e._previousSelection,"current"),e._previousSelection=s.findliElementForSelector(t),o.addClass(e._previousSelection,"current"),e.execute&&e.execute(r),t=e.Tooltip+"<span>"+n+"</span>",e._player.trigger(c.Private.Info_Show,{text:t,duration:3e3,align:"lb"}))})),e._player.on(c.Private.SelectorHide,(function(){l()})),e._player.on(c.Private.SelectorValueChange,(function(t){var r=t.paramData;if(r&&r.type==e.Type){var n=document.querySelectorAll("#"+e.id()+" .selector-list li");if(n){for(var i=n.length,a=(0==i&&(e._backupSelector=r.text),-1),s=0;s<i;s++)if(n[s].text==r.text){a=s;break}e._previousSelection&&(o.removeClass(e._previousSelection,"current"),e._previousSelection=null),-1!==a?(o.addClass(n[a],"current"),e._previousSelection=n[a]):e._previousSelection||console.warn("UI Not Sync: No Such Option '"+r.text+"' in '"+r.type+"'")}}})),e._player.on(c.Private.SettingListShow,(function(){n()})),e._player.on(c.Private.SelectorGenerateList,(function(t){var r=t.paramData&&t.paramData.type;t=t.paramData&&t.paramData.value;r===e.Type&&(e._hasGeneratedList=!1,t&&(e._backupSelector=t),n())})),e._player.on(c.Private.SelectorShow,(function(t){(t=t.paramData).type==e.Type&&(t=document.querySelector("#"+e._player.id()+" .prism-"+t.type+"-selector"),e._hasGeneratedList||n(),o.css(t,"display","block"))}));var l=function(){o.css(e.el(),"display","none"),e._player.trigger(c.Private.UpdateToSettingList,{type:e.Type,text:e._previousSelection?e._previousSelection.text:""})};r=i.IS_MOBILE?"touchleave":"mouseleave";a.on(this.el(),r,(function(){l()})),a.on(this._player.tag,"click",(function(e){e&&e.target==e.currentTarget&&l()})),a.on(this._player.tag,"touchstart",(function(e){e&&e.target==e.currentTarget&&l()}))},setSelected:function(e){},generateList:function(){},_clear:function(){document.querySelector("#"+this.id()+" .selector-list").innerHTML=""}});t.exports=e},{"../../../lang/index":26,"../../../lib/cookie":32,"../../../lib/dom":35,"../../../lib/event":36,"../../../lib/object":45,"../../../lib/ua":51,"../../../lib/util":53,"../../../player/base/event/eventtype":71,"../../component":137,"./util":159}],158:[function(e,t,r){var n=e("./selector"),i=e("../../../lib/object"),o=(e("../../../lib/util"),e("../../../lib/cookie"),e("../../../lib/dom")),a=(e("../../../lib/event"),e("./util"),e("../../../lib/constants")),s=e("../../../lang/index"),c=e("../../../player/base/event/eventtype");e=n.extend({init:function(e,t){var r=this;this.Name=s.get("Speed"),this.Type="speed",this.Tooltip=s.get("Speed_Switch_To"),this.speedPreStore=1,this.listGenerated=!1,n.call(this,e,t),this._player.on(c.Private.PlaybackRateChanged,(function(e){r.speedPreStore=e.paramData,r.listGenerated&&r._player.trigger(c.Private.SelectorUpdateList,{type:"speed",text:e.paramData})}))},generateList:function(){var e=document.querySelector("#"+this.id()+" .selector-list"),t=this._player._options.speedLevels,r=(t=this.verifySpeedLevels(t)?t:a.SpeedLevels,this);i.each(t,(function(t,n){var i=o.createEl.call(this,"li",{key:t.key,text:t.text}),a=o.createEl.call(this,"span",{key:t.key,text:t.text});a.innerText=t.text,t.key==r.speedPreStore&&(o.addClass(i,"current"),r._previousSelection=i),i.appendChild(a),e.appendChild(i)})),this.listGenerated=!0},execute:function(e){this._player.setSpeed(e,!1)},verifySpeedLevels:function(e){var t=0;if(e&&e.length)try{e.forEach((function(e){"number"==typeof e.key&&e.key==e.key&&0<=e.key&&t++}))}catch(e){return!1}return e&&t===e.length}});t.exports=e},{"../../../lang/index":26,"../../../lib/constants":31,"../../../lib/cookie":32,"../../../lib/dom":35,"../../../lib/event":36,"../../../lib/object":45,"../../../lib/util":53,"../../../player/base/event/eventtype":71,"./selector":157,"./util":159}],159:[function(e,t,r){t.exports.findliElementForSelector=function(e){var t;return e&&"li"!=e.tagName.toLowerCase()?(t=e.parentElement)&&"li"==t.tagName.toLowerCase()?t:null:e},t.exports.findliElementByKey=function(e,t){return document.querySelectors(e),null},t.exports.findItemElementForList=function(e){var r;return!e||-1<e.className.indexOf("prism-setting-item")||(r=e.parentElement)&&(e=t.exports.findItemElementForList(r)),e}},{}],160:[function(e,t,r){var n=e("../component"),i=e("../../lib/dom"),o=e("../../lang/index"),a=e("../../player/base/event/eventtype"),s=e("./util");e=n.extend({init:function(e,t){n.call(this,e,t),this.addClass("prism-snapshot-btn")},createEl:function(){return n.prototype.createEl.call(this,"div")},bindEvent:function(){var e=this,t=this._player;t.on(a.Private.Snapshot_Hide,(function(){i.css(e._el,"display","none")})),s.registerTooltipEvent.call(this,this.el(),o.get("Snapshot")),this.on("click",(function(){e.trigger(a.Player.Snapshoting),e.trigger(a.Player.Snapshoted,t.takeSnapshot())}))}});t.exports=e},{"../../lang/index":26,"../../lib/dom":35,"../../player/base/event/eventtype":71,"../component":137,"./util":166}],161:[function(e,t,r){var n=e("../component");e("../../lib/dom"),e("../../player/base/event/eventtype"),e=n.extend({init:function(e,t){n.call(this,e,t),this.addClass("prism-text-overlay")},createEl:function(){return n.prototype.createEl.call(this,"div")},_hide:function(e){},_show:function(e){},bindEvent:function(){}});t.exports=e},{"../../lib/dom":35,"../../player/base/event/eventtype":71,"../component":137}],162:[function(e,t,r){var n=e("../component"),i=(e("../../lib/util"),e("../../lib/dom")),o=e("../../lib/event"),a=(e("../../lib/ua"),e("../../lang/index"),e("../../player/base/event/eventtype")),s=e("./util");e=n.extend({init:function(e,t){n.call(this,e,t),this.addClass("prism-thumbnail")},createEl:function(){var e=n.prototype.createEl.call(this,"div");return e.innerHTML="<img></img><span></span>",e},bindEvent:function(){var e=this,t=(o.on(this._el,"mousemove",(function(e){e.preventDefault()})),o.on(this._el,"touchmove",(function(e){e.preventDefault()})),e._player.on(a.Private.ThumbnailLoaded,(function(t){var r,n,o;t=t.paramData;t&&0<t.length&&(r=e._player._thumbnailService.makeUrl(t[0].text),e._player.log("THUMBNAILSTART",{tu:encodeURIComponent(r)}),n=(new Date).getTime(),t[0].isBig?(i.css(e.el(),"background","url("+r+")"),i.css(e.el(),"width",t[0].w+"px"),i.css(e.el(),"height",t[0].h+"px"),e._player.log("THUMBNAILCOMPLETE",{ftt:(new Date).getTime()-n})):((o=document.querySelector("#"+e.id()+" img")).onload=function(){var t=o.width,r=o.height;i.css(e.el(),"width",t+"px"),i.css(e.el(),"height",r+"px"),e._player.log("THUMBNAILCOMPLETE",{ftt:(new Date).getTime()-n})},o.src=r))})),s.throttle((function(t){t=t[0];var r,n,o,a=document.querySelector("#"+e.id()+" span");t=t.paramData;a.innerText=t.formatTime,t&&((r=e._player._thumbnailService.findAvailableCue(t.time))?r.isBig?(n=e._player._thumbnailService.makeUrl(r.text),i.css(e.el(),"background","url("+n+")"),r.w,r.h,o=-1*r.x+"px "+-1*r.y+"px",i.css(e.el(),"background-position",o)):(o=document.querySelector("#"+e.id()+" img"),n=e._player._thumbnailService.makeUrl(r.text),o.src!=n&&(o.src=n)):(i.css(e.el(),"border","none"),i.css(a,"left","0px")),i.css(e.el(),"display","block"),o=0,n=(r?e.el():a).offsetWidth,o=t.left+n>t.progressWidth?t.left-n:(o=t.left-n/2)<0?0:o,i.css(e.el(),"left",o+"px"))}),30));e._player.on(a.Private.ThumbnailShow,t),e._player.on(a.Private.ThumbnailHide,(function(t){i.css(e.el(),"display","none")}))},_createSamllThumbnail:function(){},disposeUI:function(){}});t.exports=e},{"../../lang/index":26,"../../lib/dom":35,"../../lib/event":36,"../../lib/ua":51,"../../lib/util":53,"../../player/base/event/eventtype":71,"../component":137,"./util":166}],163:[function(e,t,r){var n=e("../component"),i=e("../../lib/util"),o=e("../../player/base/event/eventtype");e=n.extend({init:function(e,t){n.call(this,e,t),this.addClass("prism-time-display")},createEl:function(){var e=n.prototype.createEl.call(this,"div");return e.innerHTML='<span class="current-time">00:00</span> <span class="time-bound">/</span> <span class="duration">00:00</span>',e},bindEvent:function(){var e=this;this._player.on(o.Video.DurationChange,(function(){var t=i.formatTime(e._player.getDisplayDuration());t?(document.querySelector("#"+e.id()+" .time-bound").style.display="inline",document.querySelector("#"+e.id()+" .duration").style.display="inline",document.querySelector("#"+e.id()+" .duration").innerText=t):(document.querySelector("#"+e.id()+" .duration").style.display="none",document.querySelector("#"+e.id()+" .time-bound").style.display="none")})),this._player.on(o.Video.TimeUpdate,(function(){var t=e._player.getCurrentTime();t=i.formatTime(t);document.querySelector("#"+e.id()+" .current-time")&&(t?(document.querySelector("#"+e.id()+" .current-time").style.display="inline",document.querySelector("#"+e.id()+" .current-time").innerText=t):document.querySelector("#"+e.id()+" .current-time").style.display="none")}))}});t.exports=e},{"../../lib/util":53,"../../player/base/event/eventtype":71,"../component":137}],164:[function(e,t,r){var n=e("../component"),i=e("../../lib/dom"),o=e("../../player/base/event/eventtype");e=n.extend({init:function(e,t){n.call(this,e,t),this.addClass("prism-tooltip")},createEl:function(){var e=n.prototype.createEl.call(this,"p");return e.innerText="提示信息",e},bindEvent:function(){var e=this;e._player.on(o.Private.TooltipShow,(function(t){var r=document.querySelector("#"+e.id()),n=(t=t.paramData,r.innerText=t.text,i.css(r,"display","block"),r.offsetWidth),o=document.querySelector("#"+e._player.id()+" .prism-controlbar");o&&(o=o.offsetWidth,t.left+n>o?i.css(r,"left",o-n+"px"):i.css(r,"left",t.left-(n-t.width)/2+"px"))})),e._player.on(o.Private.TooltipHide,(function(t){var r=document.querySelector("#"+e.id());i.css(r,"display","none")}))}});t.exports=e},{"../../lib/dom":35,"../../player/base/event/eventtype":71,"../component":137}],165:[function(e,t,r){var n=e("../component"),i=e("../../lib/dom"),o=e("../../lib/event"),a=e("../../lang/index"),s=e("../../player/base/event/eventtype");e=n.extend({init:function(e,t){n.call(this,e,t),this.addClass("prism-unmute-btn")},createEl:function(){var e=n.prototype.createEl.call(this,"div");return e.innerText=a.get("Click_To_Unmute"),e},bindEvent:function(){var e=this;this._player.on(s.Private.MutedAutoplay,(function(){var t;null!=(t=e._player.getOptions().autoplayPolicy)&&t.showUnmuteBtn&&e._show()})),o.on(this.el(),"click",(function(){e._player.unMute(!0),e._hide()}))},_show:function(){i.css(this.el(),"display","block")},_hide:function(){i.css(this.el(),"display","none")}});t.exports=e},{"../../lang/index":26,"../../lib/dom":35,"../../lib/event":36,"../../player/base/event/eventtype":71,"../component":137}],166:[function(e,t,r){var n=e("../../lib/event"),i=e("../../player/base/event/eventtype");t.exports.registerTooltipEvent=function(e,t){function r(){o._controlbarTooltipHandler&&(clearTimeout(o._controlbarTooltipHandler),o._controlbarTooltipHandler=null)}var o=this;n.on(this.el(),"mouseover",(function(e){r(),o._controlbarTooltipHandler=setTimeout((function(){o._player.trigger(i.Private.TooltipHide)}),4e3);var n=o.el().offsetLeft,a=o.el().offsetWidth,s=t;"function"==typeof t&&(s=t.call(this)),o._player.trigger(i.Private.TooltipShow,{left:n,width:a,text:s})})),n.on(this.el(),"mouseout",(function(){r(),o._player.trigger(i.Private.TooltipHide)}))},t.exports.throttle=function(e,t){var r=Date.now();return function(){var n=arguments,i=Date.now();t<=i-r&&(e(n),r=i)}},t.exports.debounce=function(e,t){var r;return function(){var n=this,i=arguments;clearTimeout(r),r=setTimeout((function(){e.apply(n,i)}),t)}}},{"../../lib/event":36,"../../player/base/event/eventtype":71}],167:[function(e,t,r){var n=e("../component"),i=e("../../lib/dom"),o=e("../../lib/event"),a=e("../../player/base/event/eventtype"),s=e("./util"),c=e("../../lang/index"),l=e("./volumecontrol");e=n.extend({init:function(e,t){n.call(this,e,t),this.addClass("prism-volume");var r=new l(e,t);e.addChild(r,t),this.volumeControl=r},createEl:function(){var e=n.prototype.createEl.call(this,"div");return e.innerHTML='<div class="volume-icon"><div class="short-horizontal"></div><div class="long-horizontal"></div></div>',e},bindEvent:function(){var e=this,t=e._player,r=(this.icon=document.querySelector("#"+e.id()+"  .volume-icon"),s.registerTooltipEvent.call(this,this.el(),(function(){return e._player.muted()||0==e._player.getVolume()?c.get("Muted"):c.get("Volume")})),o.on(this.icon,"click",(function(r){var n;e.volumeControl._shown?t.muted()?t.unMute():t.mute():(n=e.el().offsetLeft,e._player.trigger(a.Private.SettingListHide),e._player.trigger(a.Private.SelectorHide),e._player.trigger(a.Private.VolumeVisibilityChange,n),e._player.trigger(a.Private.MarkerTextHide))})),document.querySelector("#"+e.id()+"  .long-horizontal")),n=document.querySelector("#"+e.id()+"  .short-horizontal");o.on(this.el(),"mouseover",(function(){i.removeClass(r,"volume-hover-animation"),setTimeout((function(){i.addClass(r,"volume-hover-animation")})),setTimeout((function(){i.removeClass(r,"volume-hover-animation"),i.addClass(n,"volume-hover-animation"),setTimeout((function(){i.removeClass(n,"volume-hover-animation"),i.addClass(r,"volume-hover-animation")}),300)}),300)})),o.on(window,"resize",(function(){var t;e.volumeControl._shown&&(t=e.el().offsetLeft,e._player.trigger(a.Private.VolumeUpdatePosition,t))}))}});t.exports=e},{"../../lang/index":26,"../../lib/dom":35,"../../lib/event":36,"../../player/base/event/eventtype":71,"../component":137,"./util":166,"./volumecontrol":168}],168:[function(e,t,r){var n=e("../component"),i=e("../../lib/dom"),o=e("../../lib/event"),a=e("../../player/base/event/eventtype");e("./util"),e("../../lang/index"),e=n.extend({init:function(e,t){n.call(this,e,t),this.addClass("prism-volume-control"),this._shown=!1},createEl:function(){var e=n.prototype.createEl.call(this,"div");return e.innerHTML='<div class="volume-range"><div class="volume-value"></div><div class="volume-cursor"></div></div>',e},bindEvent:function(){var e=this;this.icon=document.querySelector("#"+e._player.id()+"  .volume-icon"),this.control=document.querySelector("#"+e.id()),this.volumnValue=document.querySelector("#"+e.id()+"  .volume-value"),this.volumnRange=document.querySelector("#"+e.id()+"  .volume-range"),this.volumnCursor=document.querySelector("#"+e.id()+"  .volume-cursor"),this._player.on(a.Private.VolumeVisibilityChange,(function(t){var r;t=t.paramData;!e._shown&&t?(r=e._player.getVolume(),e._setVolumnUI(r),i.css(e.control,"display","block"),t&&e._updatePosition(t),e._shown=!0):e._hide()})),this._player.on(a.Private.VolumeUpdatePosition,(function(t){t=t.paramData,e._shown&&e._updatePosition(t)})),this._player.on(a.Private.ControlBarClick,(function(t){i.hasClass(t.paramData.target,"prism-controlbar-bg")&&e._hide()})),o.on(this.volumnRange,"click",(function(t){t=i.getPointerPosition(e.volumnRange,t).y,t<0||1<t||(e._setVolumnUI(t=1<(t=t<0?0:t)?1:t),e._setMuteUI(t),e._player.setVolume(t))})),o.on(this._player.tag,"click",(function(t){t&&t.target==t.currentTarget&&e._hide()})),o.on(this._player.tag,"touchstart",(function(t){t&&t.target==t.currentTarget&&e._hide()})),o.on(this.volumnCursor,"mousedown",(function(t){e._onMouseDown(t)})),o.on(this.volumnCursor,"touchstart",(function(t){e._onMouseDown(t)})),this._player.on(a.Private.VolumnChanged,(function(t){t=t.paramData,-1<t&&e._setVolumnUI(t),e._setMuteUI(t)})),o.on(this.control,"mouseleave",(function(){e._offEvent(),e._hide()})),o.on(this.control,"mouseover",(function(){i.addClass(e.control,"hover")})),e._rangeBottom=e._getBottom()},_getBottom:function(){var e;return window.getComputedStyle?(e=window.getComputedStyle(this.volumnRange,null).getPropertyValue("bottom"),parseFloat(e)):26},_onMouseDown:function(e){var t=this;e.preventDefault(),o.on(this.control,"mousemove",(function(e){t._onMouseMove(e)})),o.on(this.control,"touchmove",(function(e){t._onMouseMove(e)})),o.on(this._player.tag,"mouseup",(function(e){t._onMouseUp(e)})),o.on(this._player.tag,"touchend",(function(e){t._onMouseUp(e)})),o.on(this.control,"mouseup",(function(e){t._onMouseUp(e)})),o.on(this.control,"touchend",(function(e){t._onMouseUp(e)}))},_onMouseUp:function(e){e.preventDefault(),this._offEvent(),this.volumnRange.offsetHeight&&(e=(this.volumnValue.offsetHeight/this.volumnRange.offsetHeight).toFixed(2),this._player.setVolume(e),this._setMuteUI(e))},_onMouseMove:function(e){e.preventDefault(),e=i.getPointerPosition(this.volumnRange,e).y,e<0||1<e||this._setVolumnUI(e=1<(e=e<0?0:e)?1:e)},_getPosition:function(e){for(var t=this.volumnRange,r=0;t=t.offsetParent;)r+=t.offsetTop;var n=this.volumnRange.offsetHeight,i=this.volumnCursor.offsetHeight,o=(e.touches?e.touches[0]:e).pageY;return(n-((o=n<o-r?e.clientY:o)-r)+i)/this.volumnRange.offsetHeight},_offEvent:function(){o.off(this._player.tag,"mouseup"),o.off(this._player.tag,"touchend"),o.off(this.control,"mousemove"),o.off(this.control,"touchmove"),o.off(this.control,"mouseup"),o.off(this.control,"touchend")},_setMuteUI:function(e){isNaN(e)||(0==e||-1==e?i.addClass(this.icon,"mute"):i.removeClass(this.icon,"mute"))},_setVolumnUI:function(e){isNaN(e)||(i.css(this.volumnValue,"height",100*e+"%"),i.css(this.volumnCursor,"bottom",100*(e=1==e?.99:e)+"%"))},_hide:function(){i.css(this.control,"display","none"),this._shown=!1},_updatePosition:function(e){i.css(this.control,"left",e-5+"px")}});t.exports=e},{"../../lang/index":26,"../../lib/dom":35,"../../lib/event":36,"../../player/base/event/eventtype":71,"../component":137,"./util":166}],169:[function(e,t,r){t.exports={H5Loading:e("./component/h5-loading"),bigPlayButton:e("./component/big-play-button"),unmuteButton:e("./component/unmute-button"),controlBar:e("./component/controlbar"),progress:e("./component/progress"),playButton:e("./component/play-button"),liveDisplay:e("./component/live-display"),timeDisplay:e("./component/time-display"),fullScreenButton:e("./component/fullscreen-button"),volume:e("./component/volume"),snapshot:e("./component/snapshot"),errorDisplay:e("./component/error-display"),infoDisplay:e("./component/info-display"),liveShiftProgress:e("../commonui/liveshiftprogress"),liveShiftTimeDisplay:e("../commonui/livetimedisplay"),setting:e("./component/setting/button"),subtitle:e("./component/cc-button"),thumbnail:e("./component/thumbnail"),tooltip:e("./component/tooltip")}},{"../commonui/liveshiftprogress":13,"../commonui/livetimedisplay":14,"./component/big-play-button":138,"./component/cc-button":139,"./component/controlbar":140,"./component/error-display":142,"./component/fullscreen-button":143,"./component/h5-loading":144,"./component/info-display":145,"./component/live-display":147,"./component/play-button":148,"./component/progress":149,"./component/setting/button":152,"./component/snapshot":160,"./component/thumbnail":162,"./component/time-display":163,"./component/tooltip":164,"./component/unmute-button":165,"./component/volume":167}]},{},[16])(16)}))},6647:function(e,t,r){"use strict";r(1454);var n=r(1137),i=r(4250),o=r.n(i),a=r(6848),s=r(9217),c=r(5827),l=r(3642),u=r(6874),p=r(5187),d=r(689),h=(0,s.Y)("action-sheet"),f=h[0],y=h[1];function g(e,t,r,n){var i=t.title,s=t.cancelText,l=t.closeable;function h(){(0,c.Ic)(n,"input",!1),(0,c.Ic)(n,"cancel")}function f(){if(i)return e("div",{class:y("header")},[i,l&&e(u.A,{attrs:{name:t.closeIcon},class:y("close"),on:{click:h}})])}function g(r,i){var o=r.disabled,s=r.loading,l=r.callback;function u(e){e.stopPropagation(),o||s||(l&&l(r),t.closeOnClickAction&&(0,c.Ic)(n,"input",!1),a.Ay.nextTick((function(){(0,c.Ic)(n,"select",r,i)})))}function p(){return s?e(d.A,{class:y("loading-icon")}):[e("span",{class:y("name")},[r.name]),r.subname&&e("div",{class:y("subname")},[r.subname])]}return e("button",{attrs:{type:"button"},class:[y("item",{disabled:o,loading:s}),r.className],style:{color:r.color},on:{click:u}},[p()])}function v(){if(s)return[e("div",{class:y("gap")}),e("button",{attrs:{type:"button"},class:y("cancel"),on:{click:h}},[s])]}function _(){var n=(null==r.description?void 0:r.description())||t.description;if(n)return e("div",{class:y("description")},[n])}return e(p.A,o()([{class:y(),attrs:{position:"bottom",round:t.round,value:t.value,overlay:t.overlay,duration:t.duration,lazyRender:t.lazyRender,lockScroll:t.lockScroll,getContainer:t.getContainer,closeOnPopstate:t.closeOnPopstate,closeOnClickOverlay:t.closeOnClickOverlay,safeAreaInsetBottom:t.safeAreaInsetBottom}},(0,c.IL)(n,!0)]),[f(),_(),e("div",{class:y("content")},[t.actions&&t.actions.map(g),null==r.default?void 0:r.default()]),v()])}g.props=(0,n.A)({},l.K,{title:String,actions:Array,duration:[Number,String],cancelText:String,description:String,getContainer:[String,Function],closeOnPopstate:Boolean,closeOnClickAction:Boolean,round:{type:Boolean,default:!0},closeable:{type:Boolean,default:!0},closeIcon:{type:String,default:"cross"},safeAreaInsetBottom:{type:Boolean,default:!0},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0}}),t.A=f(g)},7555:function(e,t,r){"use strict";r(4114);var n=r(1137),i=r(4250),o=r.n(i),a=r(9217),s=r(5827),c=r(6374),l=r(9763),u=r(6874),p=r(689),d=(0,a.Y)("button"),h=d[0],f=d[1];function y(e,t,r,n){var i,a=t.tag,d=t.icon,h=t.type,y=t.color,g=t.plain,v=t.disabled,_=t.loading,m=t.hairline,b=t.loadingText,S=t.iconPosition,T={};function w(e){t.loading&&e.preventDefault(),_||v||((0,s.Ic)(n,"click",e),(0,l.BC)(n))}function E(e){(0,s.Ic)(n,"touchstart",e)}y&&(T.color=g?y:"white",g||(T.background=y),-1!==y.indexOf("gradient")?T.border=0:T.borderColor=y);var x=[f([h,t.size,{plain:g,loading:_,disabled:v,hairline:m,block:t.block,round:t.round,square:t.square}]),(i={},i[c.kw]=m,i)];function k(){return _?r.loading?r.loading():e(p.A,{class:f("loading"),attrs:{size:t.loadingSize,type:t.loadingType,color:"currentColor"}}):r.icon?e("div",{class:f("icon")},[r.icon()]):d?e(u.A,{attrs:{name:d,classPrefix:t.iconPrefix},class:f("icon")}):void 0}function P(){var n,i=[];return"left"===S&&i.push(k()),n=_?b:r.default?r.default():t.text,n&&i.push(e("span",{class:f("text")},[n])),"right"===S&&i.push(k()),i}return e(a,o()([{style:T,class:x,attrs:{type:t.nativeType,disabled:v},on:{click:w,touchstart:E}},(0,s.IL)(n)]),[e("div",{class:f("content")},[P()])])}y.props=(0,n.A)({},l.aI,{text:String,icon:String,color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:String,loadingText:String,loadingType:String,tag:{type:String,default:"button"},type:{type:String,default:"default"},size:{type:String,default:"normal"},loadingSize:{type:String,default:"20px"},iconPosition:{type:String,default:"left"}}),t.A=h(y)},4694:function(e,t,r){"use strict";r.d(t,{A:function(){return P}});r(8992),r(4520),r(8872);var n=r(4250),i=r.n(n),o=r(1137),a=r(3448);function s(){return!a.S$&&/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase())}var c=r(2486),l=s();function u(){l&&(0,c.Fk)((0,c.Td)())}var p=r(1465),d=r(8499),h=r(9217),f=r(2301),y=r(6874),g=r(5827),v=r(9763),_={icon:String,size:String,center:Boolean,isLink:Boolean,required:Boolean,iconPrefix:String,titleStyle:null,titleClass:null,valueClass:null,labelClass:null,title:[Number,String],value:[Number,String],label:[Number,String],arrowDirection:String,border:{type:Boolean,default:!0},clickable:{type:Boolean,default:null}},m=(0,h.Y)("cell"),b=m[0],S=m[1];function T(e,t,r,n){var o,s=t.icon,c=t.size,l=t.title,u=t.label,p=t.value,d=t.isLink,h=r.title||(0,a.C8)(l);function f(){var n=r.label||(0,a.C8)(u);if(n)return e("div",{class:[S("label"),t.labelClass]},[r.label?r.label():u])}function _(){if(h)return e("div",{class:[S("title"),t.titleClass],style:t.titleStyle},[r.title?r.title():e("span",[l]),f()])}function m(){var n=r.default||(0,a.C8)(p);if(n)return e("div",{class:[S("value",{alone:!h}),t.valueClass]},[r.default?r.default():e("span",[p])])}function b(){return r.icon?r.icon():s?e(y.A,{class:S("left-icon"),attrs:{name:s,classPrefix:t.iconPrefix}}):void 0}function T(){var n=r["right-icon"];if(n)return n();if(d){var i=t.arrowDirection;return e(y.A,{class:S("right-icon"),attrs:{name:i?"arrow-"+i:"arrow"}})}}function w(e){(0,g.Ic)(n,"click",e),(0,v.BC)(n)}var E=null!=(o=t.clickable)?o:d,x={clickable:E,center:t.center,required:t.required,borderless:!t.border};return c&&(x[c]=c),e("div",i()([{class:S(x),attrs:{role:E?"button":null,tabindex:E?0:null},on:{click:w}},(0,g.IL)(n)]),[b(),_(),m(),T(),null==r.extra?void 0:r.extra()])}T.props=(0,o.A)({},_,v.aI);var w=b(T),E=(0,h.Y)("field"),x=E[0],k=E[1],P=x({inheritAttrs:!1,provide:function(){return{vanField:this}},inject:{vanForm:{default:null}},props:(0,o.A)({},_,{name:String,rules:Array,disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null},autosize:[Boolean,Object],leftIcon:String,rightIcon:String,clearable:Boolean,formatter:Function,maxlength:[Number,String],labelWidth:[Number,String],labelClass:null,labelAlign:String,inputAlign:String,placeholder:String,errorMessage:String,errorMessageAlign:String,showWordLimit:Boolean,value:{type:[Number,String],default:""},type:{type:String,default:"text"},error:{type:Boolean,default:null},colon:{type:Boolean,default:null},clearTrigger:{type:String,default:"focus"},formatTrigger:{type:String,default:"onChange"}}),data:function(){return{focused:!1,validateFailed:!1,validateMessage:""}},watch:{value:function(){this.updateValue(this.value),this.resetValidation(),this.validateWithTrigger("onChange"),this.$nextTick(this.adjustSize)}},mounted:function(){this.updateValue(this.value,this.formatTrigger),this.$nextTick(this.adjustSize),this.vanForm&&this.vanForm.addField(this)},beforeDestroy:function(){this.vanForm&&this.vanForm.removeField(this)},computed:{showClear:function(){var e=this.getProp("readonly");if(this.clearable&&!e){var t=(0,a.C8)(this.value)&&""!==this.value,r="always"===this.clearTrigger||"focus"===this.clearTrigger&&this.focused;return t&&r}},showError:function(){return null!==this.error?this.error:!!(this.vanForm&&this.vanForm.showError&&this.validateFailed)||void 0},listeners:function(){return(0,o.A)({},this.$listeners,{blur:this.onBlur,focus:this.onFocus,input:this.onInput,click:this.onClickInput,keypress:this.onKeypress})},labelStyle:function(){var e=this.getProp("labelWidth");if(e)return{width:(0,f._)(e)}},formValue:function(){return this.children&&(this.$scopedSlots.input||this.$slots.input)?this.children.value:this.value}},methods:{focus:function(){this.$refs.input&&this.$refs.input.focus()},blur:function(){this.$refs.input&&this.$refs.input.blur()},runValidator:function(e,t){return new Promise((function(r){var n=t.validator(e,t);if((0,a.yL)(n))return n.then(r);r(n)}))},isEmptyValue:function(e){return Array.isArray(e)?!e.length:0!==e&&!e},runSyncRule:function(e,t){return(!t.required||!this.isEmptyValue(e))&&!(t.pattern&&!t.pattern.test(e))},getRuleMessage:function(e,t){var r=t.message;return(0,a.Tn)(r)?r(e,t):r},runRules:function(e){var t=this;return e.reduce((function(e,r){return e.then((function(){if(!t.validateFailed){var e=t.formValue;return r.formatter&&(e=r.formatter(e,r)),t.runSyncRule(e,r)?r.validator?t.runValidator(e,r).then((function(n){!1===n&&(t.validateFailed=!0,t.validateMessage=t.getRuleMessage(e,r))})):void 0:(t.validateFailed=!0,void(t.validateMessage=t.getRuleMessage(e,r)))}}))}),Promise.resolve())},validate:function(e){var t=this;return void 0===e&&(e=this.rules),new Promise((function(r){e||r(),t.resetValidation(),t.runRules(e).then((function(){t.validateFailed?r({name:t.name,message:t.validateMessage}):r()}))}))},validateWithTrigger:function(e){if(this.vanForm&&this.rules){var t=this.vanForm.validateTrigger===e,r=this.rules.filter((function(r){return r.trigger?r.trigger===e:t}));r.length&&this.validate(r)}},resetValidation:function(){this.validateFailed&&(this.validateFailed=!1,this.validateMessage="")},updateValue:function(e,t){void 0===t&&(t="onChange"),e=(0,a.C8)(e)?String(e):"";var r=this.maxlength;if((0,a.C8)(r)&&e.length>r&&(e=this.value&&this.value.length===+r?this.value:e.slice(0,r)),"number"===this.type||"digit"===this.type){var n="number"===this.type;e=(0,p.ZV)(e,n,n)}this.formatter&&t===this.formatTrigger&&(e=this.formatter(e));var i=this.$refs.input;i&&e!==i.value&&(i.value=e),e!==this.value&&this.$emit("input",e)},onInput:function(e){e.target.composing||this.updateValue(e.target.value)},onFocus:function(e){this.focused=!0,this.$emit("focus",e),this.$nextTick(this.adjustSize),this.getProp("readonly")&&this.blur()},onBlur:function(e){this.getProp("readonly")||(this.focused=!1,this.updateValue(this.value,"onBlur"),this.$emit("blur",e),this.validateWithTrigger("onBlur"),this.$nextTick(this.adjustSize),u())},onClick:function(e){this.$emit("click",e)},onClickInput:function(e){this.$emit("click-input",e)},onClickLeftIcon:function(e){this.$emit("click-left-icon",e)},onClickRightIcon:function(e){this.$emit("click-right-icon",e)},onClear:function(e){(0,d.wo)(e),this.$emit("input",""),this.$emit("clear",e)},onKeypress:function(e){var t=13;if(e.keyCode===t){var r=this.getProp("submitOnEnter");r||"textarea"===this.type||(0,d.wo)(e),"search"===this.type&&this.blur()}this.$emit("keypress",e)},adjustSize:function(){var e=this.$refs.input;if("textarea"===this.type&&this.autosize&&e){var t=(0,c.Td)();e.style.height="auto";var r=e.scrollHeight;if((0,a.Gv)(this.autosize)){var n=this.autosize,i=n.maxHeight,o=n.minHeight;i&&(r=Math.min(r,i)),o&&(r=Math.max(r,o))}r&&(e.style.height=r+"px",(0,c.Fk)(t))}},genInput:function(){var e=this.$createElement,t=this.type,r=this.getProp("disabled"),n=this.getProp("readonly"),a=this.slots("input"),s=this.getProp("inputAlign");if(a)return e("div",{class:k("control",[s,"custom"]),on:{click:this.onClickInput}},[a]);var c={ref:"input",class:k("control",s),domProps:{value:this.value},attrs:(0,o.A)({},this.$attrs,{name:this.name,disabled:r,readonly:n,placeholder:this.placeholder}),on:this.listeners,directives:[{name:"model",value:this.value}]};if("textarea"===t)return e("textarea",i()([{},c]));var l,u=t;return"number"===t&&(u="text",l="decimal"),"digit"===t&&(u="tel",l="numeric"),e("input",i()([{attrs:{type:u,inputmode:l}},c]))},genLeftIcon:function(){var e=this.$createElement,t=this.slots("left-icon")||this.leftIcon;if(t)return e("div",{class:k("left-icon"),on:{click:this.onClickLeftIcon}},[this.slots("left-icon")||e(y.A,{attrs:{name:this.leftIcon,classPrefix:this.iconPrefix}})])},genRightIcon:function(){var e=this.$createElement,t=this.slots,r=t("right-icon")||this.rightIcon;if(r)return e("div",{class:k("right-icon"),on:{click:this.onClickRightIcon}},[t("right-icon")||e(y.A,{attrs:{name:this.rightIcon,classPrefix:this.iconPrefix}})])},genWordLimit:function(){var e=this.$createElement;if(this.showWordLimit&&this.maxlength){var t=(this.value||"").length;return e("div",{class:k("word-limit")},[e("span",{class:k("word-num")},[t]),"/",this.maxlength])}},genMessage:function(){var e=this.$createElement;if(!this.vanForm||!1!==this.vanForm.showErrorMessage){var t=this.errorMessage||this.validateMessage;if(t){var r=this.getProp("errorMessageAlign");return e("div",{class:k("error-message",r)},[t])}}},getProp:function(e){return(0,a.C8)(this[e])?this[e]:this.vanForm&&(0,a.C8)(this.vanForm[e])?this.vanForm[e]:void 0},genLabel:function(){var e=this.$createElement,t=this.getProp("colon")?":":"";return this.slots("label")?[this.slots("label"),t]:this.label?e("span",[this.label+t]):void 0}},render:function(){var e,t=arguments[0],r=this.slots,n=this.getProp("disabled"),i=this.getProp("labelAlign"),o={icon:this.genLeftIcon},a=this.genLabel();a&&(o.title=function(){return a});var s=this.slots("extra");return s&&(o.extra=function(){return s}),t(w,{attrs:{icon:this.leftIcon,size:this.size,center:this.center,border:this.border,isLink:this.isLink,required:this.required,clickable:this.clickable,titleStyle:this.labelStyle,valueClass:k("value"),titleClass:[k("label",i),this.labelClass],arrowDirection:this.arrowDirection},scopedSlots:o,class:k((e={error:this.showError,disabled:n},e["label-"+i]=i,e["min-height"]="textarea"===this.type&&!this.autosize,e)),on:{click:this.onClick}},[t("div",{class:k("body")},[this.genInput(),this.showClear&&t(y.A,{attrs:{name:"clear"},class:k("clear"),on:{touchstart:this.onClear}}),this.genRightIcon(),r("button")&&t("div",{class:k("button")},[r("button")])]),this.genWordLimit(),this.genMessage()])}})},2665:function(e,t,r){"use strict";var n=r(1137),i=r(9217),o=r(2301),a=r(6374),s=r(9763),c=r(7123),l=r(2631),u=r(6874),p=(0,i.Y)("grid-item"),d=p[0],h=p[1];t.A=d({mixins:[(0,c.b)("vanGrid")],props:(0,n.A)({},s.aI,{dot:Boolean,text:String,icon:String,iconPrefix:String,info:[Number,String],badge:[Number,String]}),computed:{style:function(){var e=this.parent,t=e.square,r=e.gutter,n=e.columnNum,i=100/n+"%",a={flexBasis:i};if(t)a.paddingTop=i;else if(r){var s=(0,o._)(r);a.paddingRight=s,this.index>=n&&(a.marginTop=s)}return a},contentStyle:function(){var e=this.parent,t=e.square,r=e.gutter;if(t&&r){var n=(0,o._)(r);return{right:n,bottom:n,height:"auto"}}}},methods:{onClick:function(e){this.$emit("click",e),(0,s.wE)(this.$router,this)},genIcon:function(){var e,t=this.$createElement,r=this.slots("icon"),n=null!=(e=this.badge)?e:this.info;return r?t("div",{class:h("icon-wrapper")},[r,t(l.A,{attrs:{dot:this.dot,info:n}})]):this.icon?t(u.A,{attrs:{name:this.icon,dot:this.dot,badge:n,size:this.parent.iconSize,classPrefix:this.iconPrefix},class:h("icon")}):void 0},getText:function(){var e=this.$createElement,t=this.slots("text");return t||(this.text?e("span",{class:h("text")},[this.text]):void 0)},genContent:function(){var e=this.slots();return e||[this.genIcon(),this.getText()]}},render:function(){var e,t=arguments[0],r=this.parent,n=r.center,i=r.border,o=r.square,s=r.gutter,c=r.direction,l=r.clickable;return t("div",{class:[h({square:o})],style:this.style},[t("div",{style:this.contentStyle,attrs:{role:l?"button":null,tabindex:l?0:null},class:[h("content",[c,{center:n,square:o,clickable:l,surround:i&&s}]),(e={},e[a.XE]=i,e)],on:{click:this.onClick}},[this.genContent()])])}})},1431:function(e,t,r){"use strict";var n=r(9217),i=r(2301),o=r(6374),a=r(7123),s=(0,n.Y)("grid"),c=s[0],l=s[1];t.A=c({mixins:[(0,a.G)("vanGrid")],props:{square:Boolean,gutter:[Number,String],iconSize:[Number,String],direction:String,clickable:Boolean,columnNum:{type:[Number,String],default:4},center:{type:Boolean,default:!0},border:{type:Boolean,default:!0}},computed:{style:function(){var e=this.gutter;if(e)return{paddingLeft:(0,i._)(e)}}},render:function(){var e,t=arguments[0];return t("div",{style:this.style,class:[l(),(e={},e[o.Bn]=this.border&&!this.gutter,e)]},[this.slots()])}})},6874:function(e,t,r){"use strict";var n=r(4250),i=r.n(n),o=r(9217),a=r(2301),s=r(5827),c=r(2631),l=(0,o.Y)("icon"),u=l[0],p=l[1];function d(e){return!!e&&-1!==e.indexOf("/")}var h={medel:"medal","medel-o":"medal-o","calender-o":"calendar-o"};function f(e){return e&&h[e]||e}function y(e,t,r,n){var o,l=f(t.name),u=d(l);return e(t.tag,i()([{class:[t.classPrefix,u?"":t.classPrefix+"-"+l],style:{color:t.color,fontSize:(0,a._)(t.size)}},(0,s.IL)(n,!0)]),[r.default&&r.default(),u&&e("img",{class:p("image"),attrs:{src:l}}),e(c.A,{attrs:{dot:t.dot,info:null!=(o=t.badge)?o:t.info}})])}y.props={dot:Boolean,name:String,size:[Number,String],info:[Number,String],badge:[Number,String],color:String,tag:{type:String,default:"i"},classPrefix:{type:String,default:p()}},t.A=u(y)},2631:function(e,t,r){"use strict";var n=r(4250),i=r.n(n),o=r(9217),a=r(3448),s=r(5827),c=(0,o.Y)("info"),l=c[0],u=c[1];function p(e,t,r,n){var o=t.dot,c=t.info,l=(0,a.C8)(c)&&""!==c;if(o||l)return e("div",i()([{class:u({dot:o})},(0,s.IL)(n,!0)]),[o?"":t.info])}p.props={dot:Boolean,info:[Number,String]},t.A=l(p)},339:function(e,t,r){"use strict";var n=r(9217),i=r(3474),o=r(2486),a=r(2879),s=r(689),c=(0,n.Y)("list"),l=c[0],u=c[1],p=c[2];t.A=l({mixins:[(0,a.x)((function(e){this.scroller||(this.scroller=(0,o.Rm)(this.$el)),e(this.scroller,"scroll",this.check)}))],model:{prop:"loading"},props:{error:Boolean,loading:Boolean,finished:Boolean,errorText:String,loadingText:String,finishedText:String,immediateCheck:{type:Boolean,default:!0},offset:{type:[Number,String],default:300},direction:{type:String,default:"down"}},data:function(){return{innerLoading:this.loading}},updated:function(){this.innerLoading=this.loading},mounted:function(){this.immediateCheck&&this.check()},watch:{loading:"check",finished:"check"},methods:{check:function(){var e=this;this.$nextTick((function(){if(!(e.innerLoading||e.finished||e.error)){var t,r=e.$el,n=e.scroller,o=e.offset,a=e.direction;t=n.getBoundingClientRect?n.getBoundingClientRect():{top:0,bottom:n.innerHeight};var s=t.bottom-t.top;if(!s||(0,i.d)(r))return!1;var c=!1,l=e.$refs.placeholder.getBoundingClientRect();c="up"===a?t.top-l.top<=o:l.bottom-t.bottom<=o,c&&(e.innerLoading=!0,e.$emit("input",!0),e.$emit("load"))}}))},clickErrorText:function(){this.$emit("update:error",!1),this.check()},genLoading:function(){var e=this.$createElement;if(this.innerLoading&&!this.finished)return e("div",{key:"loading",class:u("loading")},[this.slots("loading")||e(s.A,{attrs:{size:"16"}},[this.loadingText||p("loading")])])},genFinishedText:function(){var e=this.$createElement;if(this.finished){var t=this.slots("finished")||this.finishedText;if(t)return e("div",{class:u("finished-text")},[t])}},genErrorText:function(){var e=this.$createElement;if(this.error){var t=this.slots("error")||this.errorText;if(t)return e("div",{on:{click:this.clickErrorText},class:u("error-text")},[t])}}},render:function(){var e=arguments[0],t=e("div",{ref:"placeholder",key:"placeholder",class:u("placeholder")});return e("div",{class:u(),attrs:{role:"feed","aria-busy":this.innerLoading}},["down"===this.direction?this.slots():t,this.genLoading(),this.genFinishedText(),this.genErrorText(),"up"===this.direction?this.slots():t])}})},689:function(e,t,r){"use strict";r(4114);var n=r(4250),i=r.n(n),o=r(9217),a=r(2301),s=r(5827),c=(0,o.Y)("loading"),l=c[0],u=c[1];function p(e,t){if("spinner"===t.type){for(var r=[],n=0;n<12;n++)r.push(e("i"));return r}return e("svg",{class:u("circular"),attrs:{viewBox:"25 25 50 50"}},[e("circle",{attrs:{cx:"50",cy:"50",r:"20",fill:"none"}})])}function d(e,t,r){if(r.default){var n,i={fontSize:(0,a._)(t.textSize),color:null!=(n=t.textColor)?n:t.color};return e("span",{class:u("text"),style:i},[r.default()])}}function h(e,t,r,n){var o=t.color,c=t.size,l=t.type,h={color:o};if(c){var f=(0,a._)(c);h.width=f,h.height=f}return e("div",i()([{class:u([l,{vertical:t.vertical}])},(0,s.IL)(n,!0)]),[e("span",{class:u("spinner",l),style:h},[p(e,t)]),d(e,t,r)])}h.props={color:String,size:[Number,String],vertical:Boolean,textSize:[Number,String],textColor:String,type:{type:String,default:"circular"}},t.A=l(h)},2879:function(e,t,r){"use strict";r.d(t,{x:function(){return o}});var n=r(8499),i=0;function o(e){var t="binded_"+i++;function r(){this[t]||(e.call(this,n.on,!0),this[t]=!0)}function o(){this[t]&&(e.call(this,n.AU,!1),this[t]=!1)}return{mounted:r,activated:r,deactivated:o,beforeDestroy:o}}},3642:function(e,t,r){"use strict";r.d(t,{i:function(){return I},K:function(){return A}});r(4114),r(8992),r(3949),r(4520),r(2577);var n={zIndex:2e3,lockCount:0,stack:[],find:function(e){return this.stack.filter((function(t){return t.vm===e}))[0]},remove:function(e){var t=this.find(e);if(t){t.vm=null,t.overlay=null;var r=this.stack.indexOf(t);this.stack.splice(r,1)}}},i=r(1137),o=r(4250),a=r.n(o),s=r(9217),c=r(3448),l=r(5827),u=r(8499),p=(0,s.Y)("overlay"),d=p[0],h=p[1];function f(e){(0,u.wo)(e,!0)}function y(e,t,r,n){var o=(0,i.A)({zIndex:t.zIndex},t.customStyle);return(0,c.C8)(t.duration)&&(o.animationDuration=t.duration+"s"),e("transition",{attrs:{name:"van-fade"}},[e("div",a()([{directives:[{name:"show",value:t.show}],style:o,class:[h(),t.className],on:{touchmove:t.lockScroll?f:c.lQ}},(0,l.IL)(n,!0)]),[null==r.default?void 0:r.default()])])}y.props={show:Boolean,zIndex:[Number,String],duration:[Number,String],className:null,customStyle:Object,lockScroll:{type:Boolean,default:!0}};var g=d(y),v=r(7807),_={className:"",customStyle:{}};function m(e){return(0,l.Or)(g,{on:{click:function(){e.$emit("click-overlay"),e.closeOnClickOverlay&&(e.onClickOverlay?e.onClickOverlay():e.close())}}})}function b(e){var t=n.find(e);if(t){var r=e.$el,o=t.config,a=t.overlay;r&&r.parentNode&&r.parentNode.insertBefore(a.$el,r),(0,i.A)(a,_,o,{show:!0})}}function S(e,t){var r=n.find(e);if(r)r.config=t;else{var i=m(e);n.stack.push({vm:e,config:t,overlay:i})}b(e)}function T(e){var t=n.find(e);t&&(t.overlay.show=!1)}function w(e){var t=n.find(e);t&&((0,v.b)(t.overlay.$el),n.remove(e))}var E=r(2486),x=r(8722);function k(e){return"string"===typeof e?document.querySelector(e):e()}function P(e){var t=void 0===e?{}:e,r=t.ref,n=t.afterPortal;return{props:{getContainer:[String,Function]},watch:{getContainer:"portal"},mounted:function(){this.getContainer&&this.portal()},methods:{portal:function(){var e,t=this.getContainer,i=r?this.$refs[r]:this.$el;t?e=k(t):this.$parent&&(e=this.$parent.$el),e&&e!==i.parentNode&&e.appendChild(i),n&&n.call(this)}}}}var C=r(2879),R={mixins:[(0,C.x)((function(e,t){this.handlePopstate(t&&this.closeOnPopstate)}))],props:{closeOnPopstate:Boolean},data:function(){return{bindStatus:!1}},watch:{closeOnPopstate:function(e){this.handlePopstate(e)}},methods:{onPopstate:function(){this.close(),this.shouldReopen=!1},handlePopstate:function(e){if(!this.$isServer&&this.bindStatus!==e){this.bindStatus=e;var t=e?u.on:u.AU;t(window,"popstate",this.onPopstate)}}}},A={transitionAppear:Boolean,value:Boolean,overlay:Boolean,overlayStyle:Object,overlayClass:String,closeOnClickOverlay:Boolean,zIndex:[Number,String],lockScroll:{type:Boolean,default:!0},lazyRender:{type:Boolean,default:!0}};function I(e){return void 0===e&&(e={}),{mixins:[x.B,R,P({afterPortal:function(){this.overlay&&b()}})],provide:function(){return{vanPopup:this}},props:A,data:function(){return this.onReopenCallback=[],{inited:this.value}},computed:{shouldRender:function(){return this.inited||!this.lazyRender}},watch:{value:function(t){var r=t?"open":"close";this.inited=this.inited||this.value,this[r](),e.skipToggleEvent||this.$emit(r)},overlay:"renderOverlay"},mounted:function(){this.value&&this.open()},activated:function(){this.shouldReopen&&(this.$emit("input",!0),this.shouldReopen=!1)},beforeDestroy:function(){w(this),this.opened&&this.removeLock(),this.getContainer&&(0,v.b)(this.$el)},deactivated:function(){this.value&&(this.close(),this.shouldReopen=!0)},methods:{open:function(){this.$isServer||this.opened||(void 0!==this.zIndex&&(n.zIndex=this.zIndex),this.opened=!0,this.renderOverlay(),this.addLock(),this.onReopenCallback.forEach((function(e){e()})))},addLock:function(){this.lockScroll&&((0,u.on)(document,"touchstart",this.touchStart),(0,u.on)(document,"touchmove",this.onTouchMove),n.lockCount||document.body.classList.add("van-overflow-hidden"),n.lockCount++)},removeLock:function(){this.lockScroll&&n.lockCount&&(n.lockCount--,(0,u.AU)(document,"touchstart",this.touchStart),(0,u.AU)(document,"touchmove",this.onTouchMove),n.lockCount||document.body.classList.remove("van-overflow-hidden"))},close:function(){this.opened&&(T(this),this.opened=!1,this.removeLock(),this.$emit("input",!1))},onTouchMove:function(e){this.touchMove(e);var t=this.deltaY>0?"10":"01",r=(0,E.Rm)(e.target,this.$el),n=r.scrollHeight,i=r.offsetHeight,o=r.scrollTop,a="11";0===o?a=i>=n?"00":"01":o+i>=n&&(a="10"),"11"===a||"vertical"!==this.direction||parseInt(a,2)&parseInt(t,2)||(0,u.wo)(e,!0)},renderOverlay:function(){var e=this;!this.$isServer&&this.value&&this.$nextTick((function(){e.updateZIndex(e.overlay?1:0),e.overlay?S(e,{zIndex:n.zIndex++,duration:e.duration,className:e.overlayClass,customStyle:e.overlayStyle}):T(e)}))},updateZIndex:function(e){void 0===e&&(e=0),this.$el.style.zIndex=++n.zIndex+e},onReopen:function(e){this.onReopenCallback.push(e)}}}}},7123:function(e,t,r){"use strict";r.d(t,{b:function(){return o},G:function(){return a}});r(8992),r(4520),r(4114),r(3949),r(1454);function n(e){var t=[];function r(e){e.forEach((function(e){t.push(e),e.componentInstance&&r(e.componentInstance.$children.map((function(e){return e.$vnode}))),e.children&&r(e.children)}))}return r(e),t}function i(e,t){var r=t.$vnode.componentOptions;if(r&&r.children){var i=n(r.children);e.sort((function(e,t){return i.indexOf(e.$vnode)-i.indexOf(t.$vnode)}))}}function o(e,t){var r,n;void 0===t&&(t={});var o=t.indexKey||"index";return{inject:(r={},r[e]={default:null},r),computed:(n={parent:function(){return this.disableBindRelation?null:this[e]}},n[o]=function(){return this.bindRelation(),this.parent?this.parent.children.indexOf(this):null},n),watch:{disableBindRelation:function(e){e||this.bindRelation()}},mounted:function(){this.bindRelation()},beforeDestroy:function(){var e=this;this.parent&&(this.parent.children=this.parent.children.filter((function(t){return t!==e})))},methods:{bindRelation:function(){if(this.parent&&-1===this.parent.children.indexOf(this)){var e=[].concat(this.parent.children,[this]);i(e,this.parent),this.parent.children=e}}}}}function a(e){return{provide:function(){var t;return t={},t[e]=this,t},data:function(){return{children:[]}}}}},8722:function(e,t,r){"use strict";r.d(t,{B:function(){return o}});var n=r(8499);function i(e,t){return e>t?"horizontal":t>e?"vertical":""}var o={data:function(){return{direction:""}},methods:{touchStart:function(e){this.resetTouchStatus(),this.startX=e.touches[0].clientX,this.startY=e.touches[0].clientY},touchMove:function(e){var t=e.touches[0];this.deltaX=t.clientX<0?0:t.clientX-this.startX,this.deltaY=t.clientY-this.startY,this.offsetX=Math.abs(this.deltaX),this.offsetY=Math.abs(this.deltaY);var r=10;(!this.direction||this.offsetX<r&&this.offsetY<r)&&(this.direction=i(this.offsetX,this.offsetY))},resetTouchStatus:function(){this.direction="",this.deltaX=0,this.deltaY=0,this.offsetX=0,this.offsetY=0},bindTouchEvent:function(e){var t=this.onTouchStart,r=this.onTouchMove,i=this.onTouchEnd;(0,n.on)(e,"touchstart",t),(0,n.on)(e,"touchmove",r),i&&((0,n.on)(e,"touchend",i),(0,n.on)(e,"touchcancel",i))}}}},5187:function(e,t,r){"use strict";var n=r(9217),i=r(3448),o=r(3642),a=r(6874),s=(0,n.Y)("popup"),c=s[0],l=s[1];t.A=c({mixins:[(0,o.i)()],props:{round:Boolean,duration:[Number,String],closeable:Boolean,transition:String,safeAreaInsetBottom:Boolean,closeIcon:{type:String,default:"cross"},closeIconPosition:{type:String,default:"top-right"},position:{type:String,default:"center"},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0}},beforeCreate:function(){var e=this,t=function(t){return function(r){return e.$emit(t,r)}};this.onClick=t("click"),this.onOpened=t("opened"),this.onClosed=t("closed")},methods:{onClickCloseIcon:function(e){this.$emit("click-close-icon",e),this.close()}},render:function(){var e,t=arguments[0];if(this.shouldRender){var r=this.round,n=this.position,o=this.duration,s="center"===n,c=this.transition||(s?"van-fade":"van-popup-slide-"+n),u={};if((0,i.C8)(o)){var p=s?"animationDuration":"transitionDuration";u[p]=o+"s"}return t("transition",{attrs:{appear:this.transitionAppear,name:c},on:{afterEnter:this.onOpened,afterLeave:this.onClosed}},[t("div",{directives:[{name:"show",value:this.value}],style:u,class:l((e={round:r},e[n]=n,e["safe-area-inset-bottom"]=this.safeAreaInsetBottom,e)),on:{click:this.onClick}},[this.slots(),this.closeable&&t(a.A,{attrs:{role:"button",tabindex:"0",name:this.closeIcon},class:l("close-icon",this.closeIconPosition),on:{click:this.onClickCloseIcon}})])])}}})},5283:function(e,t,r){"use strict";var n=r(4250),i=r.n(n),o=r(1137),a=r(9217),s=r(5827),c=r(8499),l=r(4694),u=(0,a.Y)("search"),p=u[0],d=u[1],h=u[2];function f(e,t,r,n){function a(){if(r.label||t.label)return e("div",{class:d("label")},[r.label?r.label():t.label])}function u(){if(t.showAction)return e("div",{class:d("action"),attrs:{role:"button",tabindex:"0"},on:{click:i}},[r.action?r.action():t.actionText||h("cancel")]);function i(){r.action||((0,s.Ic)(n,"input",""),(0,s.Ic)(n,"cancel"))}}var p={attrs:n.data.attrs,on:(0,o.A)({},n.listeners,{keypress:function(e){13===e.keyCode&&((0,c.wo)(e),(0,s.Ic)(n,"search",t.value)),(0,s.Ic)(n,"keypress",e)}})},f=(0,s.IL)(n);return f.attrs=void 0,e("div",i()([{class:d({"show-action":t.showAction}),style:{background:t.background}},f]),[null==r.left?void 0:r.left(),e("div",{class:d("content",t.shape)},[a(),e(l.A,i()([{attrs:{type:"search",border:!1,value:t.value,leftIcon:t.leftIcon,rightIcon:t.rightIcon,clearable:t.clearable,clearTrigger:t.clearTrigger},scopedSlots:{"left-icon":r["left-icon"],"right-icon":r["right-icon"]}},p]))]),u()])}f.props={value:String,label:String,rightIcon:String,actionText:String,background:String,showAction:Boolean,clearTrigger:String,shape:{type:String,default:"square"},clearable:{type:Boolean,default:!0},leftIcon:{type:String,default:"search"}},t.A=p(f)},6749:function(e,t,r){"use strict";var n=r(1137),i=r(9217),o=r(7123),a=(0,i.Y)("swipe-item"),s=a[0],c=a[1];t.A=s({mixins:[(0,o.b)("vanSwipe")],data:function(){return{offset:0,inited:!1,mounted:!1}},mounted:function(){var e=this;this.$nextTick((function(){e.mounted=!0}))},computed:{style:function(){var e={},t=this.parent,r=t.size,n=t.vertical;return r&&(e[n?"height":"width"]=r+"px"),this.offset&&(e.transform="translate"+(n?"Y":"X")+"("+this.offset+"px)"),e},shouldRender:function(){var e=this.index,t=this.inited,r=this.parent,n=this.mounted;if(!r.lazyRender||t)return!0;if(!n)return!1;var i=r.activeIndicator,o=r.count-1,a=0===i&&r.loop?o:i-1,s=i===o&&r.loop?0:i+1,c=e===i||e===a||e===s;return c&&(this.inited=!0),c}},render:function(){var e=arguments[0];return e("div",{class:c(),style:this.style,on:(0,n.A)({},this.$listeners)},[this.shouldRender&&this.slots()])}})},7247:function(e,t,r){"use strict";r.d(t,{A:function(){return b}});r(8992),r(3949),r(1454);var n=r(9217),i=r(3474),o=r(8499),a=r(3448),s=Date.now();function c(e){var t=Date.now(),r=Math.max(0,16-(t-s)),n=setTimeout(e,r);return s=t+r,n}var l=a.S$?r.g:window,u=l.requestAnimationFrame||c;l.cancelAnimationFrame||l.clearTimeout;function p(e){return u.call(l,e)}function d(e){p((function(){p(e)}))}var h=r(1465),f=r(8722),y=r(7123),g=r(2879),v=(0,n.Y)("swipe"),_=v[0],m=v[1],b=_({mixins:[f.B,(0,y.G)("vanSwipe"),(0,g.x)((function(e,t){e(window,"resize",this.resize,!0),e(window,"orientationchange",this.resize,!0),e(window,"visibilitychange",this.onVisibilityChange),t?this.initialize():this.clear()}))],props:{width:[Number,String],height:[Number,String],autoplay:[Number,String],vertical:Boolean,lazyRender:Boolean,indicatorColor:String,loop:{type:Boolean,default:!0},duration:{type:[Number,String],default:500},touchable:{type:Boolean,default:!0},initialSwipe:{type:[Number,String],default:0},showIndicators:{type:Boolean,default:!0},stopPropagation:{type:Boolean,default:!0}},data:function(){return{rect:null,offset:0,active:0,deltaX:0,deltaY:0,swiping:!1,computedWidth:0,computedHeight:0}},watch:{children:function(){this.initialize()},initialSwipe:function(){this.initialize()},autoplay:function(e){e>0?this.autoPlay():this.clear()}},computed:{count:function(){return this.children.length},maxCount:function(){return Math.ceil(Math.abs(this.minOffset)/this.size)},delta:function(){return this.vertical?this.deltaY:this.deltaX},size:function(){return this[this.vertical?"computedHeight":"computedWidth"]},trackSize:function(){return this.count*this.size},activeIndicator:function(){return(this.active+this.count)%this.count},isCorrectDirection:function(){var e=this.vertical?"vertical":"horizontal";return this.direction===e},trackStyle:function(){var e={transitionDuration:(this.swiping?0:this.duration)+"ms",transform:"translate"+(this.vertical?"Y":"X")+"("+this.offset+"px)"};if(this.size){var t=this.vertical?"height":"width",r=this.vertical?"width":"height";e[t]=this.trackSize+"px",e[r]=this[r]?this[r]+"px":""}return e},indicatorStyle:function(){return{backgroundColor:this.indicatorColor}},minOffset:function(){return(this.vertical?this.rect.height:this.rect.width)-this.size*this.count}},mounted:function(){this.bindTouchEvent(this.$refs.track)},methods:{initialize:function(e){if(void 0===e&&(e=+this.initialSwipe),this.$el&&!(0,i.d)(this.$el)){clearTimeout(this.timer);var t={width:this.$el.offsetWidth,height:this.$el.offsetHeight};this.rect=t,this.swiping=!0,this.active=e,this.computedWidth=+this.width||t.width,this.computedHeight=+this.height||t.height,this.offset=this.getTargetOffset(e),this.children.forEach((function(e){e.offset=0})),this.autoPlay()}},resize:function(){this.initialize(this.activeIndicator)},onVisibilityChange:function(){document.hidden?this.clear():this.autoPlay()},onTouchStart:function(e){this.touchable&&(this.clear(),this.touchStartTime=Date.now(),this.touchStart(e),this.correctPosition())},onTouchMove:function(e){this.touchable&&this.swiping&&(this.touchMove(e),this.isCorrectDirection&&((0,o.wo)(e,this.stopPropagation),this.move({offset:this.delta})))},onTouchEnd:function(){if(this.touchable&&this.swiping){var e=this.size,t=this.delta,r=Date.now()-this.touchStartTime,n=t/r,i=Math.abs(n)>.25||Math.abs(t)>e/2;if(i&&this.isCorrectDirection){var o=this.vertical?this.offsetY:this.offsetX,a=0;a=this.loop?o>0?t>0?-1:1:0:-Math[t>0?"ceil":"floor"](t/e),this.move({pace:a,emitChange:!0})}else t&&this.move({pace:0});this.swiping=!1,this.autoPlay()}},getTargetActive:function(e){var t=this.active,r=this.count,n=this.maxCount;return e?this.loop?(0,h.y1)(t+e,-1,r):(0,h.y1)(t+e,0,n):t},getTargetOffset:function(e,t){void 0===t&&(t=0);var r=e*this.size;this.loop||(r=Math.min(r,-this.minOffset));var n=t-r;return this.loop||(n=(0,h.y1)(n,this.minOffset,0)),n},move:function(e){var t=e.pace,r=void 0===t?0:t,n=e.offset,i=void 0===n?0:n,o=e.emitChange,a=this.loop,s=this.count,c=this.active,l=this.children,u=this.trackSize,p=this.minOffset;if(!(s<=1)){var d=this.getTargetActive(r),h=this.getTargetOffset(d,i);if(a){if(l[0]&&h!==p){var f=h<p;l[0].offset=f?u:0}if(l[s-1]&&0!==h){var y=h>0;l[s-1].offset=y?-u:0}}this.active=d,this.offset=h,o&&d!==c&&this.$emit("change",this.activeIndicator)}},prev:function(){var e=this;this.correctPosition(),this.resetTouchStatus(),d((function(){e.swiping=!1,e.move({pace:-1,emitChange:!0})}))},next:function(){var e=this;this.correctPosition(),this.resetTouchStatus(),d((function(){e.swiping=!1,e.move({pace:1,emitChange:!0})}))},swipeTo:function(e,t){var r=this;void 0===t&&(t={}),this.correctPosition(),this.resetTouchStatus(),d((function(){var n;n=r.loop&&e===r.count?0===r.active?0:e:e%r.count,t.immediate?d((function(){r.swiping=!1})):r.swiping=!1,r.move({pace:n-r.active,emitChange:!0})}))},correctPosition:function(){this.swiping=!0,this.active<=-1&&this.move({pace:this.count}),this.active>=this.count&&this.move({pace:-this.count})},clear:function(){clearTimeout(this.timer)},autoPlay:function(){var e=this,t=this.autoplay;t>0&&this.count>1&&(this.clear(),this.timer=setTimeout((function(){e.next(),e.autoPlay()}),t))},genIndicator:function(){var e=this,t=this.$createElement,r=this.count,n=this.activeIndicator,i=this.slots("indicator");return i||(this.showIndicators&&r>1?t("div",{class:m("indicators",{vertical:this.vertical})},[Array.apply(void 0,Array(r)).map((function(r,i){return t("i",{class:m("indicator",{active:i===n}),style:i===n?e.indicatorStyle:null})}))]):void 0)}},render:function(){var e=arguments[0];return e("div",{class:m()},[e("div",{ref:"track",style:this.trackStyle,class:m("track",{vertical:this.vertical})},[this.slots()]),this.genIndicator()])}})},1981:function(e,t,r){"use strict";r.d(t,{A:function(){return C}});r(4114),r(8992),r(4520),r(3949);var n=r(1137),i=r(6848),o=r(9217),a=r(3448),s=0;function c(e){e?(s||document.body.classList.add("van-toast--unclickable"),s++):(s--,s||document.body.classList.remove("van-toast--unclickable"))}var l=r(3642),u=r(6874),p=r(689),d=(0,o.Y)("toast"),h=d[0],f=d[1],y=h({mixins:[(0,l.i)()],props:{icon:String,className:null,iconPrefix:String,loadingType:String,forbidClick:Boolean,closeOnClick:Boolean,message:[Number,String],type:{type:String,default:"text"},position:{type:String,default:"middle"},transition:{type:String,default:"van-fade"},lockScroll:{type:Boolean,default:!1}},data:function(){return{clickable:!1}},mounted:function(){this.toggleClickable()},destroyed:function(){this.toggleClickable()},watch:{value:"toggleClickable",forbidClick:"toggleClickable"},methods:{onClick:function(){this.closeOnClick&&this.close()},toggleClickable:function(){var e=this.value&&this.forbidClick;this.clickable!==e&&(this.clickable=e,c(e))},onAfterEnter:function(){this.$emit("opened"),this.onOpened&&this.onOpened()},onAfterLeave:function(){this.$emit("closed")},genIcon:function(){var e=this.$createElement,t=this.icon,r=this.type,n=this.iconPrefix,i=this.loadingType,o=t||"success"===r||"fail"===r;return o?e(u.A,{class:f("icon"),attrs:{classPrefix:n,name:t||r}}):"loading"===r?e(p.A,{class:f("loading"),attrs:{type:i}}):void 0},genMessage:function(){var e=this.$createElement,t=this.type,r=this.message;if((0,a.C8)(r)&&""!==r)return"html"===t?e("div",{class:f("text"),domProps:{innerHTML:r}}):e("div",{class:f("text")},[r])}},render:function(){var e,t=arguments[0];return t("transition",{attrs:{name:this.transition},on:{afterEnter:this.onAfterEnter,afterLeave:this.onAfterLeave}},[t("div",{directives:[{name:"show",value:this.value}],class:[f([this.position,(e={},e[this.type]=!this.icon,e)]),this.className],on:{click:this.onClick}},[this.genIcon(),this.genMessage()])])}}),g=r(7807),v={icon:"",type:"text",mask:!1,value:!0,message:"",className:"",overlay:!1,onClose:null,onOpened:null,duration:2e3,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,getContainer:"body",overlayStyle:null,closeOnClick:!1,closeOnClickOverlay:!1},_={},m=[],b=!1,S=(0,n.A)({},v);function T(e){return(0,a.Gv)(e)?e:{message:e}}function w(e){return document.body.contains(e)}function E(){if(a.S$)return{};if(m=m.filter((function(e){return!e.$el.parentNode||w(e.$el)})),!m.length||b){var e=new(i.Ay.extend(y))({el:document.createElement("div")});e.$on("input",(function(t){e.value=t})),m.push(e)}return m[m.length-1]}function x(e){return(0,n.A)({},e,{overlay:e.mask||e.overlay,mask:void 0,duration:void 0})}function k(e){void 0===e&&(e={});var t=E();return t.value&&t.updateZIndex(),e=T(e),e=(0,n.A)({},S,_[e.type||S.type],e),e.clear=function(){t.value=!1,e.onClose&&(e.onClose(),e.onClose=null),b&&!a.S$&&t.$on("closed",(function(){clearTimeout(t.timer),m=m.filter((function(e){return e!==t})),(0,g.b)(t.$el),t.$destroy()}))},(0,n.A)(t,x(e)),clearTimeout(t.timer),e.duration>0&&(t.timer=setTimeout((function(){t.clear()}),e.duration)),t}var P=function(e){return function(t){return k((0,n.A)({type:e},T(t)))}};["loading","success","fail"].forEach((function(e){k[e]=P(e)})),k.clear=function(e){m.length&&(e?(m.forEach((function(e){e.clear()})),m=[]):b?m.shift().clear():m[0].clear())},k.setDefaultOptions=function(e,t){"string"===typeof e?_[e]=t:(0,n.A)(S,e)},k.resetDefaultOptions=function(e){"string"===typeof e?_[e]=null:(S=(0,n.A)({},v),_={})},k.allowMultiple=function(e){void 0===e&&(e=!0),b=e},k.install=function(){i.Ay.use(y)},i.Ay.prototype.$toast=k;var C=k},6374:function(e,t,r){"use strict";r.d(t,{Bn:function(){return i},XE:function(){return n},kw:function(){return o}});var n="van-hairline",i=n+"--top",o=n+"--surround"},9217:function(e,t,r){"use strict";r.d(t,{Y:function(){return T}});r(8992),r(8872);function n(e,t){return t?"string"===typeof t?" "+e+"--"+t:Array.isArray(t)?t.reduce((function(t,r){return t+n(e,r)}),""):Object.keys(t).reduce((function(r,i){return r+(t[i]?n(e,i):"")}),""):""}function i(e){return function(t,r){return t&&"string"!==typeof t&&(r=t,t=""),t=t?e+"__"+t:e,""+t+n(t,r)}}r(4114),r(3949);var o=r(3448),a=/-(\w)/g;function s(e){return e.replace(a,(function(e,t){return t.toUpperCase()}))}var c={methods:{slots:function(e,t){void 0===e&&(e="default");var r=this.$slots,n=this.$scopedSlots,i=n[e];return i?i(t):r[e]}}};function l(e){var t=this.name;e.component(t,this),e.component(s("-"+t),this)}function u(e){var t=e.scopedSlots||e.data.scopedSlots||{},r=e.slots();return Object.keys(r).forEach((function(e){t[e]||(t[e]=function(){return r[e]})})),t}function p(e){return{functional:!0,props:e.props,model:e.model,render:function(t,r){return e(t,r.props,u(r),r)}}}function d(e){return function(t){return(0,o.Tn)(t)&&(t=p(t)),t.functional||(t.mixins=t.mixins||[],t.mixins.push(c)),t.name=e,t.install=l,t}}var h=r(6848),f=Object.prototype.hasOwnProperty;function y(e,t,r){var n=t[r];(0,o.C8)(n)&&(f.call(e,r)&&(0,o.Gv)(n)?e[r]=g(Object(e[r]),t[r]):e[r]=n)}function g(e,t){return Object.keys(t).forEach((function(r){y(e,t,r)})),e}var v={name:"姓名",tel:"电话",save:"保存",confirm:"确认",cancel:"取消",delete:"删除",complete:"完成",loading:"加载中...",telEmpty:"请填写电话",nameEmpty:"请填写姓名",nameInvalid:"请输入正确的姓名",confirmDelete:"确定要删除吗",telInvalid:"请输入正确的手机号",vanCalendar:{end:"结束",start:"开始",title:"日期选择",confirm:"确定",startEnd:"开始/结束",weekdays:["日","一","二","三","四","五","六"],monthTitle:function(e,t){return e+"年"+t+"月"},rangePrompt:function(e){return"选择天数不能超过 "+e+" 天"}},vanCascader:{select:"请选择"},vanContactCard:{addText:"添加联系人"},vanContactList:{addText:"新建联系人"},vanPagination:{prev:"上一页",next:"下一页"},vanPullRefresh:{pulling:"下拉即可刷新...",loosing:"释放即可刷新..."},vanSubmitBar:{label:"合计："},vanCoupon:{unlimited:"无使用门槛",discount:function(e){return e+"折"},condition:function(e){return"满"+e+"元可用"}},vanCouponCell:{title:"优惠券",tips:"暂无可用",count:function(e){return e+"张可用"}},vanCouponList:{empty:"暂无优惠券",exchange:"兑换",close:"不使用优惠券",enable:"可用",disabled:"不可用",placeholder:"请输入优惠码"},vanAddressEdit:{area:"地区",postal:"邮政编码",areaEmpty:"请选择地区",addressEmpty:"请填写详细地址",postalEmpty:"邮政编码格式不正确",defaultAddress:"设为默认收货地址",telPlaceholder:"收货人手机号",namePlaceholder:"收货人姓名",areaPlaceholder:"选择省 / 市 / 区"},vanAddressEditDetail:{label:"详细地址",placeholder:"街道门牌、楼层房间号等信息"},vanAddressList:{add:"新增地址"}},_=h.Ay.prototype,m=h.Ay.util.defineReactive;m(_,"$vantLang","zh-CN"),m(_,"$vantMessages",{"zh-CN":v});var b={messages:function(){return _.$vantMessages[_.$vantLang]},use:function(e,t){var r;_.$vantLang=e,this.add((r={},r[e]=t,r))},add:function(e){void 0===e&&(e={}),g(_.$vantMessages,e)}};function S(e){var t=s(e)+".";return function(e){for(var r=b.messages(),n=(0,o.Jt)(r,t+e)||(0,o.Jt)(r,e),i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];return(0,o.Tn)(n)?n.apply(void 0,a):n}}function T(e){return e="van-"+e,[d(e),i(e),S(e)]}},8499:function(e,t,r){"use strict";r.d(t,{AU:function(){return s},on:function(){return a},wo:function(){return l}});var n=r(3448),i=!1;if(!n.S$)try{var o={};Object.defineProperty(o,"passive",{get:function(){i=!0}}),window.addEventListener("test-passive",null,o)}catch(u){}function a(e,t,r,o){void 0===o&&(o=!1),n.S$||e.addEventListener(t,r,!!i&&{capture:!1,passive:o})}function s(e,t,r){n.S$||e.removeEventListener(t,r)}function c(e){e.stopPropagation()}function l(e,t){("boolean"!==typeof e.cancelable||e.cancelable)&&e.preventDefault(),t&&c(e)}},7807:function(e,t,r){"use strict";function n(e){var t=e.parentNode;t&&t.removeChild(e)}r.d(t,{b:function(){return n}})},2486:function(e,t,r){"use strict";r.d(t,{Fk:function(){return s},Rm:function(){return i},Td:function(){return a}});var n=/scroll|auto|overlay/i;function i(e,t){void 0===t&&(t=window);var r=e;while(r&&"HTML"!==r.tagName&&"BODY"!==r.tagName&&1===r.nodeType&&r!==t){var i=window.getComputedStyle(r),o=i.overflowY;if(n.test(o))return r;r=r.parentNode}return t}function o(e,t){"scrollTop"in e?e.scrollTop=t:e.scrollTo(e.scrollX,t)}function a(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function s(e){o(window,e),o(document.body,e)}},3474:function(e,t,r){"use strict";function n(e){var t=window.getComputedStyle(e),r="none"===t.display,n=null===e.offsetParent&&"fixed"!==t.position;return r||n}r.d(t,{d:function(){return n}})},1465:function(e,t,r){"use strict";function n(e,t,r){return Math.min(Math.max(e,t),r)}function i(e,t,r){var n=e.indexOf(t),i="";return-1===n?e:"-"===t&&0!==n?e.slice(0,n):("."===t&&e.match(/^(\.|-\.)/)&&(i=n?"-0":"0"),i+e.slice(0,n+1)+e.slice(n).replace(r,""))}function o(e,t,r){void 0===t&&(t=!0),void 0===r&&(r=!0),e=t?i(e,".",/\./g):e.split(".")[0],e=r?i(e,"-",/-/g):e.replace(/-/,"");var n=t?/[^-0-9.]/g:/[^-0-9]/g;return e.replace(n,"")}r.d(t,{ZV:function(){return o},y1:function(){return n}})},2301:function(e,t,r){"use strict";r.d(t,{_:function(){return o}});var n=r(3448);function i(e){return/^\d+(\.\d+)?$/.test(e)}function o(e){if((0,n.C8)(e))return e=String(e),i(e)?e+"px":e}},5827:function(e,t,r){"use strict";r.d(t,{IL:function(){return s},Ic:function(){return c},Or:function(){return l}});r(8992),r(3949);var n=r(1137),i=r(6848),o=["ref","key","style","class","attrs","refInFor","nativeOn","directives","staticClass","staticStyle"],a={nativeOn:"on"};function s(e,t){var r=o.reduce((function(t,r){return e.data[r]&&(t[a[r]||r]=e.data[r]),t}),{});return t&&(r.on=r.on||{},(0,n.A)(r.on,e.data.on)),r}function c(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];var o=e.listeners[t];o&&(Array.isArray(o)?o.forEach((function(e){e.apply(void 0,n)})):o.apply(void 0,n))}function l(e,t){var r=new i.Ay({el:document.createElement("div"),props:e.props,render:function(r){return r(e,(0,n.A)({props:this.$props},t))}});return document.body.appendChild(r.$el),r}},3448:function(e,t,r){"use strict";r.d(t,{C8:function(){return a},Gv:function(){return c},Jt:function(){return u},S$:function(){return i},Tn:function(){return s},lQ:function(){return o},yL:function(){return l}});r(8992),r(3949);var n=r(6848),i=n.Ay.prototype.$isServer;function o(){}function a(e){return void 0!==e&&null!==e}function s(e){return"function"===typeof e}function c(e){return null!==e&&"object"===typeof e}function l(e){return c(e)&&s(e.then)&&s(e.catch)}function u(e,t){var r=t.split("."),n=e;return r.forEach((function(e){var t;n=c(n)&&null!=(t=n[e])?t:""})),n}},9763:function(e,t,r){"use strict";function n(e){return"NavigationDuplicated"===e.name||e.message&&-1!==e.message.indexOf("redundant navigation")}function i(e,t){var r=t.to,i=t.url,o=t.replace;if(r&&e){var a=e[o?"replace":"push"](r);a&&a.catch&&a.catch((function(e){if(e&&!n(e))throw e}))}else i&&(o?location.replace(i):location.href=i)}function o(e){i(e.parent&&e.parent.$router,e.props)}r.d(t,{BC:function(){return o},aI:function(){return a},wE:function(){return i}});var a={url:String,replace:Boolean,to:[String,Object]}},6178:function(e,t,r){"use strict";r.d(t,{Ay:function(){return Tt}});r(4114),r(8992),r(3215),r(4520),r(3949),r(1454),r(7550);function n(e,t){for(var r in t)e[r]=t[r];return e}var i=/[!'()*]/g,o=function(e){return"%"+e.charCodeAt(0).toString(16)},a=/%2C/g,s=function(e){return encodeURIComponent(e).replace(i,o).replace(a,",")};function c(e){try{return decodeURIComponent(e)}catch(t){0}return e}function l(e,t,r){void 0===t&&(t={});var n,i=r||p;try{n=i(e||"")}catch(s){n={}}for(var o in t){var a=t[o];n[o]=Array.isArray(a)?a.map(u):u(a)}return n}var u=function(e){return null==e||"object"===typeof e?e:String(e)};function p(e){var t={};return e=e.trim().replace(/^(\?|#|&)/,""),e?(e.split("&").forEach((function(e){var r=e.replace(/\+/g," ").split("="),n=c(r.shift()),i=r.length>0?c(r.join("=")):null;void 0===t[n]?t[n]=i:Array.isArray(t[n])?t[n].push(i):t[n]=[t[n],i]})),t):t}function d(e){var t=e?Object.keys(e).map((function(t){var r=e[t];if(void 0===r)return"";if(null===r)return s(t);if(Array.isArray(r)){var n=[];return r.forEach((function(e){void 0!==e&&(null===e?n.push(s(t)):n.push(s(t)+"="+s(e)))})),n.join("&")}return s(t)+"="+s(r)})).filter((function(e){return e.length>0})).join("&"):null;return t?"?"+t:""}var h=/\/?$/;function f(e,t,r,n){var i=n&&n.options.stringifyQuery,o=t.query||{};try{o=y(o)}catch(s){}var a={name:t.name||e&&e.name,meta:e&&e.meta||{},path:t.path||"/",hash:t.hash||"",query:o,params:t.params||{},fullPath:_(t,i),matched:e?v(e):[]};return r&&(a.redirectedFrom=_(r,i)),Object.freeze(a)}function y(e){if(Array.isArray(e))return e.map(y);if(e&&"object"===typeof e){var t={};for(var r in e)t[r]=y(e[r]);return t}return e}var g=f(null,{path:"/"});function v(e){var t=[];while(e)t.unshift(e),e=e.parent;return t}function _(e,t){var r=e.path,n=e.query;void 0===n&&(n={});var i=e.hash;void 0===i&&(i="");var o=t||d;return(r||"/")+o(n)+i}function m(e,t,r){return t===g?e===t:!!t&&(e.path&&t.path?e.path.replace(h,"")===t.path.replace(h,"")&&(r||e.hash===t.hash&&b(e.query,t.query)):!(!e.name||!t.name)&&(e.name===t.name&&(r||e.hash===t.hash&&b(e.query,t.query)&&b(e.params,t.params))))}function b(e,t){if(void 0===e&&(e={}),void 0===t&&(t={}),!e||!t)return e===t;var r=Object.keys(e).sort(),n=Object.keys(t).sort();return r.length===n.length&&r.every((function(r,i){var o=e[r],a=n[i];if(a!==r)return!1;var s=t[r];return null==o||null==s?o===s:"object"===typeof o&&"object"===typeof s?b(o,s):String(o)===String(s)}))}function S(e,t){return 0===e.path.replace(h,"/").indexOf(t.path.replace(h,"/"))&&(!t.hash||e.hash===t.hash)&&T(e.query,t.query)}function T(e,t){for(var r in t)if(!(r in e))return!1;return!0}function w(e){for(var t=0;t<e.matched.length;t++){var r=e.matched[t];for(var n in r.instances){var i=r.instances[n],o=r.enteredCbs[n];if(i&&o){delete r.enteredCbs[n];for(var a=0;a<o.length;a++)i._isBeingDestroyed||o[a](i)}}}}var E={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(e,t){var r=t.props,i=t.children,o=t.parent,a=t.data;a.routerView=!0;var s=o.$createElement,c=r.name,l=o.$route,u=o._routerViewCache||(o._routerViewCache={}),p=0,d=!1;while(o&&o._routerRoot!==o){var h=o.$vnode?o.$vnode.data:{};h.routerView&&p++,h.keepAlive&&o._directInactive&&o._inactive&&(d=!0),o=o.$parent}if(a.routerViewDepth=p,d){var f=u[c],y=f&&f.component;return y?(f.configProps&&x(y,a,f.route,f.configProps),s(y,a,i)):s()}var g=l.matched[p],v=g&&g.components[c];if(!g||!v)return u[c]=null,s();u[c]={component:v},a.registerRouteInstance=function(e,t){var r=g.instances[c];(t&&r!==e||!t&&r===e)&&(g.instances[c]=t)},(a.hook||(a.hook={})).prepatch=function(e,t){g.instances[c]=t.componentInstance},a.hook.init=function(e){e.data.keepAlive&&e.componentInstance&&e.componentInstance!==g.instances[c]&&(g.instances[c]=e.componentInstance),w(l)};var _=g.props&&g.props[c];return _&&(n(u[c],{route:l,configProps:_}),x(v,a,l,_)),s(v,a,i)}};function x(e,t,r,i){var o=t.props=k(r,i);if(o){o=t.props=n({},o);var a=t.attrs=t.attrs||{};for(var s in o)e.props&&s in e.props||(a[s]=o[s],delete o[s])}}function k(e,t){switch(typeof t){case"undefined":return;case"object":return t;case"function":return t(e);case"boolean":return t?e.params:void 0;default:0}}function P(e,t,r){var n=e.charAt(0);if("/"===n)return e;if("?"===n||"#"===n)return t+e;var i=t.split("/");r&&i[i.length-1]||i.pop();for(var o=e.replace(/^\//,"").split("/"),a=0;a<o.length;a++){var s=o[a];".."===s?i.pop():"."!==s&&i.push(s)}return""!==i[0]&&i.unshift(""),i.join("/")}function C(e){var t="",r="",n=e.indexOf("#");n>=0&&(t=e.slice(n),e=e.slice(0,n));var i=e.indexOf("?");return i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),{path:e,query:r,hash:t}}function R(e){return e.replace(/\/(?:\s*\/)+/g,"/")}var A=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)},I=Y,O=U,L=j,D=H,N=K,M=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function U(e,t){var r,n=[],i=0,o=0,a="",s=t&&t.delimiter||"/";while(null!=(r=M.exec(e))){var c=r[0],l=r[1],u=r.index;if(a+=e.slice(o,u),o=u+c.length,l)a+=l[1];else{var p=e[o],d=r[2],h=r[3],f=r[4],y=r[5],g=r[6],v=r[7];a&&(n.push(a),a="");var _=null!=d&&null!=p&&p!==d,m="+"===g||"*"===g,b="?"===g||"*"===g,S=r[2]||s,T=f||y;n.push({name:h||i++,prefix:d||"",delimiter:S,optional:b,repeat:m,partial:_,asterisk:!!v,pattern:T?$(T):v?".*":"[^"+V(S)+"]+?"})}}return o<e.length&&(a+=e.substr(o)),a&&n.push(a),n}function j(e,t){return H(U(e,t),t)}function B(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function F(e){return encodeURI(e).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function H(e,t){for(var r=new Array(e.length),n=0;n<e.length;n++)"object"===typeof e[n]&&(r[n]=new RegExp("^(?:"+e[n].pattern+")$",W(t)));return function(t,n){for(var i="",o=t||{},a=n||{},s=a.pretty?B:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var u,p=o[l.name];if(null==p){if(l.optional){l.partial&&(i+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(A(p)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(p)+"`");if(0===p.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<p.length;d++){if(u=s(p[d]),!r[c].test(u))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(u)+"`");i+=(0===d?l.prefix:l.delimiter)+u}}else{if(u=l.asterisk?F(p):s(p),!r[c].test(u))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+u+'"');i+=l.prefix+u}}else i+=l}return i}}function V(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function $(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function q(e,t){return e.keys=t,e}function W(e){return e&&e.sensitive?"":"i"}function z(e,t){var r=e.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)t.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return q(e,t)}function X(e,t,r){for(var n=[],i=0;i<e.length;i++)n.push(Y(e[i],t,r).source);var o=new RegExp("(?:"+n.join("|")+")",W(r));return q(o,t)}function G(e,t,r){return K(U(e,r),t,r)}function K(e,t,r){A(t)||(r=t||r,t=[]),r=r||{};for(var n=r.strict,i=!1!==r.end,o="",a=0;a<e.length;a++){var s=e[a];if("string"===typeof s)o+=V(s);else{var c=V(s.prefix),l="(?:"+s.pattern+")";t.push(s),s.repeat&&(l+="(?:"+c+l+")*"),l=s.optional?s.partial?c+"("+l+")?":"(?:"+c+"("+l+"))?":c+"("+l+")",o+=l}}var u=V(r.delimiter||"/"),p=o.slice(-u.length)===u;return n||(o=(p?o.slice(0,-u.length):o)+"(?:"+u+"(?=$))?"),o+=i?"$":n&&p?"":"(?="+u+"|$)",q(new RegExp("^"+o,W(r)),t)}function Y(e,t,r){return A(t)||(r=t||r,t=[]),r=r||{},e instanceof RegExp?z(e,t):A(e)?X(e,t,r):G(e,t,r)}I.parse=O,I.compile=L,I.tokensToFunction=D,I.tokensToRegExp=N;var Q=Object.create(null);function J(e,t,r){t=t||{};try{var n=Q[e]||(Q[e]=I.compile(e));return"string"===typeof t.pathMatch&&(t[0]=t.pathMatch),n(t,{pretty:!0})}catch(i){return""}finally{delete t[0]}}function Z(e,t,r,i){var o="string"===typeof e?{path:e}:e;if(o._normalized)return o;if(o.name){o=n({},e);var a=o.params;return a&&"object"===typeof a&&(o.params=n({},a)),o}if(!o.path&&o.params&&t){o=n({},o),o._normalized=!0;var s=n(n({},t.params),o.params);if(t.name)o.name=t.name,o.params=s;else if(t.matched.length){var c=t.matched[t.matched.length-1].path;o.path=J(c,s,"path "+t.path)}else 0;return o}var u=C(o.path||""),p=t&&t.path||"/",d=u.path?P(u.path,p,r||o.append):p,h=l(u.query,o.query,i&&i.options.parseQuery),f=o.hash||u.hash;return f&&"#"!==f.charAt(0)&&(f="#"+f),{_normalized:!0,path:d,query:h,hash:f}}var ee,te=[String,Object],re=[String,Array],ne=function(){},ie={name:"RouterLink",props:{to:{type:te,required:!0},tag:{type:String,default:"a"},custom:Boolean,exact:Boolean,exactPath:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:re,default:"click"}},render:function(e){var t=this,r=this.$router,i=this.$route,o=r.resolve(this.to,i,this.append),a=o.location,s=o.route,c=o.href,l={},u=r.options.linkActiveClass,p=r.options.linkExactActiveClass,d=null==u?"router-link-active":u,h=null==p?"router-link-exact-active":p,y=null==this.activeClass?d:this.activeClass,g=null==this.exactActiveClass?h:this.exactActiveClass,v=s.redirectedFrom?f(null,Z(s.redirectedFrom),null,r):s;l[g]=m(i,v,this.exactPath),l[y]=this.exact||this.exactPath?l[g]:S(i,v);var _=l[g]?this.ariaCurrentValue:null,b=function(e){oe(e)&&(t.replace?r.replace(a,ne):r.push(a,ne))},T={click:oe};Array.isArray(this.event)?this.event.forEach((function(e){T[e]=b})):T[this.event]=b;var w={class:l},E=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:c,route:s,navigate:b,isActive:l[y],isExactActive:l[g]});if(E){if(1===E.length)return E[0];if(E.length>1||!E.length)return 0===E.length?e():e("span",{},E)}if("a"===this.tag)w.on=T,w.attrs={href:c,"aria-current":_};else{var x=ae(this.$slots.default);if(x){x.isStatic=!1;var k=x.data=n({},x.data);for(var P in k.on=k.on||{},k.on){var C=k.on[P];P in T&&(k.on[P]=Array.isArray(C)?C:[C])}for(var R in T)R in k.on?k.on[R].push(T[R]):k.on[R]=b;var A=x.data.attrs=n({},x.data.attrs);A.href=c,A["aria-current"]=_}else w.on=T}return e(this.tag,w,this.$slots.default)}};function oe(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&(void 0===e.button||0===e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){var t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function ae(e){if(e)for(var t,r=0;r<e.length;r++){if(t=e[r],"a"===t.tag)return t;if(t.children&&(t=ae(t.children)))return t}}function se(e){if(!se.installed||ee!==e){se.installed=!0,ee=e;var t=function(e){return void 0!==e},r=function(e,r){var n=e.$options._parentVnode;t(n)&&t(n=n.data)&&t(n=n.registerRouteInstance)&&n(e,r)};e.mixin({beforeCreate:function(){t(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),e.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,r(this,this)},destroyed:function(){r(this)}}),Object.defineProperty(e.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(e.prototype,"$route",{get:function(){return this._routerRoot._route}}),e.component("RouterView",E),e.component("RouterLink",ie);var n=e.config.optionMergeStrategies;n.beforeRouteEnter=n.beforeRouteLeave=n.beforeRouteUpdate=n.created}}var ce="undefined"!==typeof window;function le(e,t,r,n,i){var o=t||[],a=r||Object.create(null),s=n||Object.create(null);e.forEach((function(e){ue(o,a,s,e,i)}));for(var c=0,l=o.length;c<l;c++)"*"===o[c]&&(o.push(o.splice(c,1)[0]),l--,c--);return{pathList:o,pathMap:a,nameMap:s}}function ue(e,t,r,n,i,o){var a=n.path,s=n.name;var c=n.pathToRegexpOptions||{},l=de(a,i,c.strict);"boolean"===typeof n.caseSensitive&&(c.sensitive=n.caseSensitive);var u={path:l,regex:pe(l,c),components:n.components||{default:n.component},alias:n.alias?"string"===typeof n.alias?[n.alias]:n.alias:[],instances:{},enteredCbs:{},name:s,parent:i,matchAs:o,redirect:n.redirect,beforeEnter:n.beforeEnter,meta:n.meta||{},props:null==n.props?{}:n.components?n.props:{default:n.props}};if(n.children&&n.children.forEach((function(n){var i=o?R(o+"/"+n.path):void 0;ue(e,t,r,n,u,i)})),t[u.path]||(e.push(u.path),t[u.path]=u),void 0!==n.alias)for(var p=Array.isArray(n.alias)?n.alias:[n.alias],d=0;d<p.length;++d){var h=p[d];0;var f={path:h,children:n.children};ue(e,t,r,f,i,u.path||"/")}s&&(r[s]||(r[s]=u))}function pe(e,t){var r=I(e,[],t);return r}function de(e,t,r){return r||(e=e.replace(/\/$/,"")),"/"===e[0]||null==t?e:R(t.path+"/"+e)}function he(e,t){var r=le(e),n=r.pathList,i=r.pathMap,o=r.nameMap;function a(e){le(e,n,i,o)}function s(e,t){var r="object"!==typeof e?o[e]:void 0;le([t||e],n,i,o,r),r&&r.alias.length&&le(r.alias.map((function(e){return{path:e,children:[t]}})),n,i,o,r)}function c(){return n.map((function(e){return i[e]}))}function l(e,r,a){var s=Z(e,r,!1,t),c=s.name;if(c){var l=o[c];if(!l)return d(null,s);var u=l.regex.keys.filter((function(e){return!e.optional})).map((function(e){return e.name}));if("object"!==typeof s.params&&(s.params={}),r&&"object"===typeof r.params)for(var p in r.params)!(p in s.params)&&u.indexOf(p)>-1&&(s.params[p]=r.params[p]);return s.path=J(l.path,s.params,'named route "'+c+'"'),d(l,s,a)}if(s.path){s.params={};for(var h=0;h<n.length;h++){var f=n[h],y=i[f];if(fe(y.regex,s.path,s.params))return d(y,s,a)}}return d(null,s)}function u(e,r){var n=e.redirect,i="function"===typeof n?n(f(e,r,null,t)):n;if("string"===typeof i&&(i={path:i}),!i||"object"!==typeof i)return d(null,r);var a=i,s=a.name,c=a.path,u=r.query,p=r.hash,h=r.params;if(u=a.hasOwnProperty("query")?a.query:u,p=a.hasOwnProperty("hash")?a.hash:p,h=a.hasOwnProperty("params")?a.params:h,s){o[s];return l({_normalized:!0,name:s,query:u,hash:p,params:h},void 0,r)}if(c){var y=ye(c,e),g=J(y,h,'redirect route with path "'+y+'"');return l({_normalized:!0,path:g,query:u,hash:p},void 0,r)}return d(null,r)}function p(e,t,r){var n=J(r,t.params,'aliased route with path "'+r+'"'),i=l({_normalized:!0,path:n});if(i){var o=i.matched,a=o[o.length-1];return t.params=i.params,d(a,t)}return d(null,t)}function d(e,r,n){return e&&e.redirect?u(e,n||r):e&&e.matchAs?p(e,r,e.matchAs):f(e,r,n,t)}return{match:l,addRoute:s,getRoutes:c,addRoutes:a}}function fe(e,t,r){var n=t.match(e);if(!n)return!1;if(!r)return!0;for(var i=1,o=n.length;i<o;++i){var a=e.keys[i-1];a&&(r[a.name||"pathMatch"]="string"===typeof n[i]?c(n[i]):n[i])}return!0}function ye(e,t){return P(e,t.parent?t.parent.path:"/",!0)}var ge=ce&&window.performance&&window.performance.now?window.performance:Date;function ve(){return ge.now().toFixed(3)}var _e=ve();function me(){return _e}function be(e){return _e=e}var Se=Object.create(null);function Te(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var e=window.location.protocol+"//"+window.location.host,t=window.location.href.replace(e,""),r=n({},window.history.state);return r.key=me(),window.history.replaceState(r,"",t),window.addEventListener("popstate",xe),function(){window.removeEventListener("popstate",xe)}}function we(e,t,r,n){if(e.app){var i=e.options.scrollBehavior;i&&e.app.$nextTick((function(){var o=ke(),a=i.call(e,t,r,n?o:null);a&&("function"===typeof a.then?a.then((function(e){Le(e,o)})).catch((function(e){0})):Le(a,o))}))}}function Ee(){var e=me();e&&(Se[e]={x:window.pageXOffset,y:window.pageYOffset})}function xe(e){Ee(),e.state&&e.state.key&&be(e.state.key)}function ke(){var e=me();if(e)return Se[e]}function Pe(e,t){var r=document.documentElement,n=r.getBoundingClientRect(),i=e.getBoundingClientRect();return{x:i.left-n.left-t.x,y:i.top-n.top-t.y}}function Ce(e){return Ie(e.x)||Ie(e.y)}function Re(e){return{x:Ie(e.x)?e.x:window.pageXOffset,y:Ie(e.y)?e.y:window.pageYOffset}}function Ae(e){return{x:Ie(e.x)?e.x:0,y:Ie(e.y)?e.y:0}}function Ie(e){return"number"===typeof e}var Oe=/^#\d/;function Le(e,t){var r="object"===typeof e;if(r&&"string"===typeof e.selector){var n=Oe.test(e.selector)?document.getElementById(e.selector.slice(1)):document.querySelector(e.selector);if(n){var i=e.offset&&"object"===typeof e.offset?e.offset:{};i=Ae(i),t=Pe(n,i)}else Ce(e)&&(t=Re(e))}else r&&Ce(e)&&(t=Re(e));t&&("scrollBehavior"in document.documentElement.style?window.scrollTo({left:t.x,top:t.y,behavior:e.behavior}):window.scrollTo(t.x,t.y))}var De=ce&&function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"function"===typeof window.history.pushState)}();function Ne(e,t){Ee();var r=window.history;try{if(t){var i=n({},r.state);i.key=me(),r.replaceState(i,"",e)}else r.pushState({key:be(ve())},"",e)}catch(o){window.location[t?"replace":"assign"](e)}}function Me(e){Ne(e,!0)}var Ue={redirected:2,aborted:4,cancelled:8,duplicated:16};function je(e,t){return Ve(e,t,Ue.redirected,'Redirected when going from "'+e.fullPath+'" to "'+qe(t)+'" via a navigation guard.')}function Be(e,t){var r=Ve(e,t,Ue.duplicated,'Avoided redundant navigation to current location: "'+e.fullPath+'".');return r.name="NavigationDuplicated",r}function Fe(e,t){return Ve(e,t,Ue.cancelled,'Navigation cancelled from "'+e.fullPath+'" to "'+t.fullPath+'" with a new navigation.')}function He(e,t){return Ve(e,t,Ue.aborted,'Navigation aborted from "'+e.fullPath+'" to "'+t.fullPath+'" via a navigation guard.')}function Ve(e,t,r,n){var i=new Error(n);return i._isRouter=!0,i.from=e,i.to=t,i.type=r,i}var $e=["params","query","hash"];function qe(e){if("string"===typeof e)return e;if("path"in e)return e.path;var t={};return $e.forEach((function(r){r in e&&(t[r]=e[r])})),JSON.stringify(t,null,2)}function We(e){return Object.prototype.toString.call(e).indexOf("Error")>-1}function ze(e,t){return We(e)&&e._isRouter&&(null==t||e.type===t)}function Xe(e,t,r){var n=function(i){i>=e.length?r():e[i]?t(e[i],(function(){n(i+1)})):n(i+1)};n(0)}function Ge(e){return function(t,r,n){var i=!1,o=0,a=null;Ke(e,(function(e,t,r,s){if("function"===typeof e&&void 0===e.cid){i=!0,o++;var c,l=Ze((function(t){Je(t)&&(t=t.default),e.resolved="function"===typeof t?t:ee.extend(t),r.components[s]=t,o--,o<=0&&n()})),u=Ze((function(e){var t="Failed to resolve async component "+s+": "+e;a||(a=We(e)?e:new Error(t),n(a))}));try{c=e(l,u)}catch(d){u(d)}if(c)if("function"===typeof c.then)c.then(l,u);else{var p=c.component;p&&"function"===typeof p.then&&p.then(l,u)}}})),i||n()}}function Ke(e,t){return Ye(e.map((function(e){return Object.keys(e.components).map((function(r){return t(e.components[r],e.instances[r],e,r)}))})))}function Ye(e){return Array.prototype.concat.apply([],e)}var Qe="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag;function Je(e){return e.__esModule||Qe&&"Module"===e[Symbol.toStringTag]}function Ze(e){var t=!1;return function(){var r=[],n=arguments.length;while(n--)r[n]=arguments[n];if(!t)return t=!0,e.apply(this,r)}}var et=function(e,t){this.router=e,this.base=tt(t),this.current=g,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};function tt(e){if(!e)if(ce){var t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^https?:\/\/[^\/]+/,"")}else e="/";return"/"!==e.charAt(0)&&(e="/"+e),e.replace(/\/$/,"")}function rt(e,t){var r,n=Math.max(e.length,t.length);for(r=0;r<n;r++)if(e[r]!==t[r])break;return{updated:t.slice(0,r),activated:t.slice(r),deactivated:e.slice(r)}}function nt(e,t,r,n){var i=Ke(e,(function(e,n,i,o){var a=it(e,t);if(a)return Array.isArray(a)?a.map((function(e){return r(e,n,i,o)})):r(a,n,i,o)}));return Ye(n?i.reverse():i)}function it(e,t){return"function"!==typeof e&&(e=ee.extend(e)),e.options[t]}function ot(e){return nt(e,"beforeRouteLeave",st,!0)}function at(e){return nt(e,"beforeRouteUpdate",st)}function st(e,t){if(t)return function(){return e.apply(t,arguments)}}function ct(e){return nt(e,"beforeRouteEnter",(function(e,t,r,n){return lt(e,r,n)}))}function lt(e,t,r){return function(n,i,o){return e(n,i,(function(e){"function"===typeof e&&(t.enteredCbs[r]||(t.enteredCbs[r]=[]),t.enteredCbs[r].push(e)),o(e)}))}}et.prototype.listen=function(e){this.cb=e},et.prototype.onReady=function(e,t){this.ready?e():(this.readyCbs.push(e),t&&this.readyErrorCbs.push(t))},et.prototype.onError=function(e){this.errorCbs.push(e)},et.prototype.transitionTo=function(e,t,r){var n,i=this;try{n=this.router.match(e,this.current)}catch(a){throw this.errorCbs.forEach((function(e){e(a)})),a}var o=this.current;this.confirmTransition(n,(function(){i.updateRoute(n),t&&t(n),i.ensureURL(),i.router.afterHooks.forEach((function(e){e&&e(n,o)})),i.ready||(i.ready=!0,i.readyCbs.forEach((function(e){e(n)})))}),(function(e){r&&r(e),e&&!i.ready&&(ze(e,Ue.redirected)&&o===g||(i.ready=!0,i.readyErrorCbs.forEach((function(t){t(e)}))))}))},et.prototype.confirmTransition=function(e,t,r){var n=this,i=this.current;this.pending=e;var o=function(e){!ze(e)&&We(e)&&(n.errorCbs.length?n.errorCbs.forEach((function(t){t(e)})):console.error(e)),r&&r(e)},a=e.matched.length-1,s=i.matched.length-1;if(m(e,i)&&a===s&&e.matched[a]===i.matched[s])return this.ensureURL(),e.hash&&we(this.router,i,e,!1),o(Be(i,e));var c=rt(this.current.matched,e.matched),l=c.updated,u=c.deactivated,p=c.activated,d=[].concat(ot(u),this.router.beforeHooks,at(l),p.map((function(e){return e.beforeEnter})),Ge(p)),h=function(t,r){if(n.pending!==e)return o(Fe(i,e));try{t(e,i,(function(t){!1===t?(n.ensureURL(!0),o(He(i,e))):We(t)?(n.ensureURL(!0),o(t)):"string"===typeof t||"object"===typeof t&&("string"===typeof t.path||"string"===typeof t.name)?(o(je(i,e)),"object"===typeof t&&t.replace?n.replace(t):n.push(t)):r(t)}))}catch(a){o(a)}};Xe(d,h,(function(){var r=ct(p),a=r.concat(n.router.resolveHooks);Xe(a,h,(function(){if(n.pending!==e)return o(Fe(i,e));n.pending=null,t(e),n.router.app&&n.router.app.$nextTick((function(){w(e)}))}))}))},et.prototype.updateRoute=function(e){this.current=e,this.cb&&this.cb(e)},et.prototype.setupListeners=function(){},et.prototype.teardown=function(){this.listeners.forEach((function(e){e()})),this.listeners=[],this.current=g,this.pending=null};var ut=function(e){function t(t,r){e.call(this,t,r),this._startLocation=pt(this.base)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setupListeners=function(){var e=this;if(!(this.listeners.length>0)){var t=this.router,r=t.options.scrollBehavior,n=De&&r;n&&this.listeners.push(Te());var i=function(){var r=e.current,i=pt(e.base);e.current===g&&i===e._startLocation||e.transitionTo(i,(function(e){n&&we(t,e,r,!0)}))};window.addEventListener("popstate",i),this.listeners.push((function(){window.removeEventListener("popstate",i)}))}},t.prototype.go=function(e){window.history.go(e)},t.prototype.push=function(e,t,r){var n=this,i=this,o=i.current;this.transitionTo(e,(function(e){Ne(R(n.base+e.fullPath)),we(n.router,e,o,!1),t&&t(e)}),r)},t.prototype.replace=function(e,t,r){var n=this,i=this,o=i.current;this.transitionTo(e,(function(e){Me(R(n.base+e.fullPath)),we(n.router,e,o,!1),t&&t(e)}),r)},t.prototype.ensureURL=function(e){if(pt(this.base)!==this.current.fullPath){var t=R(this.base+this.current.fullPath);e?Ne(t):Me(t)}},t.prototype.getCurrentLocation=function(){return pt(this.base)},t}(et);function pt(e){var t=window.location.pathname,r=t.toLowerCase(),n=e.toLowerCase();return!e||r!==n&&0!==r.indexOf(R(n+"/"))||(t=t.slice(e.length)),(t||"/")+window.location.search+window.location.hash}var dt=function(e){function t(t,r,n){e.call(this,t,r),n&&ht(this.base)||ft()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setupListeners=function(){var e=this;if(!(this.listeners.length>0)){var t=this.router,r=t.options.scrollBehavior,n=De&&r;n&&this.listeners.push(Te());var i=function(){var t=e.current;ft()&&e.transitionTo(yt(),(function(r){n&&we(e.router,r,t,!0),De||_t(r.fullPath)}))},o=De?"popstate":"hashchange";window.addEventListener(o,i),this.listeners.push((function(){window.removeEventListener(o,i)}))}},t.prototype.push=function(e,t,r){var n=this,i=this,o=i.current;this.transitionTo(e,(function(e){vt(e.fullPath),we(n.router,e,o,!1),t&&t(e)}),r)},t.prototype.replace=function(e,t,r){var n=this,i=this,o=i.current;this.transitionTo(e,(function(e){_t(e.fullPath),we(n.router,e,o,!1),t&&t(e)}),r)},t.prototype.go=function(e){window.history.go(e)},t.prototype.ensureURL=function(e){var t=this.current.fullPath;yt()!==t&&(e?vt(t):_t(t))},t.prototype.getCurrentLocation=function(){return yt()},t}(et);function ht(e){var t=pt(e);if(!/^\/#/.test(t))return window.location.replace(R(e+"/#"+t)),!0}function ft(){var e=yt();return"/"===e.charAt(0)||(_t("/"+e),!1)}function yt(){var e=window.location.href,t=e.indexOf("#");return t<0?"":(e=e.slice(t+1),e)}function gt(e){var t=window.location.href,r=t.indexOf("#"),n=r>=0?t.slice(0,r):t;return n+"#"+e}function vt(e){De?Ne(gt(e)):window.location.hash=e}function _t(e){De?Me(gt(e)):window.location.replace(gt(e))}var mt=function(e){function t(t,r){e.call(this,t,r),this.stack=[],this.index=-1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.push=function(e,t,r){var n=this;this.transitionTo(e,(function(e){n.stack=n.stack.slice(0,n.index+1).concat(e),n.index++,t&&t(e)}),r)},t.prototype.replace=function(e,t,r){var n=this;this.transitionTo(e,(function(e){n.stack=n.stack.slice(0,n.index).concat(e),t&&t(e)}),r)},t.prototype.go=function(e){var t=this,r=this.index+e;if(!(r<0||r>=this.stack.length)){var n=this.stack[r];this.confirmTransition(n,(function(){var e=t.current;t.index=r,t.updateRoute(n),t.router.afterHooks.forEach((function(t){t&&t(n,e)}))}),(function(e){ze(e,Ue.duplicated)&&(t.index=r)}))}},t.prototype.getCurrentLocation=function(){var e=this.stack[this.stack.length-1];return e?e.fullPath:"/"},t.prototype.ensureURL=function(){},t}(et),bt=function(e){void 0===e&&(e={}),this.app=null,this.apps=[],this.options=e,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=he(e.routes||[],this);var t=e.mode||"hash";switch(this.fallback="history"===t&&!De&&!1!==e.fallback,this.fallback&&(t="hash"),ce||(t="abstract"),this.mode=t,t){case"history":this.history=new ut(this,e.base);break;case"hash":this.history=new dt(this,e.base,this.fallback);break;case"abstract":this.history=new mt(this,e.base);break;default:0}},St={currentRoute:{configurable:!0}};bt.prototype.match=function(e,t,r){return this.matcher.match(e,t,r)},St.currentRoute.get=function(){return this.history&&this.history.current},bt.prototype.init=function(e){var t=this;if(this.apps.push(e),e.$once("hook:destroyed",(function(){var r=t.apps.indexOf(e);r>-1&&t.apps.splice(r,1),t.app===e&&(t.app=t.apps[0]||null),t.app||t.history.teardown()})),!this.app){this.app=e;var r=this.history;if(r instanceof ut||r instanceof dt){var n=function(e){var n=r.current,i=t.options.scrollBehavior,o=De&&i;o&&"fullPath"in e&&we(t,e,n,!1)},i=function(e){r.setupListeners(),n(e)};r.transitionTo(r.getCurrentLocation(),i,i)}r.listen((function(e){t.apps.forEach((function(t){t._route=e}))}))}},bt.prototype.beforeEach=function(e){return wt(this.beforeHooks,e)},bt.prototype.beforeResolve=function(e){return wt(this.resolveHooks,e)},bt.prototype.afterEach=function(e){return wt(this.afterHooks,e)},bt.prototype.onReady=function(e,t){this.history.onReady(e,t)},bt.prototype.onError=function(e){this.history.onError(e)},bt.prototype.push=function(e,t,r){var n=this;if(!t&&!r&&"undefined"!==typeof Promise)return new Promise((function(t,r){n.history.push(e,t,r)}));this.history.push(e,t,r)},bt.prototype.replace=function(e,t,r){var n=this;if(!t&&!r&&"undefined"!==typeof Promise)return new Promise((function(t,r){n.history.replace(e,t,r)}));this.history.replace(e,t,r)},bt.prototype.go=function(e){this.history.go(e)},bt.prototype.back=function(){this.go(-1)},bt.prototype.forward=function(){this.go(1)},bt.prototype.getMatchedComponents=function(e){var t=e?e.matched?e:this.resolve(e).route:this.currentRoute;return t?[].concat.apply([],t.matched.map((function(e){return Object.keys(e.components).map((function(t){return e.components[t]}))}))):[]},bt.prototype.resolve=function(e,t,r){t=t||this.history.current;var n=Z(e,t,r,this),i=this.match(n,t),o=i.redirectedFrom||i.fullPath,a=this.history.base,s=Et(a,o,this.mode);return{location:n,route:i,href:s,normalizedTo:n,resolved:i}},bt.prototype.getRoutes=function(){return this.matcher.getRoutes()},bt.prototype.addRoute=function(e,t){this.matcher.addRoute(e,t),this.history.current!==g&&this.history.transitionTo(this.history.getCurrentLocation())},bt.prototype.addRoutes=function(e){this.matcher.addRoutes(e),this.history.current!==g&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(bt.prototype,St);var Tt=bt;function wt(e,t){return e.push(t),function(){var r=e.indexOf(t);r>-1&&e.splice(r,1)}}function Et(e,t,r){var n="hash"===r?"#"+t:t;return e?R(e+"/"+n):n}bt.install=se,bt.version="3.6.5",bt.isNavigationFailure=ze,bt.NavigationFailureType=Ue,bt.START_LOCATION=g,ce&&window.Vue&&window.Vue.use(bt)},6848:function(e,t,r){"use strict";r.d(t,{Ay:function(){return Zn},pM:function(){return hr}});r(4114),r(7642),r(8004),r(3853),r(5876),r(2475),r(5024),r(1698),r(8992),r(3215),r(4520),r(3949),r(1454),r(8872),r(7550),r(9848);var n=Object.freeze({}),i=Array.isArray;function o(e){return void 0===e||null===e}function a(e){return void 0!==e&&null!==e}function s(e){return!0===e}function c(e){return!1===e}function l(e){return"string"===typeof e||"number"===typeof e||"symbol"===typeof e||"boolean"===typeof e}function u(e){return"function"===typeof e}function p(e){return null!==e&&"object"===typeof e}var d=Object.prototype.toString;function h(e){return"[object Object]"===d.call(e)}function f(e){return"[object RegExp]"===d.call(e)}function y(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function g(e){return a(e)&&"function"===typeof e.then&&"function"===typeof e.catch}function v(e){return null==e?"":Array.isArray(e)||h(e)&&e.toString===d?JSON.stringify(e,_,2):String(e)}function _(e,t){return t&&t.__v_isRef?t.value:t}function m(e){var t=parseFloat(e);return isNaN(t)?e:t}function b(e,t){for(var r=Object.create(null),n=e.split(","),i=0;i<n.length;i++)r[n[i]]=!0;return t?function(e){return r[e.toLowerCase()]}:function(e){return r[e]}}b("slot,component",!0);var S=b("key,ref,slot,slot-scope,is");function T(e,t){var r=e.length;if(r){if(t===e[r-1])return void(e.length=r-1);var n=e.indexOf(t);if(n>-1)return e.splice(n,1)}}var w=Object.prototype.hasOwnProperty;function E(e,t){return w.call(e,t)}function x(e){var t=Object.create(null);return function(r){var n=t[r];return n||(t[r]=e(r))}}var k=/-(\w)/g,P=x((function(e){return e.replace(k,(function(e,t){return t?t.toUpperCase():""}))})),C=x((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),R=/\B([A-Z])/g,A=x((function(e){return e.replace(R,"-$1").toLowerCase()}));function I(e,t){function r(r){var n=arguments.length;return n?n>1?e.apply(t,arguments):e.call(t,r):e.call(t)}return r._length=e.length,r}function O(e,t){return e.bind(t)}var L=Function.prototype.bind?O:I;function D(e,t){t=t||0;var r=e.length-t,n=new Array(r);while(r--)n[r]=e[r+t];return n}function N(e,t){for(var r in t)e[r]=t[r];return e}function M(e){for(var t={},r=0;r<e.length;r++)e[r]&&N(t,e[r]);return t}function U(e,t,r){}var j=function(e,t,r){return!1},B=function(e){return e};function F(e,t){if(e===t)return!0;var r=p(e),n=p(t);if(!r||!n)return!r&&!n&&String(e)===String(t);try{var i=Array.isArray(e),o=Array.isArray(t);if(i&&o)return e.length===t.length&&e.every((function(e,r){return F(e,t[r])}));if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(i||o)return!1;var a=Object.keys(e),s=Object.keys(t);return a.length===s.length&&a.every((function(r){return F(e[r],t[r])}))}catch(c){return!1}}function H(e,t){for(var r=0;r<e.length;r++)if(F(e[r],t))return r;return-1}function V(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}function $(e,t){return e===t?0===e&&1/e!==1/t:e===e||t===t}var q="data-server-rendered",W=["component","directive","filter"],z=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"],X={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:j,isReservedAttr:j,isUnknownElement:j,getTagNamespace:U,parsePlatformTagName:B,mustUseProp:j,async:!0,_lifecycleHooks:z},G=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function K(e){var t=(e+"").charCodeAt(0);return 36===t||95===t}function Y(e,t,r,n){Object.defineProperty(e,t,{value:r,enumerable:!!n,writable:!0,configurable:!0})}var Q=new RegExp("[^".concat(G.source,".$_\\d]"));function J(e){if(!Q.test(e)){var t=e.split(".");return function(e){for(var r=0;r<t.length;r++){if(!e)return;e=e[t[r]]}return e}}}var Z="__proto__"in{},ee="undefined"!==typeof window,te=ee&&window.navigator.userAgent.toLowerCase(),re=te&&/msie|trident/.test(te),ne=te&&te.indexOf("msie 9.0")>0,ie=te&&te.indexOf("edge/")>0;te&&te.indexOf("android");var oe=te&&/iphone|ipad|ipod|ios/.test(te);te&&/chrome\/\d+/.test(te),te&&/phantomjs/.test(te);var ae,se=te&&te.match(/firefox\/(\d+)/),ce={}.watch,le=!1;if(ee)try{var ue={};Object.defineProperty(ue,"passive",{get:function(){le=!0}}),window.addEventListener("test-passive",null,ue)}catch(es){}var pe=function(){return void 0===ae&&(ae=!ee&&"undefined"!==typeof r.g&&(r.g["process"]&&"server"===r.g["process"].env.VUE_ENV)),ae},de=ee&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function he(e){return"function"===typeof e&&/native code/.test(e.toString())}var fe,ye="undefined"!==typeof Symbol&&he(Symbol)&&"undefined"!==typeof Reflect&&he(Reflect.ownKeys);fe="undefined"!==typeof Set&&he(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var ge=null;function ve(e){void 0===e&&(e=null),e||ge&&ge._scope.off(),ge=e,e&&e._scope.on()}var _e=function(){function e(e,t,r,n,i,o,a,s){this.tag=e,this.data=t,this.children=r,this.text=n,this.elm=i,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}return Object.defineProperty(e.prototype,"child",{get:function(){return this.componentInstance},enumerable:!1,configurable:!0}),e}(),me=function(e){void 0===e&&(e="");var t=new _e;return t.text=e,t.isComment=!0,t};function be(e){return new _e(void 0,void 0,void 0,String(e))}function Se(e){var t=new _e(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}"function"===typeof SuppressedError&&SuppressedError;var Te=0,we=[],Ee=function(){for(var e=0;e<we.length;e++){var t=we[e];t.subs=t.subs.filter((function(e){return e})),t._pending=!1}we.length=0},xe=function(){function e(){this._pending=!1,this.id=Te++,this.subs=[]}return e.prototype.addSub=function(e){this.subs.push(e)},e.prototype.removeSub=function(e){this.subs[this.subs.indexOf(e)]=null,this._pending||(this._pending=!0,we.push(this))},e.prototype.depend=function(t){e.target&&e.target.addDep(this)},e.prototype.notify=function(e){var t=this.subs.filter((function(e){return e}));for(var r=0,n=t.length;r<n;r++){var i=t[r];0,i.update()}},e}();xe.target=null;var ke=[];function Pe(e){ke.push(e),xe.target=e}function Ce(){ke.pop(),xe.target=ke[ke.length-1]}var Re=Array.prototype,Ae=Object.create(Re),Ie=["push","pop","shift","unshift","splice","sort","reverse"];Ie.forEach((function(e){var t=Re[e];Y(Ae,e,(function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i,o=t.apply(this,r),a=this.__ob__;switch(e){case"push":case"unshift":i=r;break;case"splice":i=r.slice(2);break}return i&&a.observeArray(i),a.dep.notify(),o}))}));var Oe=Object.getOwnPropertyNames(Ae),Le={},De=!0;function Ne(e){De=e}var Me={notify:U,depend:U,addSub:U,removeSub:U},Ue=function(){function e(e,t,r){if(void 0===t&&(t=!1),void 0===r&&(r=!1),this.value=e,this.shallow=t,this.mock=r,this.dep=r?Me:new xe,this.vmCount=0,Y(e,"__ob__",this),i(e)){if(!r)if(Z)e.__proto__=Ae;else for(var n=0,o=Oe.length;n<o;n++){var a=Oe[n];Y(e,a,Ae[a])}t||this.observeArray(e)}else{var s=Object.keys(e);for(n=0;n<s.length;n++){a=s[n];Be(e,a,Le,void 0,t,r)}}}return e.prototype.observeArray=function(e){for(var t=0,r=e.length;t<r;t++)je(e[t],!1,this.mock)},e}();function je(e,t,r){return e&&E(e,"__ob__")&&e.__ob__ instanceof Ue?e.__ob__:!De||!r&&pe()||!i(e)&&!h(e)||!Object.isExtensible(e)||e.__v_skip||ze(e)||e instanceof _e?void 0:new Ue(e,t,r)}function Be(e,t,r,n,o,a,s){void 0===s&&(s=!1);var c=new xe,l=Object.getOwnPropertyDescriptor(e,t);if(!l||!1!==l.configurable){var u=l&&l.get,p=l&&l.set;u&&!p||r!==Le&&2!==arguments.length||(r=e[t]);var d=o?r&&r.__ob__:je(r,!1,a);return Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=u?u.call(e):r;return xe.target&&(c.depend(),d&&(d.dep.depend(),i(t)&&Ve(t))),ze(t)&&!o?t.value:t},set:function(t){var n=u?u.call(e):r;if($(n,t)){if(p)p.call(e,t);else{if(u)return;if(!o&&ze(n)&&!ze(t))return void(n.value=t);r=t}d=o?t&&t.__ob__:je(t,!1,a),c.notify()}}}),c}}function Fe(e,t,r){if(!We(e)){var n=e.__ob__;return i(e)&&y(t)?(e.length=Math.max(e.length,t),e.splice(t,1,r),n&&!n.shallow&&n.mock&&je(r,!1,!0),r):t in e&&!(t in Object.prototype)?(e[t]=r,r):e._isVue||n&&n.vmCount?r:n?(Be(n.value,t,r,void 0,n.shallow,n.mock),n.dep.notify(),r):(e[t]=r,r)}}function He(e,t){if(i(e)&&y(t))e.splice(t,1);else{var r=e.__ob__;e._isVue||r&&r.vmCount||We(e)||E(e,t)&&(delete e[t],r&&r.dep.notify())}}function Ve(e){for(var t=void 0,r=0,n=e.length;r<n;r++)t=e[r],t&&t.__ob__&&t.__ob__.dep.depend(),i(t)&&Ve(t)}function $e(e){return qe(e,!0),Y(e,"__v_isShallow",!0),e}function qe(e,t){if(!We(e)){je(e,t,pe());0}}function We(e){return!(!e||!e.__v_isReadonly)}function ze(e){return!(!e||!0!==e.__v_isRef)}function Xe(e,t,r){Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:function(){var e=t[r];if(ze(e))return e.value;var n=e&&e.__ob__;return n&&n.dep.depend(),e},set:function(e){var n=t[r];ze(n)&&!ze(e)?n.value=e:t[r]=e}})}var Ge="watcher";"".concat(Ge," callback"),"".concat(Ge," getter"),"".concat(Ge," cleanup");var Ke;var Ye=function(){function e(e){void 0===e&&(e=!1),this.detached=e,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Ke,!e&&Ke&&(this.index=(Ke.scopes||(Ke.scopes=[])).push(this)-1)}return e.prototype.run=function(e){if(this.active){var t=Ke;try{return Ke=this,e()}finally{Ke=t}}else 0},e.prototype.on=function(){Ke=this},e.prototype.off=function(){Ke=this.parent},e.prototype.stop=function(e){if(this.active){var t=void 0,r=void 0;for(t=0,r=this.effects.length;t<r;t++)this.effects[t].teardown();for(t=0,r=this.cleanups.length;t<r;t++)this.cleanups[t]();if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){var n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0,this.active=!1}},e}();function Qe(e,t){void 0===t&&(t=Ke),t&&t.active&&t.effects.push(e)}function Je(){return Ke}function Ze(e){var t=e._provided,r=e.$parent&&e.$parent._provided;return r===t?e._provided=Object.create(r):t}var et=x((function(e){var t="&"===e.charAt(0);e=t?e.slice(1):e;var r="~"===e.charAt(0);e=r?e.slice(1):e;var n="!"===e.charAt(0);return e=n?e.slice(1):e,{name:e,once:r,capture:n,passive:t}}));function tt(e,t){function r(){var e=r.fns;if(!i(e))return Qt(e,null,arguments,t,"v-on handler");for(var n=e.slice(),o=0;o<n.length;o++)Qt(n[o],null,arguments,t,"v-on handler")}return r.fns=e,r}function rt(e,t,r,n,i,a){var c,l,u,p;for(c in e)l=e[c],u=t[c],p=et(c),o(l)||(o(u)?(o(l.fns)&&(l=e[c]=tt(l,a)),s(p.once)&&(l=e[c]=i(p.name,l,p.capture)),r(p.name,l,p.capture,p.passive,p.params)):l!==u&&(u.fns=l,e[c]=u));for(c in t)o(e[c])&&(p=et(c),n(p.name,t[c],p.capture))}function nt(e,t,r){var n;e instanceof _e&&(e=e.data.hook||(e.data.hook={}));var i=e[t];function c(){r.apply(this,arguments),T(n.fns,c)}o(i)?n=tt([c]):a(i.fns)&&s(i.merged)?(n=i,n.fns.push(c)):n=tt([i,c]),n.merged=!0,e[t]=n}function it(e,t,r){var n=t.options.props;if(!o(n)){var i={},s=e.attrs,c=e.props;if(a(s)||a(c))for(var l in n){var u=A(l);ot(i,c,l,u,!0)||ot(i,s,l,u,!1)}return i}}function ot(e,t,r,n,i){if(a(t)){if(E(t,r))return e[r]=t[r],i||delete t[r],!0;if(E(t,n))return e[r]=t[n],i||delete t[n],!0}return!1}function at(e){for(var t=0;t<e.length;t++)if(i(e[t]))return Array.prototype.concat.apply([],e);return e}function st(e){return l(e)?[be(e)]:i(e)?lt(e):void 0}function ct(e){return a(e)&&a(e.text)&&c(e.isComment)}function lt(e,t){var r,n,c,u,p=[];for(r=0;r<e.length;r++)n=e[r],o(n)||"boolean"===typeof n||(c=p.length-1,u=p[c],i(n)?n.length>0&&(n=lt(n,"".concat(t||"","_").concat(r)),ct(n[0])&&ct(u)&&(p[c]=be(u.text+n[0].text),n.shift()),p.push.apply(p,n)):l(n)?ct(u)?p[c]=be(u.text+n):""!==n&&p.push(be(n)):ct(n)&&ct(u)?p[c]=be(u.text+n.text):(s(e._isVList)&&a(n.tag)&&o(n.key)&&a(t)&&(n.key="__vlist".concat(t,"_").concat(r,"__")),p.push(n)));return p}function ut(e,t){var r,n,o,s,c=null;if(i(e)||"string"===typeof e)for(c=new Array(e.length),r=0,n=e.length;r<n;r++)c[r]=t(e[r],r);else if("number"===typeof e)for(c=new Array(e),r=0;r<e;r++)c[r]=t(r+1,r);else if(p(e))if(ye&&e[Symbol.iterator]){c=[];var l=e[Symbol.iterator](),u=l.next();while(!u.done)c.push(t(u.value,c.length)),u=l.next()}else for(o=Object.keys(e),c=new Array(o.length),r=0,n=o.length;r<n;r++)s=o[r],c[r]=t(e[s],s,r);return a(c)||(c=[]),c._isVList=!0,c}function pt(e,t,r,n){var i,o=this.$scopedSlots[e];o?(r=r||{},n&&(r=N(N({},n),r)),i=o(r)||(u(t)?t():t)):i=this.$slots[e]||(u(t)?t():t);var a=r&&r.slot;return a?this.$createElement("template",{slot:a},i):i}function dt(e){return kn(this.$options,"filters",e,!0)||B}function ht(e,t){return i(e)?-1===e.indexOf(t):e!==t}function ft(e,t,r,n,i){var o=X.keyCodes[t]||r;return i&&n&&!X.keyCodes[t]?ht(i,n):o?ht(o,e):n?A(n)!==t:void 0===e}function yt(e,t,r,n,o){if(r)if(p(r)){i(r)&&(r=M(r));var a=void 0,s=function(i){if("class"===i||"style"===i||S(i))a=e;else{var s=e.attrs&&e.attrs.type;a=n||X.mustUseProp(t,s,i)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var c=P(i),l=A(i);if(!(c in a)&&!(l in a)&&(a[i]=r[i],o)){var u=e.on||(e.on={});u["update:".concat(i)]=function(e){r[i]=e}}};for(var c in r)s(c)}else;return e}function gt(e,t){var r=this._staticTrees||(this._staticTrees=[]),n=r[e];return n&&!t||(n=r[e]=this.$options.staticRenderFns[e].call(this._renderProxy,this._c,this),_t(n,"__static__".concat(e),!1)),n}function vt(e,t,r){return _t(e,"__once__".concat(t).concat(r?"_".concat(r):""),!0),e}function _t(e,t,r){if(i(e))for(var n=0;n<e.length;n++)e[n]&&"string"!==typeof e[n]&&mt(e[n],"".concat(t,"_").concat(n),r);else mt(e,t,r)}function mt(e,t,r){e.isStatic=!0,e.key=t,e.isOnce=r}function bt(e,t){if(t)if(h(t)){var r=e.on=e.on?N({},e.on):{};for(var n in t){var i=r[n],o=t[n];r[n]=i?[].concat(i,o):o}}else;return e}function St(e,t,r,n){t=t||{$stable:!r};for(var o=0;o<e.length;o++){var a=e[o];i(a)?St(a,t,r):a&&(a.proxy&&(a.fn.proxy=!0),t[a.key]=a.fn)}return n&&(t.$key=n),t}function Tt(e,t){for(var r=0;r<t.length;r+=2){var n=t[r];"string"===typeof n&&n&&(e[t[r]]=t[r+1])}return e}function wt(e,t){return"string"===typeof e?t+e:e}function Et(e){e._o=vt,e._n=m,e._s=v,e._l=ut,e._t=pt,e._q=F,e._i=H,e._m=gt,e._f=dt,e._k=ft,e._b=yt,e._v=be,e._e=me,e._u=St,e._g=bt,e._d=Tt,e._p=wt}function xt(e,t){if(!e||!e.length)return{};for(var r={},n=0,i=e.length;n<i;n++){var o=e[n],a=o.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,o.context!==t&&o.fnContext!==t||!a||null==a.slot)(r.default||(r.default=[])).push(o);else{var s=a.slot,c=r[s]||(r[s]=[]);"template"===o.tag?c.push.apply(c,o.children||[]):c.push(o)}}for(var l in r)r[l].every(kt)&&delete r[l];return r}function kt(e){return e.isComment&&!e.asyncFactory||" "===e.text}function Pt(e){return e.isComment&&e.asyncFactory}function Ct(e,t,r,i){var o,a=Object.keys(r).length>0,s=t?!!t.$stable:!a,c=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(s&&i&&i!==n&&c===i.$key&&!a&&!i.$hasNormal)return i;for(var l in o={},t)t[l]&&"$"!==l[0]&&(o[l]=Rt(e,r,l,t[l]))}else o={};for(var u in r)u in o||(o[u]=At(r,u));return t&&Object.isExtensible(t)&&(t._normalized=o),Y(o,"$stable",s),Y(o,"$key",c),Y(o,"$hasNormal",a),o}function Rt(e,t,r,n){var o=function(){var t=ge;ve(e);var r=arguments.length?n.apply(null,arguments):n({});r=r&&"object"===typeof r&&!i(r)?[r]:st(r);var o=r&&r[0];return ve(t),r&&(!o||1===r.length&&o.isComment&&!Pt(o))?void 0:r};return n.proxy&&Object.defineProperty(t,r,{get:o,enumerable:!0,configurable:!0}),o}function At(e,t){return function(){return e[t]}}function It(e){var t=e.$options,r=t.setup;if(r){var n=e._setupContext=Ot(e);ve(e),Pe();var i=Qt(r,null,[e._props||$e({}),n],e,"setup");if(Ce(),ve(),u(i))t.render=i;else if(p(i))if(e._setupState=i,i.__sfc){var o=e._setupProxy={};for(var a in i)"__sfc"!==a&&Xe(o,i,a)}else for(var a in i)K(a)||Xe(e,i,a);else 0}}function Ot(e){return{get attrs(){if(!e._attrsProxy){var t=e._attrsProxy={};Y(t,"_v_attr_proxy",!0),Lt(t,e.$attrs,n,e,"$attrs")}return e._attrsProxy},get listeners(){if(!e._listenersProxy){var t=e._listenersProxy={};Lt(t,e.$listeners,n,e,"$listeners")}return e._listenersProxy},get slots(){return Nt(e)},emit:L(e.$emit,e),expose:function(t){t&&Object.keys(t).forEach((function(r){return Xe(e,t,r)}))}}}function Lt(e,t,r,n,i){var o=!1;for(var a in t)a in e?t[a]!==r[a]&&(o=!0):(o=!0,Dt(e,a,n,i));for(var a in e)a in t||(o=!0,delete e[a]);return o}function Dt(e,t,r,n){Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){return r[n][t]}})}function Nt(e){return e._slotsProxy||Mt(e._slotsProxy={},e.$scopedSlots),e._slotsProxy}function Mt(e,t){for(var r in t)e[r]=t[r];for(var r in e)r in t||delete e[r]}function Ut(e){e._vnode=null,e._staticTrees=null;var t=e.$options,r=e.$vnode=t._parentVnode,i=r&&r.context;e.$slots=xt(t._renderChildren,i),e.$scopedSlots=r?Ct(e.$parent,r.data.scopedSlots,e.$slots):n,e._c=function(t,r,n,i){return zt(e,t,r,n,i,!1)},e.$createElement=function(t,r,n,i){return zt(e,t,r,n,i,!0)};var o=r&&r.data;Be(e,"$attrs",o&&o.attrs||n,null,!0),Be(e,"$listeners",t._parentListeners||n,null,!0)}var jt=null;function Bt(e){Et(e.prototype),e.prototype.$nextTick=function(e){return lr(e,this)},e.prototype._render=function(){var e=this,t=e.$options,r=t.render,n=t._parentVnode;n&&e._isMounted&&(e.$scopedSlots=Ct(e.$parent,n.data.scopedSlots,e.$slots,e.$scopedSlots),e._slotsProxy&&Mt(e._slotsProxy,e.$scopedSlots)),e.$vnode=n;var o,a=ge,s=jt;try{ve(e),jt=e,o=r.call(e._renderProxy,e.$createElement)}catch(es){Yt(es,e,"render"),o=e._vnode}finally{jt=s,ve(a)}return i(o)&&1===o.length&&(o=o[0]),o instanceof _e||(o=me()),o.parent=n,o}}function Ft(e,t){return(e.__esModule||ye&&"Module"===e[Symbol.toStringTag])&&(e=e.default),p(e)?t.extend(e):e}function Ht(e,t,r,n,i){var o=me();return o.asyncFactory=e,o.asyncMeta={data:t,context:r,children:n,tag:i},o}function Vt(e,t){if(s(e.error)&&a(e.errorComp))return e.errorComp;if(a(e.resolved))return e.resolved;var r=jt;if(r&&a(e.owners)&&-1===e.owners.indexOf(r)&&e.owners.push(r),s(e.loading)&&a(e.loadingComp))return e.loadingComp;if(r&&!a(e.owners)){var n=e.owners=[r],i=!0,c=null,l=null;r.$on("hook:destroyed",(function(){return T(n,r)}));var u=function(e){for(var t=0,r=n.length;t<r;t++)n[t].$forceUpdate();e&&(n.length=0,null!==c&&(clearTimeout(c),c=null),null!==l&&(clearTimeout(l),l=null))},d=V((function(r){e.resolved=Ft(r,t),i?n.length=0:u(!0)})),h=V((function(t){a(e.errorComp)&&(e.error=!0,u(!0))})),f=e(d,h);return p(f)&&(g(f)?o(e.resolved)&&f.then(d,h):g(f.component)&&(f.component.then(d,h),a(f.error)&&(e.errorComp=Ft(f.error,t)),a(f.loading)&&(e.loadingComp=Ft(f.loading,t),0===f.delay?e.loading=!0:c=setTimeout((function(){c=null,o(e.resolved)&&o(e.error)&&(e.loading=!0,u(!1))}),f.delay||200)),a(f.timeout)&&(l=setTimeout((function(){l=null,o(e.resolved)&&h(null)}),f.timeout)))),i=!1,e.loading?e.loadingComp:e.resolved}}function $t(e){if(i(e))for(var t=0;t<e.length;t++){var r=e[t];if(a(r)&&(a(r.componentOptions)||Pt(r)))return r}}var qt=1,Wt=2;function zt(e,t,r,n,o,a){return(i(r)||l(r))&&(o=n,n=r,r=void 0),s(a)&&(o=Wt),Xt(e,t,r,n,o)}function Xt(e,t,r,n,o){if(a(r)&&a(r.__ob__))return me();if(a(r)&&a(r.is)&&(t=r.is),!t)return me();var s,c;if(i(n)&&u(n[0])&&(r=r||{},r.scopedSlots={default:n[0]},n.length=0),o===Wt?n=st(n):o===qt&&(n=at(n)),"string"===typeof t){var l=void 0;c=e.$vnode&&e.$vnode.ns||X.getTagNamespace(t),s=X.isReservedTag(t)?new _e(X.parsePlatformTagName(t),r,n,void 0,void 0,e):r&&r.pre||!a(l=kn(e.$options,"components",t))?new _e(t,r,n,void 0,void 0,e):ln(l,r,e,n,t)}else s=ln(t,r,e,n);return i(s)?s:a(s)?(a(c)&&Gt(s,c),a(r)&&Kt(r),s):me()}function Gt(e,t,r){if(e.ns=t,"foreignObject"===e.tag&&(t=void 0,r=!0),a(e.children))for(var n=0,i=e.children.length;n<i;n++){var c=e.children[n];a(c.tag)&&(o(c.ns)||s(r)&&"svg"!==c.tag)&&Gt(c,t,r)}}function Kt(e){p(e.style)&&yr(e.style),p(e.class)&&yr(e.class)}function Yt(e,t,r){Pe();try{if(t){var n=t;while(n=n.$parent){var i=n.$options.errorCaptured;if(i)for(var o=0;o<i.length;o++)try{var a=!1===i[o].call(n,e,t,r);if(a)return}catch(es){Jt(es,n,"errorCaptured hook")}}}Jt(e,t,r)}finally{Ce()}}function Qt(e,t,r,n,i){var o;try{o=r?e.apply(t,r):e.call(t),o&&!o._isVue&&g(o)&&!o._handled&&(o.catch((function(e){return Yt(e,n,i+" (Promise/async)")})),o._handled=!0)}catch(es){Yt(es,n,i)}return o}function Jt(e,t,r){if(X.errorHandler)try{return X.errorHandler.call(null,e,t,r)}catch(es){es!==e&&Zt(es,null,"config.errorHandler")}Zt(e,t,r)}function Zt(e,t,r){if(!ee||"undefined"===typeof console)throw e;console.error(e)}var er,tr=!1,rr=[],nr=!1;function ir(){nr=!1;var e=rr.slice(0);rr.length=0;for(var t=0;t<e.length;t++)e[t]()}if("undefined"!==typeof Promise&&he(Promise)){var or=Promise.resolve();er=function(){or.then(ir),oe&&setTimeout(U)},tr=!0}else if(re||"undefined"===typeof MutationObserver||!he(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())er="undefined"!==typeof setImmediate&&he(setImmediate)?function(){setImmediate(ir)}:function(){setTimeout(ir,0)};else{var ar=1,sr=new MutationObserver(ir),cr=document.createTextNode(String(ar));sr.observe(cr,{characterData:!0}),er=function(){ar=(ar+1)%2,cr.data=String(ar)},tr=!0}function lr(e,t){var r;if(rr.push((function(){if(e)try{e.call(t)}catch(es){Yt(es,t,"nextTick")}else r&&r(t)})),nr||(nr=!0,er()),!e&&"undefined"!==typeof Promise)return new Promise((function(e){r=e}))}function ur(e){return function(t,r){if(void 0===r&&(r=ge),r)return pr(r,e,t)}}function pr(e,t,r){var n=e.$options;n[t]=_n(n[t],r)}ur("beforeMount"),ur("mounted"),ur("beforeUpdate"),ur("updated"),ur("beforeDestroy"),ur("destroyed"),ur("activated"),ur("deactivated"),ur("serverPrefetch"),ur("renderTracked"),ur("renderTriggered"),ur("errorCaptured");var dr="2.7.16";function hr(e){return e}var fr=new fe;function yr(e){return gr(e,fr),fr.clear(),e}function gr(e,t){var r,n,o=i(e);if(!(!o&&!p(e)||e.__v_skip||Object.isFrozen(e)||e instanceof _e)){if(e.__ob__){var a=e.__ob__.dep.id;if(t.has(a))return;t.add(a)}if(o){r=e.length;while(r--)gr(e[r],t)}else if(ze(e))gr(e.value,t);else{n=Object.keys(e),r=n.length;while(r--)gr(e[n[r]],t)}}}var vr,_r=0,mr=function(){function e(e,t,r,n,i){Qe(this,Ke&&!Ke._vm?Ke:e?e._scope:void 0),(this.vm=e)&&i&&(e._watcher=this),n?(this.deep=!!n.deep,this.user=!!n.user,this.lazy=!!n.lazy,this.sync=!!n.sync,this.before=n.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=r,this.id=++_r,this.active=!0,this.post=!1,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new fe,this.newDepIds=new fe,this.expression="",u(t)?this.getter=t:(this.getter=J(t),this.getter||(this.getter=U)),this.value=this.lazy?void 0:this.get()}return e.prototype.get=function(){var e;Pe(this);var t=this.vm;try{e=this.getter.call(t,t)}catch(es){if(!this.user)throw es;Yt(es,t,'getter for watcher "'.concat(this.expression,'"'))}finally{this.deep&&yr(e),Ce(),this.cleanupDeps()}return e},e.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},e.prototype.cleanupDeps=function(){var e=this.deps.length;while(e--){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var r=this.depIds;this.depIds=this.newDepIds,this.newDepIds=r,this.newDepIds.clear(),r=this.deps,this.deps=this.newDeps,this.newDeps=r,this.newDeps.length=0},e.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():Qr(this)},e.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||p(e)||this.deep){var t=this.value;if(this.value=e,this.user){var r='callback for watcher "'.concat(this.expression,'"');Qt(this.cb,this.vm,[e,t],this.vm,r)}else this.cb.call(this.vm,e,t)}}},e.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},e.prototype.depend=function(){var e=this.deps.length;while(e--)this.deps[e].depend()},e.prototype.teardown=function(){if(this.vm&&!this.vm._isBeingDestroyed&&T(this.vm._scope.effects,this),this.active){var e=this.deps.length;while(e--)this.deps[e].removeSub(this);this.active=!1,this.onStop&&this.onStop()}},e}();function br(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&Er(e,t)}function Sr(e,t){vr.$on(e,t)}function Tr(e,t){vr.$off(e,t)}function wr(e,t){var r=vr;return function n(){var i=t.apply(null,arguments);null!==i&&r.$off(e,n)}}function Er(e,t,r){vr=e,rt(t,r||{},Sr,Tr,wr,e),vr=void 0}function xr(e){var t=/^hook:/;e.prototype.$on=function(e,r){var n=this;if(i(e))for(var o=0,a=e.length;o<a;o++)n.$on(e[o],r);else(n._events[e]||(n._events[e]=[])).push(r),t.test(e)&&(n._hasHookEvent=!0);return n},e.prototype.$once=function(e,t){var r=this;function n(){r.$off(e,n),t.apply(r,arguments)}return n.fn=t,r.$on(e,n),r},e.prototype.$off=function(e,t){var r=this;if(!arguments.length)return r._events=Object.create(null),r;if(i(e)){for(var n=0,o=e.length;n<o;n++)r.$off(e[n],t);return r}var a,s=r._events[e];if(!s)return r;if(!t)return r._events[e]=null,r;var c=s.length;while(c--)if(a=s[c],a===t||a.fn===t){s.splice(c,1);break}return r},e.prototype.$emit=function(e){var t=this,r=t._events[e];if(r){r=r.length>1?D(r):r;for(var n=D(arguments,1),i='event handler for "'.concat(e,'"'),o=0,a=r.length;o<a;o++)Qt(r[o],t,n,t,i)}return t}}var kr=null;function Pr(e){var t=kr;return kr=e,function(){kr=t}}function Cr(e){var t=e.$options,r=t.parent;if(r&&!t.abstract){while(r.$options.abstract&&r.$parent)r=r.$parent;r.$children.push(e)}e.$parent=r,e.$root=r?r.$root:e,e.$children=[],e.$refs={},e._provided=r?r._provided:Object.create(null),e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}function Rr(e){e.prototype._update=function(e,t){var r=this,n=r.$el,i=r._vnode,o=Pr(r);r._vnode=e,r.$el=i?r.__patch__(i,e):r.__patch__(r.$el,e,t,!1),o(),n&&(n.__vue__=null),r.$el&&(r.$el.__vue__=r);var a=r;while(a&&a.$vnode&&a.$parent&&a.$vnode===a.$parent._vnode)a.$parent.$el=a.$el,a=a.$parent},e.prototype.$forceUpdate=function(){var e=this;e._watcher&&e._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){Nr(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||T(t.$children,e),e._scope.stop(),e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),Nr(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}function Ar(e,t,r){var n;e.$el=t,e.$options.render||(e.$options.render=me),Nr(e,"beforeMount"),n=function(){e._update(e._render(),r)};var i={before:function(){e._isMounted&&!e._isDestroyed&&Nr(e,"beforeUpdate")}};new mr(e,n,U,i,!0),r=!1;var o=e._preWatchers;if(o)for(var a=0;a<o.length;a++)o[a].run();return null==e.$vnode&&(e._isMounted=!0,Nr(e,"mounted")),e}function Ir(e,t,r,i,o){var a=i.data.scopedSlots,s=e.$scopedSlots,c=!!(a&&!a.$stable||s!==n&&!s.$stable||a&&e.$scopedSlots.$key!==a.$key||!a&&e.$scopedSlots.$key),l=!!(o||e.$options._renderChildren||c),u=e.$vnode;e.$options._parentVnode=i,e.$vnode=i,e._vnode&&(e._vnode.parent=i),e.$options._renderChildren=o;var p=i.data.attrs||n;e._attrsProxy&&Lt(e._attrsProxy,p,u.data&&u.data.attrs||n,e,"$attrs")&&(l=!0),e.$attrs=p,r=r||n;var d=e.$options._parentListeners;if(e._listenersProxy&&Lt(e._listenersProxy,r,d||n,e,"$listeners"),e.$listeners=e.$options._parentListeners=r,Er(e,r,d),t&&e.$options.props){Ne(!1);for(var h=e._props,f=e.$options._propKeys||[],y=0;y<f.length;y++){var g=f[y],v=e.$options.props;h[g]=Pn(g,v,t,e)}Ne(!0),e.$options.propsData=t}l&&(e.$slots=xt(o,i.context),e.$forceUpdate())}function Or(e){while(e&&(e=e.$parent))if(e._inactive)return!0;return!1}function Lr(e,t){if(t){if(e._directInactive=!1,Or(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var r=0;r<e.$children.length;r++)Lr(e.$children[r]);Nr(e,"activated")}}function Dr(e,t){if((!t||(e._directInactive=!0,!Or(e)))&&!e._inactive){e._inactive=!0;for(var r=0;r<e.$children.length;r++)Dr(e.$children[r]);Nr(e,"deactivated")}}function Nr(e,t,r,n){void 0===n&&(n=!0),Pe();var i=ge,o=Je();n&&ve(e);var a=e.$options[t],s="".concat(t," hook");if(a)for(var c=0,l=a.length;c<l;c++)Qt(a[c],e,r||null,e,s);e._hasHookEvent&&e.$emit("hook:"+t),n&&(ve(i),o&&o.on()),Ce()}var Mr=[],Ur=[],jr={},Br=!1,Fr=!1,Hr=0;function Vr(){Hr=Mr.length=Ur.length=0,jr={},Br=Fr=!1}var $r=0,qr=Date.now;if(ee&&!re){var Wr=window.performance;Wr&&"function"===typeof Wr.now&&qr()>document.createEvent("Event").timeStamp&&(qr=function(){return Wr.now()})}var zr=function(e,t){if(e.post){if(!t.post)return 1}else if(t.post)return-1;return e.id-t.id};function Xr(){var e,t;for($r=qr(),Fr=!0,Mr.sort(zr),Hr=0;Hr<Mr.length;Hr++)e=Mr[Hr],e.before&&e.before(),t=e.id,jr[t]=null,e.run();var r=Ur.slice(),n=Mr.slice();Vr(),Yr(r),Gr(n),Ee(),de&&X.devtools&&de.emit("flush")}function Gr(e){var t=e.length;while(t--){var r=e[t],n=r.vm;n&&n._watcher===r&&n._isMounted&&!n._isDestroyed&&Nr(n,"updated")}}function Kr(e){e._inactive=!1,Ur.push(e)}function Yr(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,Lr(e[t],!0)}function Qr(e){var t=e.id;if(null==jr[t]&&(e!==xe.target||!e.noRecurse)){if(jr[t]=!0,Fr){var r=Mr.length-1;while(r>Hr&&Mr[r].id>e.id)r--;Mr.splice(r+1,0,e)}else Mr.push(e);Br||(Br=!0,lr(Xr))}}function Jr(e){var t=e.$options.provide;if(t){var r=u(t)?t.call(e):t;if(!p(r))return;for(var n=Ze(e),i=ye?Reflect.ownKeys(r):Object.keys(r),o=0;o<i.length;o++){var a=i[o];Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(r,a))}}}function Zr(e){var t=en(e.$options.inject,e);t&&(Ne(!1),Object.keys(t).forEach((function(r){Be(e,r,t[r])})),Ne(!0))}function en(e,t){if(e){for(var r=Object.create(null),n=ye?Reflect.ownKeys(e):Object.keys(e),i=0;i<n.length;i++){var o=n[i];if("__ob__"!==o){var a=e[o].from;if(a in t._provided)r[o]=t._provided[a];else if("default"in e[o]){var s=e[o].default;r[o]=u(s)?s.call(t):s}else 0}}return r}}function tn(e,t,r,o,a){var c,l=this,u=a.options;E(o,"_uid")?(c=Object.create(o),c._original=o):(c=o,o=o._original);var p=s(u._compiled),d=!p;this.data=e,this.props=t,this.children=r,this.parent=o,this.listeners=e.on||n,this.injections=en(u.inject,o),this.slots=function(){return l.$slots||Ct(o,e.scopedSlots,l.$slots=xt(r,o)),l.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Ct(o,e.scopedSlots,this.slots())}}),p&&(this.$options=u,this.$slots=this.slots(),this.$scopedSlots=Ct(o,e.scopedSlots,this.$slots)),u._scopeId?this._c=function(e,t,r,n){var a=zt(c,e,t,r,n,d);return a&&!i(a)&&(a.fnScopeId=u._scopeId,a.fnContext=o),a}:this._c=function(e,t,r,n){return zt(c,e,t,r,n,d)}}function rn(e,t,r,o,s){var c=e.options,l={},u=c.props;if(a(u))for(var p in u)l[p]=Pn(p,u,t||n);else a(r.attrs)&&on(l,r.attrs),a(r.props)&&on(l,r.props);var d=new tn(r,l,s,o,e),h=c.render.call(null,d._c,d);if(h instanceof _e)return nn(h,r,d.parent,c,d);if(i(h)){for(var f=st(h)||[],y=new Array(f.length),g=0;g<f.length;g++)y[g]=nn(f[g],r,d.parent,c,d);return y}}function nn(e,t,r,n,i){var o=Se(e);return o.fnContext=r,o.fnOptions=n,t.slot&&((o.data||(o.data={})).slot=t.slot),o}function on(e,t){for(var r in t)e[P(r)]=t[r]}function an(e){return e.name||e.__name||e._componentTag}Et(tn.prototype);var sn={init:function(e,t){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var r=e;sn.prepatch(r,r)}else{var n=e.componentInstance=un(e,kr);n.$mount(t?e.elm:void 0,t)}},prepatch:function(e,t){var r=t.componentOptions,n=t.componentInstance=e.componentInstance;Ir(n,r.propsData,r.listeners,t,r.children)},insert:function(e){var t=e.context,r=e.componentInstance;r._isMounted||(r._isMounted=!0,Nr(r,"mounted")),e.data.keepAlive&&(t._isMounted?Kr(r):Lr(r,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?Dr(t,!0):t.$destroy())}},cn=Object.keys(sn);function ln(e,t,r,n,i){if(!o(e)){var c=r.$options._base;if(p(e)&&(e=c.extend(e)),"function"===typeof e){var l;if(o(e.cid)&&(l=e,e=Vt(l,c),void 0===e))return Ht(l,t,r,n,i);t=t||{},Qn(e),a(t.model)&&hn(e.options,t);var u=it(t,e,i);if(s(e.options.functional))return rn(e,u,t,r,n);var d=t.on;if(t.on=t.nativeOn,s(e.options.abstract)){var h=t.slot;t={},h&&(t.slot=h)}pn(t);var f=an(e.options)||i,y=new _e("vue-component-".concat(e.cid).concat(f?"-".concat(f):""),t,void 0,void 0,void 0,r,{Ctor:e,propsData:u,listeners:d,tag:i,children:n},l);return y}}}function un(e,t){var r={_isComponent:!0,_parentVnode:e,parent:t},n=e.data.inlineTemplate;return a(n)&&(r.render=n.render,r.staticRenderFns=n.staticRenderFns),new e.componentOptions.Ctor(r)}function pn(e){for(var t=e.hook||(e.hook={}),r=0;r<cn.length;r++){var n=cn[r],i=t[n],o=sn[n];i===o||i&&i._merged||(t[n]=i?dn(o,i):o)}}function dn(e,t){var r=function(r,n){e(r,n),t(r,n)};return r._merged=!0,r}function hn(e,t){var r=e.model&&e.model.prop||"value",n=e.model&&e.model.event||"input";(t.attrs||(t.attrs={}))[r]=t.model.value;var o=t.on||(t.on={}),s=o[n],c=t.model.callback;a(s)?(i(s)?-1===s.indexOf(c):s!==c)&&(o[n]=[c].concat(s)):o[n]=c}var fn=U,yn=X.optionMergeStrategies;function gn(e,t,r){if(void 0===r&&(r=!0),!t)return e;for(var n,i,o,a=ye?Reflect.ownKeys(t):Object.keys(t),s=0;s<a.length;s++)n=a[s],"__ob__"!==n&&(i=e[n],o=t[n],r&&E(e,n)?i!==o&&h(i)&&h(o)&&gn(i,o):Fe(e,n,o));return e}function vn(e,t,r){return r?function(){var n=u(t)?t.call(r,r):t,i=u(e)?e.call(r,r):e;return n?gn(n,i):i}:t?e?function(){return gn(u(t)?t.call(this,this):t,u(e)?e.call(this,this):e)}:t:e}function _n(e,t){var r=t?e?e.concat(t):i(t)?t:[t]:e;return r?mn(r):r}function mn(e){for(var t=[],r=0;r<e.length;r++)-1===t.indexOf(e[r])&&t.push(e[r]);return t}function bn(e,t,r,n){var i=Object.create(e||null);return t?N(i,t):i}yn.data=function(e,t,r){return r?vn(e,t,r):t&&"function"!==typeof t?e:vn(e,t)},z.forEach((function(e){yn[e]=_n})),W.forEach((function(e){yn[e+"s"]=bn})),yn.watch=function(e,t,r,n){if(e===ce&&(e=void 0),t===ce&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var o={};for(var a in N(o,e),t){var s=o[a],c=t[a];s&&!i(s)&&(s=[s]),o[a]=s?s.concat(c):i(c)?c:[c]}return o},yn.props=yn.methods=yn.inject=yn.computed=function(e,t,r,n){if(!e)return t;var i=Object.create(null);return N(i,e),t&&N(i,t),i},yn.provide=function(e,t){return e?function(){var r=Object.create(null);return gn(r,u(e)?e.call(this):e),t&&gn(r,u(t)?t.call(this):t,!1),r}:t};var Sn=function(e,t){return void 0===t?e:t};function Tn(e,t){var r=e.props;if(r){var n,o,a,s={};if(i(r)){n=r.length;while(n--)o=r[n],"string"===typeof o&&(a=P(o),s[a]={type:null})}else if(h(r))for(var c in r)o=r[c],a=P(c),s[a]=h(o)?o:{type:o};else 0;e.props=s}}function wn(e,t){var r=e.inject;if(r){var n=e.inject={};if(i(r))for(var o=0;o<r.length;o++)n[r[o]]={from:r[o]};else if(h(r))for(var a in r){var s=r[a];n[a]=h(s)?N({from:a},s):{from:s}}else 0}}function En(e){var t=e.directives;if(t)for(var r in t){var n=t[r];u(n)&&(t[r]={bind:n,update:n})}}function xn(e,t,r){if(u(t)&&(t=t.options),Tn(t,r),wn(t,r),En(t),!t._base&&(t.extends&&(e=xn(e,t.extends,r)),t.mixins))for(var n=0,i=t.mixins.length;n<i;n++)e=xn(e,t.mixins[n],r);var o,a={};for(o in e)s(o);for(o in t)E(e,o)||s(o);function s(n){var i=yn[n]||Sn;a[n]=i(e[n],t[n],r,n)}return a}function kn(e,t,r,n){if("string"===typeof r){var i=e[t];if(E(i,r))return i[r];var o=P(r);if(E(i,o))return i[o];var a=C(o);if(E(i,a))return i[a];var s=i[r]||i[o]||i[a];return s}}function Pn(e,t,r,n){var i=t[e],o=!E(r,e),a=r[e],s=On(Boolean,i.type);if(s>-1)if(o&&!E(i,"default"))a=!1;else if(""===a||a===A(e)){var c=On(String,i.type);(c<0||s<c)&&(a=!0)}if(void 0===a){a=Cn(n,i,e);var l=De;Ne(!0),je(a),Ne(l)}return a}function Cn(e,t,r){if(E(t,"default")){var n=t.default;return e&&e.$options.propsData&&void 0===e.$options.propsData[r]&&void 0!==e._props[r]?e._props[r]:u(n)&&"Function"!==An(t.type)?n.call(e):n}}var Rn=/^\s*function (\w+)/;function An(e){var t=e&&e.toString().match(Rn);return t?t[1]:""}function In(e,t){return An(e)===An(t)}function On(e,t){if(!i(t))return In(t,e)?0:-1;for(var r=0,n=t.length;r<n;r++)if(In(t[r],e))return r;return-1}var Ln={enumerable:!0,configurable:!0,get:U,set:U};function Dn(e,t,r){Ln.get=function(){return this[t][r]},Ln.set=function(e){this[t][r]=e},Object.defineProperty(e,r,Ln)}function Nn(e){var t=e.$options;if(t.props&&Mn(e,t.props),It(e),t.methods&&qn(e,t.methods),t.data)Un(e);else{var r=je(e._data={});r&&r.vmCount++}t.computed&&Fn(e,t.computed),t.watch&&t.watch!==ce&&Wn(e,t.watch)}function Mn(e,t){var r=e.$options.propsData||{},n=e._props=$e({}),i=e.$options._propKeys=[],o=!e.$parent;o||Ne(!1);var a=function(o){i.push(o);var a=Pn(o,t,r,e);Be(n,o,a,void 0,!0),o in e||Dn(e,"_props",o)};for(var s in t)a(s);Ne(!0)}function Un(e){var t=e.$options.data;t=e._data=u(t)?jn(t,e):t||{},h(t)||(t={});var r=Object.keys(t),n=e.$options.props,i=(e.$options.methods,r.length);while(i--){var o=r[i];0,n&&E(n,o)||K(o)||Dn(e,"_data",o)}var a=je(t);a&&a.vmCount++}function jn(e,t){Pe();try{return e.call(t,t)}catch(es){return Yt(es,t,"data()"),{}}finally{Ce()}}var Bn={lazy:!0};function Fn(e,t){var r=e._computedWatchers=Object.create(null),n=pe();for(var i in t){var o=t[i],a=u(o)?o:o.get;0,n||(r[i]=new mr(e,a||U,U,Bn)),i in e||Hn(e,i,o)}}function Hn(e,t,r){var n=!pe();u(r)?(Ln.get=n?Vn(t):$n(r),Ln.set=U):(Ln.get=r.get?n&&!1!==r.cache?Vn(t):$n(r.get):U,Ln.set=r.set||U),Object.defineProperty(e,t,Ln)}function Vn(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),xe.target&&t.depend(),t.value}}function $n(e){return function(){return e.call(this,this)}}function qn(e,t){e.$options.props;for(var r in t)e[r]="function"!==typeof t[r]?U:L(t[r],e)}function Wn(e,t){for(var r in t){var n=t[r];if(i(n))for(var o=0;o<n.length;o++)zn(e,r,n[o]);else zn(e,r,n)}}function zn(e,t,r,n){return h(r)&&(n=r,r=r.handler),"string"===typeof r&&(r=e[r]),e.$watch(t,r,n)}function Xn(e){var t={get:function(){return this._data}},r={get:function(){return this._props}};Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",r),e.prototype.$set=Fe,e.prototype.$delete=He,e.prototype.$watch=function(e,t,r){var n=this;if(h(t))return zn(n,e,t,r);r=r||{},r.user=!0;var i=new mr(n,e,t,r);if(r.immediate){var o='callback for immediate watcher "'.concat(i.expression,'"');Pe(),Qt(t,n,[i.value],n,o),Ce()}return function(){i.teardown()}}}var Gn=0;function Kn(e){e.prototype._init=function(e){var t=this;t._uid=Gn++,t._isVue=!0,t.__v_skip=!0,t._scope=new Ye(!0),t._scope.parent=void 0,t._scope._vm=!0,e&&e._isComponent?Yn(t,e):t.$options=xn(Qn(t.constructor),e||{},t),t._renderProxy=t,t._self=t,Cr(t),br(t),Ut(t),Nr(t,"beforeCreate",void 0,!1),Zr(t),Nn(t),Jr(t),Nr(t,"created"),t.$options.el&&t.$mount(t.$options.el)}}function Yn(e,t){var r=e.$options=Object.create(e.constructor.options),n=t._parentVnode;r.parent=t.parent,r._parentVnode=n;var i=n.componentOptions;r.propsData=i.propsData,r._parentListeners=i.listeners,r._renderChildren=i.children,r._componentTag=i.tag,t.render&&(r.render=t.render,r.staticRenderFns=t.staticRenderFns)}function Qn(e){var t=e.options;if(e.super){var r=Qn(e.super),n=e.superOptions;if(r!==n){e.superOptions=r;var i=Jn(e);i&&N(e.extendOptions,i),t=e.options=xn(r,e.extendOptions),t.name&&(t.components[t.name]=e)}}return t}function Jn(e){var t,r=e.options,n=e.sealedOptions;for(var i in r)r[i]!==n[i]&&(t||(t={}),t[i]=r[i]);return t}function Zn(e){this._init(e)}function ei(e){e.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var r=D(arguments,1);return r.unshift(this),u(e.install)?e.install.apply(e,r):u(e)&&e.apply(null,r),t.push(e),this}}function ti(e){e.mixin=function(e){return this.options=xn(this.options,e),this}}function ri(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var r=this,n=r.cid,i=e._Ctor||(e._Ctor={});if(i[n])return i[n];var o=an(e)||an(r.options);var a=function(e){this._init(e)};return a.prototype=Object.create(r.prototype),a.prototype.constructor=a,a.cid=t++,a.options=xn(r.options,e),a["super"]=r,a.options.props&&ni(a),a.options.computed&&ii(a),a.extend=r.extend,a.mixin=r.mixin,a.use=r.use,W.forEach((function(e){a[e]=r[e]})),o&&(a.options.components[o]=a),a.superOptions=r.options,a.extendOptions=e,a.sealedOptions=N({},a.options),i[n]=a,a}}function ni(e){var t=e.options.props;for(var r in t)Dn(e.prototype,"_props",r)}function ii(e){var t=e.options.computed;for(var r in t)Hn(e.prototype,r,t[r])}function oi(e){W.forEach((function(t){e[t]=function(e,r){return r?("component"===t&&h(r)&&(r.name=r.name||e,r=this.options._base.extend(r)),"directive"===t&&u(r)&&(r={bind:r,update:r}),this.options[t+"s"][e]=r,r):this.options[t+"s"][e]}}))}function ai(e){return e&&(an(e.Ctor.options)||e.tag)}function si(e,t){return i(e)?e.indexOf(t)>-1:"string"===typeof e?e.split(",").indexOf(t)>-1:!!f(e)&&e.test(t)}function ci(e,t){var r=e.cache,n=e.keys,i=e._vnode,o=e.$vnode;for(var a in r){var s=r[a];if(s){var c=s.name;c&&!t(c)&&li(r,a,n,i)}}o.componentOptions.children=void 0}function li(e,t,r,n){var i=e[t];!i||n&&i.tag===n.tag||i.componentInstance.$destroy(),e[t]=null,T(r,t)}Kn(Zn),Xn(Zn),xr(Zn),Rr(Zn),Bt(Zn);var ui=[String,RegExp,Array],pi={name:"keep-alive",abstract:!0,props:{include:ui,exclude:ui,max:[String,Number]},methods:{cacheVNode:function(){var e=this,t=e.cache,r=e.keys,n=e.vnodeToCache,i=e.keyToCache;if(n){var o=n.tag,a=n.componentInstance,s=n.componentOptions;t[i]={name:ai(s),tag:o,componentInstance:a},r.push(i),this.max&&r.length>parseInt(this.max)&&li(t,r[0],r,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)li(this.cache,e,this.keys)},mounted:function(){var e=this;this.cacheVNode(),this.$watch("include",(function(t){ci(e,(function(e){return si(t,e)}))})),this.$watch("exclude",(function(t){ci(e,(function(e){return!si(t,e)}))}))},updated:function(){this.cacheVNode()},render:function(){var e=this.$slots.default,t=$t(e),r=t&&t.componentOptions;if(r){var n=ai(r),i=this,o=i.include,a=i.exclude;if(o&&(!n||!si(o,n))||a&&n&&si(a,n))return t;var s=this,c=s.cache,l=s.keys,u=null==t.key?r.Ctor.cid+(r.tag?"::".concat(r.tag):""):t.key;c[u]?(t.componentInstance=c[u].componentInstance,T(l,u),l.push(u)):(this.vnodeToCache=t,this.keyToCache=u),t.data.keepAlive=!0}return t||e&&e[0]}},di={KeepAlive:pi};function hi(e){var t={get:function(){return X}};Object.defineProperty(e,"config",t),e.util={warn:fn,extend:N,mergeOptions:xn,defineReactive:Be},e.set=Fe,e.delete=He,e.nextTick=lr,e.observable=function(e){return je(e),e},e.options=Object.create(null),W.forEach((function(t){e.options[t+"s"]=Object.create(null)})),e.options._base=e,N(e.options.components,di),ei(e),ti(e),ri(e),oi(e)}hi(Zn),Object.defineProperty(Zn.prototype,"$isServer",{get:pe}),Object.defineProperty(Zn.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Zn,"FunctionalRenderContext",{value:tn}),Zn.version=dr;var fi=b("style,class"),yi=b("input,textarea,option,select,progress"),gi=function(e,t,r){return"value"===r&&yi(e)&&"button"!==t||"selected"===r&&"option"===e||"checked"===r&&"input"===e||"muted"===r&&"video"===e},vi=b("contenteditable,draggable,spellcheck"),_i=b("events,caret,typing,plaintext-only"),mi=function(e,t){return Ei(t)||"false"===t?"false":"contenteditable"===e&&_i(t)?t:"true"},bi=b("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),Si="http://www.w3.org/1999/xlink",Ti=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},wi=function(e){return Ti(e)?e.slice(6,e.length):""},Ei=function(e){return null==e||!1===e};function xi(e){var t=e.data,r=e,n=e;while(a(n.componentInstance))n=n.componentInstance._vnode,n&&n.data&&(t=ki(n.data,t));while(a(r=r.parent))r&&r.data&&(t=ki(t,r.data));return Pi(t.staticClass,t.class)}function ki(e,t){return{staticClass:Ci(e.staticClass,t.staticClass),class:a(e.class)?[e.class,t.class]:t.class}}function Pi(e,t){return a(e)||a(t)?Ci(e,Ri(t)):""}function Ci(e,t){return e?t?e+" "+t:e:t||""}function Ri(e){return Array.isArray(e)?Ai(e):p(e)?Ii(e):"string"===typeof e?e:""}function Ai(e){for(var t,r="",n=0,i=e.length;n<i;n++)a(t=Ri(e[n]))&&""!==t&&(r&&(r+=" "),r+=t);return r}function Ii(e){var t="";for(var r in e)e[r]&&(t&&(t+=" "),t+=r);return t}var Oi={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Li=b("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Di=b("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Ni=function(e){return Li(e)||Di(e)};function Mi(e){return Di(e)?"svg":"math"===e?"math":void 0}var Ui=Object.create(null);function ji(e){if(!ee)return!0;if(Ni(e))return!1;if(e=e.toLowerCase(),null!=Ui[e])return Ui[e];var t=document.createElement(e);return e.indexOf("-")>-1?Ui[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:Ui[e]=/HTMLUnknownElement/.test(t.toString())}var Bi=b("text,number,password,search,email,tel,url");function Fi(e){if("string"===typeof e){var t=document.querySelector(e);return t||document.createElement("div")}return e}function Hi(e,t){var r=document.createElement(e);return"select"!==e||t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&r.setAttribute("multiple","multiple"),r}function Vi(e,t){return document.createElementNS(Oi[e],t)}function $i(e){return document.createTextNode(e)}function qi(e){return document.createComment(e)}function Wi(e,t,r){e.insertBefore(t,r)}function zi(e,t){e.removeChild(t)}function Xi(e,t){e.appendChild(t)}function Gi(e){return e.parentNode}function Ki(e){return e.nextSibling}function Yi(e){return e.tagName}function Qi(e,t){e.textContent=t}function Ji(e,t){e.setAttribute(t,"")}var Zi=Object.freeze({__proto__:null,createElement:Hi,createElementNS:Vi,createTextNode:$i,createComment:qi,insertBefore:Wi,removeChild:zi,appendChild:Xi,parentNode:Gi,nextSibling:Ki,tagName:Yi,setTextContent:Qi,setStyleScope:Ji}),eo={create:function(e,t){to(t)},update:function(e,t){e.data.ref!==t.data.ref&&(to(e,!0),to(t))},destroy:function(e){to(e,!0)}};function to(e,t){var r=e.data.ref;if(a(r)){var n=e.context,o=e.componentInstance||e.elm,s=t?null:o,c=t?void 0:o;if(u(r))Qt(r,n,[s],n,"template ref function");else{var l=e.data.refInFor,p="string"===typeof r||"number"===typeof r,d=ze(r),h=n.$refs;if(p||d)if(l){var f=p?h[r]:r.value;t?i(f)&&T(f,o):i(f)?f.includes(o)||f.push(o):p?(h[r]=[o],ro(n,r,h[r])):r.value=[o]}else if(p){if(t&&h[r]!==o)return;h[r]=c,ro(n,r,s)}else if(d){if(t&&r.value!==o)return;r.value=s}else 0}}}function ro(e,t,r){var n=e._setupState;n&&E(n,t)&&(ze(n[t])?n[t].value=r:n[t]=r)}var no=new _e("",{},[]),io=["create","activate","update","remove","destroy"];function oo(e,t){return e.key===t.key&&e.asyncFactory===t.asyncFactory&&(e.tag===t.tag&&e.isComment===t.isComment&&a(e.data)===a(t.data)&&ao(e,t)||s(e.isAsyncPlaceholder)&&o(t.asyncFactory.error))}function ao(e,t){if("input"!==e.tag)return!0;var r,n=a(r=e.data)&&a(r=r.attrs)&&r.type,i=a(r=t.data)&&a(r=r.attrs)&&r.type;return n===i||Bi(n)&&Bi(i)}function so(e,t,r){var n,i,o={};for(n=t;n<=r;++n)i=e[n].key,a(i)&&(o[i]=n);return o}function co(e){var t,r,n={},c=e.modules,u=e.nodeOps;for(t=0;t<io.length;++t)for(n[io[t]]=[],r=0;r<c.length;++r)a(c[r][io[t]])&&n[io[t]].push(c[r][io[t]]);function p(e){return new _e(u.tagName(e).toLowerCase(),{},[],void 0,e)}function d(e,t){function r(){0===--r.listeners&&h(e)}return r.listeners=t,r}function h(e){var t=u.parentNode(e);a(t)&&u.removeChild(t,e)}function f(e,t,r,n,i,o,c){if(a(e.elm)&&a(o)&&(e=o[c]=Se(e)),e.isRootInsert=!i,!y(e,t,r,n)){var l=e.data,p=e.children,d=e.tag;a(d)?(e.elm=e.ns?u.createElementNS(e.ns,d):u.createElement(d,e),w(e),m(e,p,t),a(l)&&T(e,t),_(r,e.elm,n)):s(e.isComment)?(e.elm=u.createComment(e.text),_(r,e.elm,n)):(e.elm=u.createTextNode(e.text),_(r,e.elm,n))}}function y(e,t,r,n){var i=e.data;if(a(i)){var o=a(e.componentInstance)&&i.keepAlive;if(a(i=i.hook)&&a(i=i.init)&&i(e,!1),a(e.componentInstance))return g(e,t),_(r,e.elm,n),s(o)&&v(e,t,r,n),!0}}function g(e,t){a(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,S(e)?(T(e,t),w(e)):(to(e),t.push(e))}function v(e,t,r,i){var o,s=e;while(s.componentInstance)if(s=s.componentInstance._vnode,a(o=s.data)&&a(o=o.transition)){for(o=0;o<n.activate.length;++o)n.activate[o](no,s);t.push(s);break}_(r,e.elm,i)}function _(e,t,r){a(e)&&(a(r)?u.parentNode(r)===e&&u.insertBefore(e,t,r):u.appendChild(e,t))}function m(e,t,r){if(i(t)){0;for(var n=0;n<t.length;++n)f(t[n],r,e.elm,null,!0,t,n)}else l(e.text)&&u.appendChild(e.elm,u.createTextNode(String(e.text)))}function S(e){while(e.componentInstance)e=e.componentInstance._vnode;return a(e.tag)}function T(e,r){for(var i=0;i<n.create.length;++i)n.create[i](no,e);t=e.data.hook,a(t)&&(a(t.create)&&t.create(no,e),a(t.insert)&&r.push(e))}function w(e){var t;if(a(t=e.fnScopeId))u.setStyleScope(e.elm,t);else{var r=e;while(r)a(t=r.context)&&a(t=t.$options._scopeId)&&u.setStyleScope(e.elm,t),r=r.parent}a(t=kr)&&t!==e.context&&t!==e.fnContext&&a(t=t.$options._scopeId)&&u.setStyleScope(e.elm,t)}function E(e,t,r,n,i,o){for(;n<=i;++n)f(r[n],o,e,t,!1,r,n)}function x(e){var t,r,i=e.data;if(a(i))for(a(t=i.hook)&&a(t=t.destroy)&&t(e),t=0;t<n.destroy.length;++t)n.destroy[t](e);if(a(t=e.children))for(r=0;r<e.children.length;++r)x(e.children[r])}function k(e,t,r){for(;t<=r;++t){var n=e[t];a(n)&&(a(n.tag)?(P(n),x(n)):h(n.elm))}}function P(e,t){if(a(t)||a(e.data)){var r,i=n.remove.length+1;for(a(t)?t.listeners+=i:t=d(e.elm,i),a(r=e.componentInstance)&&a(r=r._vnode)&&a(r.data)&&P(r,t),r=0;r<n.remove.length;++r)n.remove[r](e,t);a(r=e.data.hook)&&a(r=r.remove)?r(e,t):t()}else h(e.elm)}function C(e,t,r,n,i){var s,c,l,p,d=0,h=0,y=t.length-1,g=t[0],v=t[y],_=r.length-1,m=r[0],b=r[_],S=!i;while(d<=y&&h<=_)o(g)?g=t[++d]:o(v)?v=t[--y]:oo(g,m)?(A(g,m,n,r,h),g=t[++d],m=r[++h]):oo(v,b)?(A(v,b,n,r,_),v=t[--y],b=r[--_]):oo(g,b)?(A(g,b,n,r,_),S&&u.insertBefore(e,g.elm,u.nextSibling(v.elm)),g=t[++d],b=r[--_]):oo(v,m)?(A(v,m,n,r,h),S&&u.insertBefore(e,v.elm,g.elm),v=t[--y],m=r[++h]):(o(s)&&(s=so(t,d,y)),c=a(m.key)?s[m.key]:R(m,t,d,y),o(c)?f(m,n,e,g.elm,!1,r,h):(l=t[c],oo(l,m)?(A(l,m,n,r,h),t[c]=void 0,S&&u.insertBefore(e,l.elm,g.elm)):f(m,n,e,g.elm,!1,r,h)),m=r[++h]);d>y?(p=o(r[_+1])?null:r[_+1].elm,E(e,p,r,h,_,n)):h>_&&k(t,d,y)}function R(e,t,r,n){for(var i=r;i<n;i++){var o=t[i];if(a(o)&&oo(e,o))return i}}function A(e,t,r,i,c,l){if(e!==t){a(t.elm)&&a(i)&&(t=i[c]=Se(t));var p=t.elm=e.elm;if(s(e.isAsyncPlaceholder))a(t.asyncFactory.resolved)?L(e.elm,t,r):t.isAsyncPlaceholder=!0;else if(s(t.isStatic)&&s(e.isStatic)&&t.key===e.key&&(s(t.isCloned)||s(t.isOnce)))t.componentInstance=e.componentInstance;else{var d,h=t.data;a(h)&&a(d=h.hook)&&a(d=d.prepatch)&&d(e,t);var f=e.children,y=t.children;if(a(h)&&S(t)){for(d=0;d<n.update.length;++d)n.update[d](e,t);a(d=h.hook)&&a(d=d.update)&&d(e,t)}o(t.text)?a(f)&&a(y)?f!==y&&C(p,f,y,r,l):a(y)?(a(e.text)&&u.setTextContent(p,""),E(p,null,y,0,y.length-1,r)):a(f)?k(f,0,f.length-1):a(e.text)&&u.setTextContent(p,""):e.text!==t.text&&u.setTextContent(p,t.text),a(h)&&a(d=h.hook)&&a(d=d.postpatch)&&d(e,t)}}}function I(e,t,r){if(s(r)&&a(e.parent))e.parent.data.pendingInsert=t;else for(var n=0;n<t.length;++n)t[n].data.hook.insert(t[n])}var O=b("attrs,class,staticClass,staticStyle,key");function L(e,t,r,n){var i,o=t.tag,c=t.data,l=t.children;if(n=n||c&&c.pre,t.elm=e,s(t.isComment)&&a(t.asyncFactory))return t.isAsyncPlaceholder=!0,!0;if(a(c)&&(a(i=c.hook)&&a(i=i.init)&&i(t,!0),a(i=t.componentInstance)))return g(t,r),!0;if(a(o)){if(a(l))if(e.hasChildNodes())if(a(i=c)&&a(i=i.domProps)&&a(i=i.innerHTML)){if(i!==e.innerHTML)return!1}else{for(var u=!0,p=e.firstChild,d=0;d<l.length;d++){if(!p||!L(p,l[d],r,n)){u=!1;break}p=p.nextSibling}if(!u||p)return!1}else m(t,l,r);if(a(c)){var h=!1;for(var f in c)if(!O(f)){h=!0,T(t,r);break}!h&&c["class"]&&yr(c["class"])}}else e.data!==t.text&&(e.data=t.text);return!0}return function(e,t,r,i){if(!o(t)){var c=!1,l=[];if(o(e))c=!0,f(t,l);else{var d=a(e.nodeType);if(!d&&oo(e,t))A(e,t,l,null,null,i);else{if(d){if(1===e.nodeType&&e.hasAttribute(q)&&(e.removeAttribute(q),r=!0),s(r)&&L(e,t,l))return I(t,l,!0),e;e=p(e)}var h=e.elm,y=u.parentNode(h);if(f(t,l,h._leaveCb?null:y,u.nextSibling(h)),a(t.parent)){var g=t.parent,v=S(t);while(g){for(var _=0;_<n.destroy.length;++_)n.destroy[_](g);if(g.elm=t.elm,v){for(var m=0;m<n.create.length;++m)n.create[m](no,g);var b=g.data.hook.insert;if(b.merged)for(var T=b.fns.slice(1),w=0;w<T.length;w++)T[w]()}else to(g);g=g.parent}}a(y)?k([e],0,0):a(e.tag)&&x(e)}}return I(t,l,c),t.elm}a(e)&&x(e)}}var lo={create:uo,update:uo,destroy:function(e){uo(e,no)}};function uo(e,t){(e.data.directives||t.data.directives)&&po(e,t)}function po(e,t){var r,n,i,o=e===no,a=t===no,s=fo(e.data.directives,e.context),c=fo(t.data.directives,t.context),l=[],u=[];for(r in c)n=s[r],i=c[r],n?(i.oldValue=n.value,i.oldArg=n.arg,go(i,"update",t,e),i.def&&i.def.componentUpdated&&u.push(i)):(go(i,"bind",t,e),i.def&&i.def.inserted&&l.push(i));if(l.length){var p=function(){for(var r=0;r<l.length;r++)go(l[r],"inserted",t,e)};o?nt(t,"insert",p):p()}if(u.length&&nt(t,"postpatch",(function(){for(var r=0;r<u.length;r++)go(u[r],"componentUpdated",t,e)})),!o)for(r in s)c[r]||go(s[r],"unbind",e,e,a)}var ho=Object.create(null);function fo(e,t){var r,n,i=Object.create(null);if(!e)return i;for(r=0;r<e.length;r++){if(n=e[r],n.modifiers||(n.modifiers=ho),i[yo(n)]=n,t._setupState&&t._setupState.__sfc){var o=n.def||kn(t,"_setupState","v-"+n.name);n.def="function"===typeof o?{bind:o,update:o}:o}n.def=n.def||kn(t.$options,"directives",n.name,!0)}return i}function yo(e){return e.rawName||"".concat(e.name,".").concat(Object.keys(e.modifiers||{}).join("."))}function go(e,t,r,n,i){var o=e.def&&e.def[t];if(o)try{o(r.elm,e,r,n,i)}catch(es){Yt(es,r.context,"directive ".concat(e.name," ").concat(t," hook"))}}var vo=[eo,lo];function _o(e,t){var r=t.componentOptions;if((!a(r)||!1!==r.Ctor.options.inheritAttrs)&&(!o(e.data.attrs)||!o(t.data.attrs))){var n,i,c,l=t.elm,u=e.data.attrs||{},p=t.data.attrs||{};for(n in(a(p.__ob__)||s(p._v_attr_proxy))&&(p=t.data.attrs=N({},p)),p)i=p[n],c=u[n],c!==i&&mo(l,n,i,t.data.pre);for(n in(re||ie)&&p.value!==u.value&&mo(l,"value",p.value),u)o(p[n])&&(Ti(n)?l.removeAttributeNS(Si,wi(n)):vi(n)||l.removeAttribute(n))}}function mo(e,t,r,n){n||e.tagName.indexOf("-")>-1?bo(e,t,r):bi(t)?Ei(r)?e.removeAttribute(t):(r="allowfullscreen"===t&&"EMBED"===e.tagName?"true":t,e.setAttribute(t,r)):vi(t)?e.setAttribute(t,mi(t,r)):Ti(t)?Ei(r)?e.removeAttributeNS(Si,wi(t)):e.setAttributeNS(Si,t,r):bo(e,t,r)}function bo(e,t,r){if(Ei(r))e.removeAttribute(t);else{if(re&&!ne&&"TEXTAREA"===e.tagName&&"placeholder"===t&&""!==r&&!e.__ieph){var n=function(t){t.stopImmediatePropagation(),e.removeEventListener("input",n)};e.addEventListener("input",n),e.__ieph=!0}e.setAttribute(t,r)}}var So={create:_o,update:_o};function To(e,t){var r=t.elm,n=t.data,i=e.data;if(!(o(n.staticClass)&&o(n.class)&&(o(i)||o(i.staticClass)&&o(i.class)))){var s=xi(t),c=r._transitionClasses;a(c)&&(s=Ci(s,Ri(c))),s!==r._prevClass&&(r.setAttribute("class",s),r._prevClass=s)}}var wo,Eo={create:To,update:To},xo="__r",ko="__c";function Po(e){if(a(e[xo])){var t=re?"change":"input";e[t]=[].concat(e[xo],e[t]||[]),delete e[xo]}a(e[ko])&&(e.change=[].concat(e[ko],e.change||[]),delete e[ko])}function Co(e,t,r){var n=wo;return function i(){var o=t.apply(null,arguments);null!==o&&Io(e,i,r,n)}}var Ro=tr&&!(se&&Number(se[1])<=53);function Ao(e,t,r,n){if(Ro){var i=$r,o=t;t=o._wrapper=function(e){if(e.target===e.currentTarget||e.timeStamp>=i||e.timeStamp<=0||e.target.ownerDocument!==document)return o.apply(this,arguments)}}wo.addEventListener(e,t,le?{capture:r,passive:n}:r)}function Io(e,t,r,n){(n||wo).removeEventListener(e,t._wrapper||t,r)}function Oo(e,t){if(!o(e.data.on)||!o(t.data.on)){var r=t.data.on||{},n=e.data.on||{};wo=t.elm||e.elm,Po(r),rt(r,n,Ao,Io,Co,t.context),wo=void 0}}var Lo,Do={create:Oo,update:Oo,destroy:function(e){return Oo(e,no)}};function No(e,t){if(!o(e.data.domProps)||!o(t.data.domProps)){var r,n,i=t.elm,c=e.data.domProps||{},l=t.data.domProps||{};for(r in(a(l.__ob__)||s(l._v_attr_proxy))&&(l=t.data.domProps=N({},l)),c)r in l||(i[r]="");for(r in l){if(n=l[r],"textContent"===r||"innerHTML"===r){if(t.children&&(t.children.length=0),n===c[r])continue;1===i.childNodes.length&&i.removeChild(i.childNodes[0])}if("value"===r&&"PROGRESS"!==i.tagName){i._value=n;var u=o(n)?"":String(n);Mo(i,u)&&(i.value=u)}else if("innerHTML"===r&&Di(i.tagName)&&o(i.innerHTML)){Lo=Lo||document.createElement("div"),Lo.innerHTML="<svg>".concat(n,"</svg>");var p=Lo.firstChild;while(i.firstChild)i.removeChild(i.firstChild);while(p.firstChild)i.appendChild(p.firstChild)}else if(n!==c[r])try{i[r]=n}catch(es){}}}}function Mo(e,t){return!e.composing&&("OPTION"===e.tagName||Uo(e,t)||jo(e,t))}function Uo(e,t){var r=!0;try{r=document.activeElement!==e}catch(es){}return r&&e.value!==t}function jo(e,t){var r=e.value,n=e._vModifiers;if(a(n)){if(n.number)return m(r)!==m(t);if(n.trim)return r.trim()!==t.trim()}return r!==t}var Bo={create:No,update:No},Fo=x((function(e){var t={},r=/;(?![^(]*\))/g,n=/:(.+)/;return e.split(r).forEach((function(e){if(e){var r=e.split(n);r.length>1&&(t[r[0].trim()]=r[1].trim())}})),t}));function Ho(e){var t=Vo(e.style);return e.staticStyle?N(e.staticStyle,t):t}function Vo(e){return Array.isArray(e)?M(e):"string"===typeof e?Fo(e):e}function $o(e,t){var r,n={};if(t){var i=e;while(i.componentInstance)i=i.componentInstance._vnode,i&&i.data&&(r=Ho(i.data))&&N(n,r)}(r=Ho(e.data))&&N(n,r);var o=e;while(o=o.parent)o.data&&(r=Ho(o.data))&&N(n,r);return n}var qo,Wo=/^--/,zo=/\s*!important$/,Xo=function(e,t,r){if(Wo.test(t))e.style.setProperty(t,r);else if(zo.test(r))e.style.setProperty(A(t),r.replace(zo,""),"important");else{var n=Ko(t);if(Array.isArray(r))for(var i=0,o=r.length;i<o;i++)e.style[n]=r[i];else e.style[n]=r}},Go=["Webkit","Moz","ms"],Ko=x((function(e){if(qo=qo||document.createElement("div").style,e=P(e),"filter"!==e&&e in qo)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<Go.length;r++){var n=Go[r]+t;if(n in qo)return n}}));function Yo(e,t){var r=t.data,n=e.data;if(!(o(r.staticStyle)&&o(r.style)&&o(n.staticStyle)&&o(n.style))){var i,s,c=t.elm,l=n.staticStyle,u=n.normalizedStyle||n.style||{},p=l||u,d=Vo(t.data.style)||{};t.data.normalizedStyle=a(d.__ob__)?N({},d):d;var h=$o(t,!0);for(s in p)o(h[s])&&Xo(c,s,"");for(s in h)i=h[s],Xo(c,s,null==i?"":i)}}var Qo={create:Yo,update:Yo},Jo=/\s+/;function Zo(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(Jo).forEach((function(t){return e.classList.add(t)})):e.classList.add(t);else{var r=" ".concat(e.getAttribute("class")||""," ");r.indexOf(" "+t+" ")<0&&e.setAttribute("class",(r+t).trim())}}function ea(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(Jo).forEach((function(t){return e.classList.remove(t)})):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{var r=" ".concat(e.getAttribute("class")||""," "),n=" "+t+" ";while(r.indexOf(n)>=0)r=r.replace(n," ");r=r.trim(),r?e.setAttribute("class",r):e.removeAttribute("class")}}function ta(e){if(e){if("object"===typeof e){var t={};return!1!==e.css&&N(t,ra(e.name||"v")),N(t,e),t}return"string"===typeof e?ra(e):void 0}}var ra=x((function(e){return{enterClass:"".concat(e,"-enter"),enterToClass:"".concat(e,"-enter-to"),enterActiveClass:"".concat(e,"-enter-active"),leaveClass:"".concat(e,"-leave"),leaveToClass:"".concat(e,"-leave-to"),leaveActiveClass:"".concat(e,"-leave-active")}})),na=ee&&!ne,ia="transition",oa="animation",aa="transition",sa="transitionend",ca="animation",la="animationend";na&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(aa="WebkitTransition",sa="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(ca="WebkitAnimation",la="webkitAnimationEnd"));var ua=ee?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()};function pa(e){ua((function(){ua(e)}))}function da(e,t){var r=e._transitionClasses||(e._transitionClasses=[]);r.indexOf(t)<0&&(r.push(t),Zo(e,t))}function ha(e,t){e._transitionClasses&&T(e._transitionClasses,t),ea(e,t)}function fa(e,t,r){var n=ga(e,t),i=n.type,o=n.timeout,a=n.propCount;if(!i)return r();var s=i===ia?sa:la,c=0,l=function(){e.removeEventListener(s,u),r()},u=function(t){t.target===e&&++c>=a&&l()};setTimeout((function(){c<a&&l()}),o+1),e.addEventListener(s,u)}var ya=/\b(transform|all)(,|$)/;function ga(e,t){var r,n=window.getComputedStyle(e),i=(n[aa+"Delay"]||"").split(", "),o=(n[aa+"Duration"]||"").split(", "),a=va(i,o),s=(n[ca+"Delay"]||"").split(", "),c=(n[ca+"Duration"]||"").split(", "),l=va(s,c),u=0,p=0;t===ia?a>0&&(r=ia,u=a,p=o.length):t===oa?l>0&&(r=oa,u=l,p=c.length):(u=Math.max(a,l),r=u>0?a>l?ia:oa:null,p=r?r===ia?o.length:c.length:0);var d=r===ia&&ya.test(n[aa+"Property"]);return{type:r,timeout:u,propCount:p,hasTransform:d}}function va(e,t){while(e.length<t.length)e=e.concat(e);return Math.max.apply(null,t.map((function(t,r){return _a(t)+_a(e[r])})))}function _a(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function ma(e,t){var r=e.elm;a(r._leaveCb)&&(r._leaveCb.cancelled=!0,r._leaveCb());var n=ta(e.data.transition);if(!o(n)&&!a(r._enterCb)&&1===r.nodeType){var i=n.css,s=n.type,c=n.enterClass,l=n.enterToClass,d=n.enterActiveClass,h=n.appearClass,f=n.appearToClass,y=n.appearActiveClass,g=n.beforeEnter,v=n.enter,_=n.afterEnter,b=n.enterCancelled,S=n.beforeAppear,T=n.appear,w=n.afterAppear,E=n.appearCancelled,x=n.duration,k=kr,P=kr.$vnode;while(P&&P.parent)k=P.context,P=P.parent;var C=!k._isMounted||!e.isRootInsert;if(!C||T||""===T){var R=C&&h?h:c,A=C&&y?y:d,I=C&&f?f:l,O=C&&S||g,L=C&&u(T)?T:v,D=C&&w||_,N=C&&E||b,M=m(p(x)?x.enter:x);0;var U=!1!==i&&!ne,j=Ta(L),B=r._enterCb=V((function(){U&&(ha(r,I),ha(r,A)),B.cancelled?(U&&ha(r,R),N&&N(r)):D&&D(r),r._enterCb=null}));e.data.show||nt(e,"insert",(function(){var t=r.parentNode,n=t&&t._pending&&t._pending[e.key];n&&n.tag===e.tag&&n.elm._leaveCb&&n.elm._leaveCb(),L&&L(r,B)})),O&&O(r),U&&(da(r,R),da(r,A),pa((function(){ha(r,R),B.cancelled||(da(r,I),j||(Sa(M)?setTimeout(B,M):fa(r,s,B)))}))),e.data.show&&(t&&t(),L&&L(r,B)),U||j||B()}}}function ba(e,t){var r=e.elm;a(r._enterCb)&&(r._enterCb.cancelled=!0,r._enterCb());var n=ta(e.data.transition);if(o(n)||1!==r.nodeType)return t();if(!a(r._leaveCb)){var i=n.css,s=n.type,c=n.leaveClass,l=n.leaveToClass,u=n.leaveActiveClass,d=n.beforeLeave,h=n.leave,f=n.afterLeave,y=n.leaveCancelled,g=n.delayLeave,v=n.duration,_=!1!==i&&!ne,b=Ta(h),S=m(p(v)?v.leave:v);0;var T=r._leaveCb=V((function(){r.parentNode&&r.parentNode._pending&&(r.parentNode._pending[e.key]=null),_&&(ha(r,l),ha(r,u)),T.cancelled?(_&&ha(r,c),y&&y(r)):(t(),f&&f(r)),r._leaveCb=null}));g?g(w):w()}function w(){T.cancelled||(!e.data.show&&r.parentNode&&((r.parentNode._pending||(r.parentNode._pending={}))[e.key]=e),d&&d(r),_&&(da(r,c),da(r,u),pa((function(){ha(r,c),T.cancelled||(da(r,l),b||(Sa(S)?setTimeout(T,S):fa(r,s,T)))}))),h&&h(r,T),_||b||T())}}function Sa(e){return"number"===typeof e&&!isNaN(e)}function Ta(e){if(o(e))return!1;var t=e.fns;return a(t)?Ta(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function wa(e,t){!0!==t.data.show&&ma(t)}var Ea=ee?{create:wa,activate:wa,remove:function(e,t){!0!==e.data.show?ba(e,t):t()}}:{},xa=[So,Eo,Do,Bo,Qo,Ea],ka=xa.concat(vo),Pa=co({nodeOps:Zi,modules:ka});ne&&document.addEventListener("selectionchange",(function(){var e=document.activeElement;e&&e.vmodel&&Na(e,"input")}));var Ca={inserted:function(e,t,r,n){"select"===r.tag?(n.elm&&!n.elm._vOptions?nt(r,"postpatch",(function(){Ca.componentUpdated(e,t,r)})):Ra(e,t,r.context),e._vOptions=[].map.call(e.options,Oa)):("textarea"===r.tag||Bi(e.type))&&(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("compositionstart",La),e.addEventListener("compositionend",Da),e.addEventListener("change",Da),ne&&(e.vmodel=!0)))},componentUpdated:function(e,t,r){if("select"===r.tag){Ra(e,t,r.context);var n=e._vOptions,i=e._vOptions=[].map.call(e.options,Oa);if(i.some((function(e,t){return!F(e,n[t])}))){var o=e.multiple?t.value.some((function(e){return Ia(e,i)})):t.value!==t.oldValue&&Ia(t.value,i);o&&Na(e,"change")}}}};function Ra(e,t,r){Aa(e,t,r),(re||ie)&&setTimeout((function(){Aa(e,t,r)}),0)}function Aa(e,t,r){var n=t.value,i=e.multiple;if(!i||Array.isArray(n)){for(var o,a,s=0,c=e.options.length;s<c;s++)if(a=e.options[s],i)o=H(n,Oa(a))>-1,a.selected!==o&&(a.selected=o);else if(F(Oa(a),n))return void(e.selectedIndex!==s&&(e.selectedIndex=s));i||(e.selectedIndex=-1)}}function Ia(e,t){return t.every((function(t){return!F(t,e)}))}function Oa(e){return"_value"in e?e._value:e.value}function La(e){e.target.composing=!0}function Da(e){e.target.composing&&(e.target.composing=!1,Na(e.target,"input"))}function Na(e,t){var r=document.createEvent("HTMLEvents");r.initEvent(t,!0,!0),e.dispatchEvent(r)}function Ma(e){return!e.componentInstance||e.data&&e.data.transition?e:Ma(e.componentInstance._vnode)}var Ua={bind:function(e,t,r){var n=t.value;r=Ma(r);var i=r.data&&r.data.transition,o=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;n&&i?(r.data.show=!0,ma(r,(function(){e.style.display=o}))):e.style.display=n?o:"none"},update:function(e,t,r){var n=t.value,i=t.oldValue;if(!n!==!i){r=Ma(r);var o=r.data&&r.data.transition;o?(r.data.show=!0,n?ma(r,(function(){e.style.display=e.__vOriginalDisplay})):ba(r,(function(){e.style.display="none"}))):e.style.display=n?e.__vOriginalDisplay:"none"}},unbind:function(e,t,r,n,i){i||(e.style.display=e.__vOriginalDisplay)}},ja={model:Ca,show:Ua},Ba={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Fa(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?Fa($t(t.children)):e}function Ha(e){var t={},r=e.$options;for(var n in r.propsData)t[n]=e[n];var i=r._parentListeners;for(var n in i)t[P(n)]=i[n];return t}function Va(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}function $a(e){while(e=e.parent)if(e.data.transition)return!0}function qa(e,t){return t.key===e.key&&t.tag===e.tag}var Wa=function(e){return e.tag||Pt(e)},za=function(e){return"show"===e.name},Xa={name:"transition",props:Ba,abstract:!0,render:function(e){var t=this,r=this.$slots.default;if(r&&(r=r.filter(Wa),r.length)){0;var n=this.mode;0;var i=r[0];if($a(this.$vnode))return i;var o=Fa(i);if(!o)return i;if(this._leaving)return Va(e,i);var a="__transition-".concat(this._uid,"-");o.key=null==o.key?o.isComment?a+"comment":a+o.tag:l(o.key)?0===String(o.key).indexOf(a)?o.key:a+o.key:o.key;var s=(o.data||(o.data={})).transition=Ha(this),c=this._vnode,u=Fa(c);if(o.data.directives&&o.data.directives.some(za)&&(o.data.show=!0),u&&u.data&&!qa(o,u)&&!Pt(u)&&(!u.componentInstance||!u.componentInstance._vnode.isComment)){var p=u.data.transition=N({},s);if("out-in"===n)return this._leaving=!0,nt(p,"afterLeave",(function(){t._leaving=!1,t.$forceUpdate()})),Va(e,i);if("in-out"===n){if(Pt(o))return c;var d,h=function(){d()};nt(s,"afterEnter",h),nt(s,"enterCancelled",h),nt(p,"delayLeave",(function(e){d=e}))}}return i}}},Ga=N({tag:String,moveClass:String},Ba);delete Ga.mode;var Ka={props:Ga,beforeMount:function(){var e=this,t=this._update;this._update=function(r,n){var i=Pr(e);e.__patch__(e._vnode,e.kept,!1,!0),e._vnode=e.kept,i(),t.call(e,r,n)}},render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",r=Object.create(null),n=this.prevChildren=this.children,i=this.$slots.default||[],o=this.children=[],a=Ha(this),s=0;s<i.length;s++){var c=i[s];if(c.tag)if(null!=c.key&&0!==String(c.key).indexOf("__vlist"))o.push(c),r[c.key]=c,(c.data||(c.data={})).transition=a;else;}if(n){var l=[],u=[];for(s=0;s<n.length;s++){c=n[s];c.data.transition=a,c.data.pos=c.elm.getBoundingClientRect(),r[c.key]?l.push(c):u.push(c)}this.kept=e(t,null,l),this.removed=u}return e(t,null,o)},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,t)&&(e.forEach(Ya),e.forEach(Qa),e.forEach(Ja),this._reflow=document.body.offsetHeight,e.forEach((function(e){if(e.data.moved){var r=e.elm,n=r.style;da(r,t),n.transform=n.WebkitTransform=n.transitionDuration="",r.addEventListener(sa,r._moveCb=function e(n){n&&n.target!==r||n&&!/transform$/.test(n.propertyName)||(r.removeEventListener(sa,e),r._moveCb=null,ha(r,t))})}})))},methods:{hasMove:function(e,t){if(!na)return!1;if(this._hasMove)return this._hasMove;var r=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach((function(e){ea(r,e)})),Zo(r,t),r.style.display="none",this.$el.appendChild(r);var n=ga(r);return this.$el.removeChild(r),this._hasMove=n.hasTransform}}};function Ya(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function Qa(e){e.data.newPos=e.elm.getBoundingClientRect()}function Ja(e){var t=e.data.pos,r=e.data.newPos,n=t.left-r.left,i=t.top-r.top;if(n||i){e.data.moved=!0;var o=e.elm.style;o.transform=o.WebkitTransform="translate(".concat(n,"px,").concat(i,"px)"),o.transitionDuration="0s"}}var Za={Transition:Xa,TransitionGroup:Ka};Zn.config.mustUseProp=gi,Zn.config.isReservedTag=Ni,Zn.config.isReservedAttr=fi,Zn.config.getTagNamespace=Mi,Zn.config.isUnknownElement=ji,N(Zn.options.directives,ja),N(Zn.options.components,Za),Zn.prototype.__patch__=ee?Pa:U,Zn.prototype.$mount=function(e,t){return e=e&&ee?Fi(e):void 0,Ar(this,e,t)},ee&&setTimeout((function(){X.devtools&&de&&de.emit("init",Zn)}),0)},9306:function(e,t,r){"use strict";var n=r(4901),i=r(6823),o=TypeError;e.exports=function(e){if(n(e))return e;throw new o(i(e)+" is not a function")}},3506:function(e,t,r){"use strict";var n=r(3925),i=String,o=TypeError;e.exports=function(e){if(n(e))return e;throw new o("Can't set "+i(e)+" as a prototype")}},7080:function(e,t,r){"use strict";var n=r(4402).has;e.exports=function(e){return n(e),e}},679:function(e,t,r){"use strict";var n=r(1625),i=TypeError;e.exports=function(e,t){if(n(t,e))return e;throw new i("Incorrect invocation")}},8551:function(e,t,r){"use strict";var n=r(34),i=String,o=TypeError;e.exports=function(e){if(n(e))return e;throw new o(i(e)+" is not an object")}},7811:function(e){"use strict";e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},7394:function(e,t,r){"use strict";var n=r(4576),i=r(6706),o=r(2195),a=n.ArrayBuffer,s=n.TypeError;e.exports=a&&i(a.prototype,"byteLength","get")||function(e){if("ArrayBuffer"!==o(e))throw new s("ArrayBuffer expected");return e.byteLength}},3238:function(e,t,r){"use strict";var n=r(4576),i=r(7476),o=r(7394),a=n.ArrayBuffer,s=a&&a.prototype,c=s&&i(s.slice);e.exports=function(e){if(0!==o(e))return!1;if(!c)return!1;try{return c(e,0,0),!1}catch(t){return!0}}},5169:function(e,t,r){"use strict";var n=r(3238),i=TypeError;e.exports=function(e){if(n(e))throw new i("ArrayBuffer is detached");return e}},5636:function(e,t,r){"use strict";var n=r(4576),i=r(9504),o=r(6706),a=r(7696),s=r(5169),c=r(7394),l=r(4483),u=r(1548),p=n.structuredClone,d=n.ArrayBuffer,h=n.DataView,f=Math.min,y=d.prototype,g=h.prototype,v=i(y.slice),_=o(y,"resizable","get"),m=o(y,"maxByteLength","get"),b=i(g.getInt8),S=i(g.setInt8);e.exports=(u||l)&&function(e,t,r){var n,i=c(e),o=void 0===t?i:a(t),y=!_||!_(e);if(s(e),u&&(e=p(e,{transfer:[e]}),i===o&&(r||y)))return e;if(i>=o&&(!r||y))n=v(e,0,o);else{var g=r&&!y&&m?{maxByteLength:m(e)}:void 0;n=new d(o,g);for(var T=new h(e),w=new h(n),E=f(o,i),x=0;x<E;x++)S(w,x,b(T,x))}return u||l(e),n}},4644:function(e,t,r){"use strict";var n,i,o,a=r(7811),s=r(3724),c=r(4576),l=r(4901),u=r(34),p=r(9297),d=r(6955),h=r(6823),f=r(6699),y=r(6840),g=r(2106),v=r(1625),_=r(2787),m=r(2967),b=r(8227),S=r(3392),T=r(1181),w=T.enforce,E=T.get,x=c.Int8Array,k=x&&x.prototype,P=c.Uint8ClampedArray,C=P&&P.prototype,R=x&&_(x),A=k&&_(k),I=Object.prototype,O=c.TypeError,L=b("toStringTag"),D=S("TYPED_ARRAY_TAG"),N="TypedArrayConstructor",M=a&&!!m&&"Opera"!==d(c.opera),U=!1,j={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},B={BigInt64Array:8,BigUint64Array:8},F=function(e){if(!u(e))return!1;var t=d(e);return"DataView"===t||p(j,t)||p(B,t)},H=function(e){var t=_(e);if(u(t)){var r=E(t);return r&&p(r,N)?r[N]:H(t)}},V=function(e){if(!u(e))return!1;var t=d(e);return p(j,t)||p(B,t)},$=function(e){if(V(e))return e;throw new O("Target is not a typed array")},q=function(e){if(l(e)&&(!m||v(R,e)))return e;throw new O(h(e)+" is not a typed array constructor")},W=function(e,t,r,n){if(s){if(r)for(var i in j){var o=c[i];if(o&&p(o.prototype,e))try{delete o.prototype[e]}catch(a){try{o.prototype[e]=t}catch(l){}}}A[e]&&!r||y(A,e,r?t:M&&k[e]||t,n)}},z=function(e,t,r){var n,i;if(s){if(m){if(r)for(n in j)if(i=c[n],i&&p(i,e))try{delete i[e]}catch(o){}if(R[e]&&!r)return;try{return y(R,e,r?t:M&&R[e]||t)}catch(o){}}for(n in j)i=c[n],!i||i[e]&&!r||y(i,e,t)}};for(n in j)i=c[n],o=i&&i.prototype,o?w(o)[N]=i:M=!1;for(n in B)i=c[n],o=i&&i.prototype,o&&(w(o)[N]=i);if((!M||!l(R)||R===Function.prototype)&&(R=function(){throw new O("Incorrect invocation")},M))for(n in j)c[n]&&m(c[n],R);if((!M||!A||A===I)&&(A=R.prototype,M))for(n in j)c[n]&&m(c[n].prototype,A);if(M&&_(C)!==A&&m(C,A),s&&!p(A,L))for(n in U=!0,g(A,L,{configurable:!0,get:function(){return u(this)?this[D]:void 0}}),j)c[n]&&f(c[n],D,n);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:M,TYPED_ARRAY_TAG:U&&D,aTypedArray:$,aTypedArrayConstructor:q,exportTypedArrayMethod:W,exportTypedArrayStaticMethod:z,getTypedArrayConstructor:H,isView:F,isTypedArray:V,TypedArray:R,TypedArrayPrototype:A}},5370:function(e,t,r){"use strict";var n=r(6198);e.exports=function(e,t,r){var i=0,o=arguments.length>2?r:n(t),a=new e(o);while(o>i)a[i]=t[i++];return a}},9617:function(e,t,r){"use strict";var n=r(5397),i=r(5610),o=r(6198),a=function(e){return function(t,r,a){var s=n(t),c=o(s);if(0===c)return!e&&-1;var l,u=i(a,c);if(e&&r!==r){while(c>u)if(l=s[u++],l!==l)return!0}else for(;c>u;u++)if((e||u in s)&&s[u]===r)return e||u||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},4527:function(e,t,r){"use strict";var n=r(3724),i=r(4376),o=TypeError,a=Object.getOwnPropertyDescriptor,s=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=s?function(e,t){if(i(e)&&!a(e,"length").writable)throw new o("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},7680:function(e,t,r){"use strict";var n=r(9504);e.exports=n([].slice)},7628:function(e,t,r){"use strict";var n=r(6198);e.exports=function(e,t){for(var r=n(e),i=new t(r),o=0;o<r;o++)i[o]=e[r-o-1];return i}},9928:function(e,t,r){"use strict";var n=r(6198),i=r(1291),o=RangeError;e.exports=function(e,t,r,a){var s=n(e),c=i(r),l=c<0?s+c:c;if(l>=s||l<0)throw new o("Incorrect index");for(var u=new t(s),p=0;p<s;p++)u[p]=p===l?a:e[p];return u}},6319:function(e,t,r){"use strict";var n=r(8551),i=r(9539);e.exports=function(e,t,r,o){try{return o?t(n(r)[0],r[1]):t(r)}catch(a){i(e,"throw",a)}}},2195:function(e,t,r){"use strict";var n=r(9504),i=n({}.toString),o=n("".slice);e.exports=function(e){return o(i(e),8,-1)}},6955:function(e,t,r){"use strict";var n=r(2140),i=r(4901),o=r(2195),a=r(8227),s=a("toStringTag"),c=Object,l="Arguments"===o(function(){return arguments}()),u=function(e,t){try{return e[t]}catch(r){}};e.exports=n?o:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=u(t=c(e),s))?r:l?o(t):"Object"===(n=o(t))&&i(t.callee)?"Arguments":n}},7740:function(e,t,r){"use strict";var n=r(9297),i=r(5031),o=r(7347),a=r(4913);e.exports=function(e,t,r){for(var s=i(t),c=a.f,l=o.f,u=0;u<s.length;u++){var p=s[u];n(e,p)||r&&n(r,p)||c(e,p,l(t,p))}}},2211:function(e,t,r){"use strict";var n=r(9039);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},2529:function(e){"use strict";e.exports=function(e,t){return{value:e,done:t}}},6699:function(e,t,r){"use strict";var n=r(3724),i=r(4913),o=r(6980);e.exports=n?function(e,t,r){return i.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},6980:function(e){"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},4659:function(e,t,r){"use strict";var n=r(3724),i=r(4913),o=r(6980);e.exports=function(e,t,r){n?i.f(e,t,o(0,r)):e[t]=r}},2106:function(e,t,r){"use strict";var n=r(283),i=r(4913);e.exports=function(e,t,r){return r.get&&n(r.get,t,{getter:!0}),r.set&&n(r.set,t,{setter:!0}),i.f(e,t,r)}},6840:function(e,t,r){"use strict";var n=r(4901),i=r(4913),o=r(283),a=r(9433);e.exports=function(e,t,r,s){s||(s={});var c=s.enumerable,l=void 0!==s.name?s.name:t;if(n(r)&&o(r,l,s),s.global)c?e[t]=r:a(t,r);else{try{s.unsafe?e[t]&&(c=!0):delete e[t]}catch(u){}c?e[t]=r:i.f(e,t,{value:r,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},6279:function(e,t,r){"use strict";var n=r(6840);e.exports=function(e,t,r){for(var i in t)n(e,i,t[i],r);return e}},9433:function(e,t,r){"use strict";var n=r(4576),i=Object.defineProperty;e.exports=function(e,t){try{i(n,e,{value:t,configurable:!0,writable:!0})}catch(r){n[e]=t}return t}},3724:function(e,t,r){"use strict";var n=r(9039);e.exports=!n((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4483:function(e,t,r){"use strict";var n,i,o,a,s=r(4576),c=r(9429),l=r(1548),u=s.structuredClone,p=s.ArrayBuffer,d=s.MessageChannel,h=!1;if(l)h=function(e){u(e,{transfer:[e]})};else if(p)try{d||(n=c("worker_threads"),n&&(d=n.MessageChannel)),d&&(i=new d,o=new p(2),a=function(e){i.port1.postMessage(null,[e])},2===o.byteLength&&(a(o),0===o.byteLength&&(h=a)))}catch(f){}e.exports=h},4055:function(e,t,r){"use strict";var n=r(4576),i=r(34),o=n.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},6837:function(e){"use strict";var t=TypeError,r=9007199254740991;e.exports=function(e){if(e>r)throw t("Maximum allowed index exceeded");return e}},5002:function(e){"use strict";e.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},8727:function(e){"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},9544:function(e,t,r){"use strict";var n=r(2839);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},6193:function(e,t,r){"use strict";var n=r(4215);e.exports="NODE"===n},2839:function(e,t,r){"use strict";var n=r(4576),i=n.navigator,o=i&&i.userAgent;e.exports=o?String(o):""},9519:function(e,t,r){"use strict";var n,i,o=r(4576),a=r(2839),s=o.process,c=o.Deno,l=s&&s.versions||c&&c.version,u=l&&l.v8;u&&(n=u.split("."),i=n[0]>0&&n[0]<4?1:+(n[0]+n[1])),!i&&a&&(n=a.match(/Edge\/(\d+)/),(!n||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/),n&&(i=+n[1]))),e.exports=i},4215:function(e,t,r){"use strict";var n=r(4576),i=r(2839),o=r(2195),a=function(e){return i.slice(0,e.length)===e};e.exports=function(){return a("Bun/")?"BUN":a("Cloudflare-Workers")?"CLOUDFLARE":a("Deno/")?"DENO":a("Node.js/")?"NODE":n.Bun&&"string"==typeof Bun.version?"BUN":n.Deno&&"object"==typeof Deno.version?"DENO":"process"===o(n.process)?"NODE":n.window&&n.document?"BROWSER":"REST"}()},8574:function(e,t,r){"use strict";var n=r(9504),i=Error,o=n("".replace),a=function(e){return String(new i(e).stack)}("zxcasd"),s=/\n\s*at [^:]*:[^\n]*/,c=s.test(a);e.exports=function(e,t){if(c&&"string"==typeof e&&!i.prepareStackTrace)while(t--)e=o(e,s,"");return e}},6518:function(e,t,r){"use strict";var n=r(4576),i=r(7347).f,o=r(6699),a=r(6840),s=r(9433),c=r(7740),l=r(2796);e.exports=function(e,t){var r,u,p,d,h,f,y=e.target,g=e.global,v=e.stat;if(u=g?n:v?n[y]||s(y,{}):n[y]&&n[y].prototype,u)for(p in t){if(h=t[p],e.dontCallGetSet?(f=i(u,p),d=f&&f.value):d=u[p],r=l(g?p:y+(v?".":"#")+p,e.forced),!r&&void 0!==d){if(typeof h==typeof d)continue;c(h,d)}(e.sham||d&&d.sham)&&o(h,"sham",!0),a(u,p,h,e)}}},9039:function(e){"use strict";e.exports=function(e){try{return!!e()}catch(t){return!0}}},8745:function(e,t,r){"use strict";var n=r(616),i=Function.prototype,o=i.apply,a=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(n?a.bind(o):function(){return a.apply(o,arguments)})},6080:function(e,t,r){"use strict";var n=r(7476),i=r(9306),o=r(616),a=n(n.bind);e.exports=function(e,t){return i(e),void 0===t?e:o?a(e,t):function(){return e.apply(t,arguments)}}},616:function(e,t,r){"use strict";var n=r(9039);e.exports=!n((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},9565:function(e,t,r){"use strict";var n=r(616),i=Function.prototype.call;e.exports=n?i.bind(i):function(){return i.apply(i,arguments)}},350:function(e,t,r){"use strict";var n=r(3724),i=r(9297),o=Function.prototype,a=n&&Object.getOwnPropertyDescriptor,s=i(o,"name"),c=s&&"something"===function(){}.name,l=s&&(!n||n&&a(o,"name").configurable);e.exports={EXISTS:s,PROPER:c,CONFIGURABLE:l}},6706:function(e,t,r){"use strict";var n=r(9504),i=r(9306);e.exports=function(e,t,r){try{return n(i(Object.getOwnPropertyDescriptor(e,t)[r]))}catch(o){}}},7476:function(e,t,r){"use strict";var n=r(2195),i=r(9504);e.exports=function(e){if("Function"===n(e))return i(e)}},9504:function(e,t,r){"use strict";var n=r(616),i=Function.prototype,o=i.call,a=n&&i.bind.bind(o,o);e.exports=n?a:function(e){return function(){return o.apply(e,arguments)}}},9429:function(e,t,r){"use strict";var n=r(4576),i=r(6193);e.exports=function(e){if(i){try{return n.process.getBuiltinModule(e)}catch(t){}try{return Function('return require("'+e+'")')()}catch(t){}}}},7751:function(e,t,r){"use strict";var n=r(4576),i=r(4901),o=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?o(n[e]):n[e]&&n[e][t]}},1767:function(e){"use strict";e.exports=function(e){return{iterator:e,next:e.next,done:!1}}},851:function(e,t,r){"use strict";var n=r(6955),i=r(5966),o=r(4117),a=r(6269),s=r(8227),c=s("iterator");e.exports=function(e){if(!o(e))return i(e,c)||i(e,"@@iterator")||a[n(e)]}},81:function(e,t,r){"use strict";var n=r(9565),i=r(9306),o=r(8551),a=r(6823),s=r(851),c=TypeError;e.exports=function(e,t){var r=arguments.length<2?s(e):t;if(i(r))return o(n(r,e));throw new c(a(e)+" is not iterable")}},5966:function(e,t,r){"use strict";var n=r(9306),i=r(4117);e.exports=function(e,t){var r=e[t];return i(r)?void 0:n(r)}},3789:function(e,t,r){"use strict";var n=r(9306),i=r(8551),o=r(9565),a=r(1291),s=r(1767),c="Invalid size",l=RangeError,u=TypeError,p=Math.max,d=function(e,t){this.set=e,this.size=p(t,0),this.has=n(e.has),this.keys=n(e.keys)};d.prototype={getIterator:function(){return s(i(o(this.keys,this.set)))},includes:function(e){return o(this.has,this.set,e)}},e.exports=function(e){i(e);var t=+e.size;if(t!==t)throw new u(c);var r=a(t);if(r<0)throw new l(c);return new d(e,r)}},4576:function(e,t,r){"use strict";var n=function(e){return e&&e.Math===Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||n("object"==typeof this&&this)||function(){return this}()||Function("return this")()},9297:function(e,t,r){"use strict";var n=r(9504),i=r(8981),o=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}},421:function(e){"use strict";e.exports={}},397:function(e,t,r){"use strict";var n=r(7751);e.exports=n("document","documentElement")},5917:function(e,t,r){"use strict";var n=r(3724),i=r(9039),o=r(4055);e.exports=!n&&!i((function(){return 7!==Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},7055:function(e,t,r){"use strict";var n=r(9504),i=r(9039),o=r(2195),a=Object,s=n("".split);e.exports=i((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"===o(e)?s(e,""):a(e)}:a},3167:function(e,t,r){"use strict";var n=r(4901),i=r(34),o=r(2967);e.exports=function(e,t,r){var a,s;return o&&n(a=t.constructor)&&a!==r&&i(s=a.prototype)&&s!==r.prototype&&o(e,s),e}},3706:function(e,t,r){"use strict";var n=r(9504),i=r(4901),o=r(7629),a=n(Function.toString);i(o.inspectSource)||(o.inspectSource=function(e){return a(e)}),e.exports=o.inspectSource},1181:function(e,t,r){"use strict";var n,i,o,a=r(8622),s=r(4576),c=r(34),l=r(6699),u=r(9297),p=r(7629),d=r(6119),h=r(421),f="Object already initialized",y=s.TypeError,g=s.WeakMap,v=function(e){return o(e)?i(e):n(e,{})},_=function(e){return function(t){var r;if(!c(t)||(r=i(t)).type!==e)throw new y("Incompatible receiver, "+e+" required");return r}};if(a||p.state){var m=p.state||(p.state=new g);m.get=m.get,m.has=m.has,m.set=m.set,n=function(e,t){if(m.has(e))throw new y(f);return t.facade=e,m.set(e,t),t},i=function(e){return m.get(e)||{}},o=function(e){return m.has(e)}}else{var b=d("state");h[b]=!0,n=function(e,t){if(u(e,b))throw new y(f);return t.facade=e,l(e,b,t),t},i=function(e){return u(e,b)?e[b]:{}},o=function(e){return u(e,b)}}e.exports={set:n,get:i,has:o,enforce:v,getterFor:_}},4209:function(e,t,r){"use strict";var n=r(8227),i=r(6269),o=n("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[o]===e)}},4376:function(e,t,r){"use strict";var n=r(2195);e.exports=Array.isArray||function(e){return"Array"===n(e)}},1108:function(e,t,r){"use strict";var n=r(6955);e.exports=function(e){var t=n(e);return"BigInt64Array"===t||"BigUint64Array"===t}},4901:function(e){"use strict";var t="object"==typeof document&&document.all;e.exports="undefined"==typeof t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}},2796:function(e,t,r){"use strict";var n=r(9039),i=r(4901),o=/#|\.prototype\./,a=function(e,t){var r=c[s(e)];return r===u||r!==l&&(i(t)?n(t):!!t)},s=a.normalize=function(e){return String(e).replace(o,".").toLowerCase()},c=a.data={},l=a.NATIVE="N",u=a.POLYFILL="P";e.exports=a},4117:function(e){"use strict";e.exports=function(e){return null===e||void 0===e}},34:function(e,t,r){"use strict";var n=r(4901);e.exports=function(e){return"object"==typeof e?null!==e:n(e)}},3925:function(e,t,r){"use strict";var n=r(34);e.exports=function(e){return n(e)||null===e}},6395:function(e){"use strict";e.exports=!1},757:function(e,t,r){"use strict";var n=r(7751),i=r(4901),o=r(1625),a=r(7040),s=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=n("Symbol");return i(t)&&o(t.prototype,s(e))}},507:function(e,t,r){"use strict";var n=r(9565);e.exports=function(e,t,r){var i,o,a=r?e:e.iterator,s=e.next;while(!(i=n(s,a)).done)if(o=t(i.value),void 0!==o)return o}},2652:function(e,t,r){"use strict";var n=r(6080),i=r(9565),o=r(8551),a=r(6823),s=r(4209),c=r(6198),l=r(1625),u=r(81),p=r(851),d=r(9539),h=TypeError,f=function(e,t){this.stopped=e,this.result=t},y=f.prototype;e.exports=function(e,t,r){var g,v,_,m,b,S,T,w=r&&r.that,E=!(!r||!r.AS_ENTRIES),x=!(!r||!r.IS_RECORD),k=!(!r||!r.IS_ITERATOR),P=!(!r||!r.INTERRUPTED),C=n(t,w),R=function(e){return g&&d(g,"normal",e),new f(!0,e)},A=function(e){return E?(o(e),P?C(e[0],e[1],R):C(e[0],e[1])):P?C(e,R):C(e)};if(x)g=e.iterator;else if(k)g=e;else{if(v=p(e),!v)throw new h(a(e)+" is not iterable");if(s(v)){for(_=0,m=c(e);m>_;_++)if(b=A(e[_]),b&&l(y,b))return b;return new f(!1)}g=u(e,v)}S=x?e.next:g.next;while(!(T=i(S,g)).done){try{b=A(T.value)}catch(I){d(g,"throw",I)}if("object"==typeof b&&b&&l(y,b))return b}return new f(!1)}},9539:function(e,t,r){"use strict";var n=r(9565),i=r(8551),o=r(5966);e.exports=function(e,t,r){var a,s;i(e);try{if(a=o(e,"return"),!a){if("throw"===t)throw r;return r}a=n(a,e)}catch(c){s=!0,a=c}if("throw"===t)throw r;if(s)throw a;return i(a),r}},9462:function(e,t,r){"use strict";var n=r(9565),i=r(2360),o=r(6699),a=r(6279),s=r(8227),c=r(1181),l=r(5966),u=r(7657).IteratorPrototype,p=r(2529),d=r(9539),h=s("toStringTag"),f="IteratorHelper",y="WrapForValidIterator",g=c.set,v=function(e){var t=c.getterFor(e?y:f);return a(i(u),{next:function(){var r=t(this);if(e)return r.nextHandler();try{var n=r.done?void 0:r.nextHandler();return p(n,r.done)}catch(i){throw r.done=!0,i}},return:function(){var r=t(this),i=r.iterator;if(r.done=!0,e){var o=l(i,"return");return o?n(o,i):p(void 0,!0)}if(r.inner)try{d(r.inner.iterator,"normal")}catch(a){return d(i,"throw",a)}return i&&d(i,"normal"),p(void 0,!0)}})},_=v(!0),m=v(!1);o(m,h,"Iterator Helper"),e.exports=function(e,t){var r=function(r,n){n?(n.iterator=r.iterator,n.next=r.next):n=r,n.type=t?y:f,n.nextHandler=e,n.counter=0,n.done=!1,g(this,n)};return r.prototype=t?_:m,r}},713:function(e,t,r){"use strict";var n=r(9565),i=r(9306),o=r(8551),a=r(1767),s=r(9462),c=r(6319),l=s((function(){var e=this.iterator,t=o(n(this.next,e)),r=this.done=!!t.done;if(!r)return c(e,this.mapper,[t.value,this.counter++],!0)}));e.exports=function(e){return o(this),i(e),new l(a(this),{mapper:e})}},7657:function(e,t,r){"use strict";var n,i,o,a=r(9039),s=r(4901),c=r(34),l=r(2360),u=r(2787),p=r(6840),d=r(8227),h=r(6395),f=d("iterator"),y=!1;[].keys&&(o=[].keys(),"next"in o?(i=u(u(o)),i!==Object.prototype&&(n=i)):y=!0);var g=!c(n)||a((function(){var e={};return n[f].call(e)!==e}));g?n={}:h&&(n=l(n)),s(n[f])||p(n,f,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:y}},6269:function(e){"use strict";e.exports={}},6198:function(e,t,r){"use strict";var n=r(8014);e.exports=function(e){return n(e.length)}},283:function(e,t,r){"use strict";var n=r(9504),i=r(9039),o=r(4901),a=r(9297),s=r(3724),c=r(350).CONFIGURABLE,l=r(3706),u=r(1181),p=u.enforce,d=u.get,h=String,f=Object.defineProperty,y=n("".slice),g=n("".replace),v=n([].join),_=s&&!i((function(){return 8!==f((function(){}),"length",{value:8}).length})),m=String(String).split("String"),b=e.exports=function(e,t,r){"Symbol("===y(h(t),0,7)&&(t="["+g(h(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!a(e,"name")||c&&e.name!==t)&&(s?f(e,"name",{value:t,configurable:!0}):e.name=t),_&&r&&a(r,"arity")&&e.length!==r.arity&&f(e,"length",{value:r.arity});try{r&&a(r,"constructor")&&r.constructor?s&&f(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(i){}var n=p(e);return a(n,"source")||(n.source=v(m,"string"==typeof t?t:"")),e};Function.prototype.toString=b((function(){return o(this)&&d(this).source||l(this)}),"toString")},741:function(e){"use strict";var t=Math.ceil,r=Math.floor;e.exports=Math.trunc||function(e){var n=+e;return(n>0?r:t)(n)}},2603:function(e,t,r){"use strict";var n=r(655);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:n(e)}},2360:function(e,t,r){"use strict";var n,i=r(8551),o=r(6801),a=r(8727),s=r(421),c=r(397),l=r(4055),u=r(6119),p=">",d="<",h="prototype",f="script",y=u("IE_PROTO"),g=function(){},v=function(e){return d+f+p+e+d+"/"+f+p},_=function(e){e.write(v("")),e.close();var t=e.parentWindow.Object;return e=null,t},m=function(){var e,t=l("iframe"),r="java"+f+":";return t.style.display="none",c.appendChild(t),t.src=String(r),e=t.contentWindow.document,e.open(),e.write(v("document.F=Object")),e.close(),e.F},b=function(){try{n=new ActiveXObject("htmlfile")}catch(t){}b="undefined"!=typeof document?document.domain&&n?_(n):m():_(n);var e=a.length;while(e--)delete b[h][a[e]];return b()};s[y]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(g[h]=i(e),r=new g,g[h]=null,r[y]=e):r=b(),void 0===t?r:o.f(r,t)}},6801:function(e,t,r){"use strict";var n=r(3724),i=r(8686),o=r(4913),a=r(8551),s=r(5397),c=r(1072);t.f=n&&!i?Object.defineProperties:function(e,t){a(e);var r,n=s(t),i=c(t),l=i.length,u=0;while(l>u)o.f(e,r=i[u++],n[r]);return e}},4913:function(e,t,r){"use strict";var n=r(3724),i=r(5917),o=r(8686),a=r(8551),s=r(6969),c=TypeError,l=Object.defineProperty,u=Object.getOwnPropertyDescriptor,p="enumerable",d="configurable",h="writable";t.f=n?o?function(e,t,r){if(a(e),t=s(t),a(r),"function"===typeof e&&"prototype"===t&&"value"in r&&h in r&&!r[h]){var n=u(e,t);n&&n[h]&&(e[t]=r.value,r={configurable:d in r?r[d]:n[d],enumerable:p in r?r[p]:n[p],writable:!1})}return l(e,t,r)}:l:function(e,t,r){if(a(e),t=s(t),a(r),i)try{return l(e,t,r)}catch(n){}if("get"in r||"set"in r)throw new c("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},7347:function(e,t,r){"use strict";var n=r(3724),i=r(9565),o=r(8773),a=r(6980),s=r(5397),c=r(6969),l=r(9297),u=r(5917),p=Object.getOwnPropertyDescriptor;t.f=n?p:function(e,t){if(e=s(e),t=c(t),u)try{return p(e,t)}catch(r){}if(l(e,t))return a(!i(o.f,e,t),e[t])}},8480:function(e,t,r){"use strict";var n=r(1828),i=r(8727),o=i.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},3717:function(e,t){"use strict";t.f=Object.getOwnPropertySymbols},2787:function(e,t,r){"use strict";var n=r(9297),i=r(4901),o=r(8981),a=r(6119),s=r(2211),c=a("IE_PROTO"),l=Object,u=l.prototype;e.exports=s?l.getPrototypeOf:function(e){var t=o(e);if(n(t,c))return t[c];var r=t.constructor;return i(r)&&t instanceof r?r.prototype:t instanceof l?u:null}},1625:function(e,t,r){"use strict";var n=r(9504);e.exports=n({}.isPrototypeOf)},1828:function(e,t,r){"use strict";var n=r(9504),i=r(9297),o=r(5397),a=r(9617).indexOf,s=r(421),c=n([].push);e.exports=function(e,t){var r,n=o(e),l=0,u=[];for(r in n)!i(s,r)&&i(n,r)&&c(u,r);while(t.length>l)i(n,r=t[l++])&&(~a(u,r)||c(u,r));return u}},1072:function(e,t,r){"use strict";var n=r(1828),i=r(8727);e.exports=Object.keys||function(e){return n(e,i)}},8773:function(e,t){"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!r.call({1:2},1);t.f=i?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},2967:function(e,t,r){"use strict";var n=r(6706),i=r(34),o=r(7750),a=r(3506);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{e=n(Object.prototype,"__proto__","set"),e(r,[]),t=r instanceof Array}catch(s){}return function(r,n){return o(r),a(n),i(r)?(t?e(r,n):r.__proto__=n,r):r}}():void 0)},4270:function(e,t,r){"use strict";var n=r(9565),i=r(4901),o=r(34),a=TypeError;e.exports=function(e,t){var r,s;if("string"===t&&i(r=e.toString)&&!o(s=n(r,e)))return s;if(i(r=e.valueOf)&&!o(s=n(r,e)))return s;if("string"!==t&&i(r=e.toString)&&!o(s=n(r,e)))return s;throw new a("Can't convert object to primitive value")}},5031:function(e,t,r){"use strict";var n=r(7751),i=r(9504),o=r(8480),a=r(3717),s=r(8551),c=i([].concat);e.exports=n("Reflect","ownKeys")||function(e){var t=o.f(s(e)),r=a.f;return r?c(t,r(e)):t}},7750:function(e,t,r){"use strict";var n=r(4117),i=TypeError;e.exports=function(e){if(n(e))throw new i("Can't call method on "+e);return e}},9472:function(e,t,r){"use strict";var n=r(4576),i=r(8745),o=r(4901),a=r(4215),s=r(2839),c=r(7680),l=r(2812),u=n.Function,p=/MSIE .\./.test(s)||"BUN"===a&&function(){var e=n.Bun.version.split(".");return e.length<3||"0"===e[0]&&(e[1]<3||"3"===e[1]&&"0"===e[2])}();e.exports=function(e,t){var r=t?2:1;return p?function(n,a){var s=l(arguments.length,1)>r,p=o(n)?n:u(n),d=s?c(arguments,r):[],h=s?function(){i(p,this,d)}:p;return t?e(h,a):e(h)}:e}},9286:function(e,t,r){"use strict";var n=r(4402),i=r(8469),o=n.Set,a=n.add;e.exports=function(e){var t=new o;return i(e,(function(e){a(t,e)})),t}},3440:function(e,t,r){"use strict";var n=r(7080),i=r(4402),o=r(9286),a=r(5170),s=r(3789),c=r(8469),l=r(507),u=i.has,p=i.remove;e.exports=function(e){var t=n(this),r=s(e),i=o(t);return a(t)<=r.size?c(t,(function(e){r.includes(e)&&p(i,e)})):l(r.getIterator(),(function(e){u(t,e)&&p(i,e)})),i}},4402:function(e,t,r){"use strict";var n=r(9504),i=Set.prototype;e.exports={Set:Set,add:n(i.add),has:n(i.has),remove:n(i["delete"]),proto:i}},8750:function(e,t,r){"use strict";var n=r(7080),i=r(4402),o=r(5170),a=r(3789),s=r(8469),c=r(507),l=i.Set,u=i.add,p=i.has;e.exports=function(e){var t=n(this),r=a(e),i=new l;return o(t)>r.size?c(r.getIterator(),(function(e){p(t,e)&&u(i,e)})):s(t,(function(e){r.includes(e)&&u(i,e)})),i}},4449:function(e,t,r){"use strict";var n=r(7080),i=r(4402).has,o=r(5170),a=r(3789),s=r(8469),c=r(507),l=r(9539);e.exports=function(e){var t=n(this),r=a(e);if(o(t)<=r.size)return!1!==s(t,(function(e){if(r.includes(e))return!1}),!0);var u=r.getIterator();return!1!==c(u,(function(e){if(i(t,e))return l(u,"normal",!1)}))}},3838:function(e,t,r){"use strict";var n=r(7080),i=r(5170),o=r(8469),a=r(3789);e.exports=function(e){var t=n(this),r=a(e);return!(i(t)>r.size)&&!1!==o(t,(function(e){if(!r.includes(e))return!1}),!0)}},8527:function(e,t,r){"use strict";var n=r(7080),i=r(4402).has,o=r(5170),a=r(3789),s=r(507),c=r(9539);e.exports=function(e){var t=n(this),r=a(e);if(o(t)<r.size)return!1;var l=r.getIterator();return!1!==s(l,(function(e){if(!i(t,e))return c(l,"normal",!1)}))}},8469:function(e,t,r){"use strict";var n=r(9504),i=r(507),o=r(4402),a=o.Set,s=o.proto,c=n(s.forEach),l=n(s.keys),u=l(new a).next;e.exports=function(e,t,r){return r?i({iterator:l(e),next:u},t):c(e,t)}},4916:function(e,t,r){"use strict";var n=r(7751),i=function(e){return{size:e,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};e.exports=function(e){var t=n("Set");try{(new t)[e](i(0));try{return(new t)[e](i(-1)),!1}catch(r){return!0}}catch(o){return!1}}},5170:function(e,t,r){"use strict";var n=r(6706),i=r(4402);e.exports=n(i.proto,"size","get")||function(e){return e.size}},3650:function(e,t,r){"use strict";var n=r(7080),i=r(4402),o=r(9286),a=r(3789),s=r(507),c=i.add,l=i.has,u=i.remove;e.exports=function(e){var t=n(this),r=a(e).getIterator(),i=o(t);return s(r,(function(e){l(t,e)?u(i,e):c(i,e)})),i}},4204:function(e,t,r){"use strict";var n=r(7080),i=r(4402).add,o=r(9286),a=r(3789),s=r(507);e.exports=function(e){var t=n(this),r=a(e).getIterator(),c=o(t);return s(r,(function(e){i(c,e)})),c}},6119:function(e,t,r){"use strict";var n=r(5745),i=r(3392),o=n("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},7629:function(e,t,r){"use strict";var n=r(6395),i=r(4576),o=r(9433),a="__core-js_shared__",s=e.exports=i[a]||o(a,{});(s.versions||(s.versions=[])).push({version:"3.39.0",mode:n?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.39.0/LICENSE",source:"https://github.com/zloirock/core-js"})},5745:function(e,t,r){"use strict";var n=r(7629);e.exports=function(e,t){return n[e]||(n[e]=t||{})}},1548:function(e,t,r){"use strict";var n=r(4576),i=r(9039),o=r(9519),a=r(4215),s=n.structuredClone;e.exports=!!s&&!i((function(){if("DENO"===a&&o>92||"NODE"===a&&o>94||"BROWSER"===a&&o>97)return!1;var e=new ArrayBuffer(8),t=s(e,{transfer:[e]});return 0!==e.byteLength||8!==t.byteLength}))},4495:function(e,t,r){"use strict";var n=r(9519),i=r(9039),o=r(4576),a=o.String;e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol("symbol detection");return!a(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},9225:function(e,t,r){"use strict";var n,i,o,a,s=r(4576),c=r(8745),l=r(6080),u=r(4901),p=r(9297),d=r(9039),h=r(397),f=r(7680),y=r(4055),g=r(2812),v=r(9544),_=r(6193),m=s.setImmediate,b=s.clearImmediate,S=s.process,T=s.Dispatch,w=s.Function,E=s.MessageChannel,x=s.String,k=0,P={},C="onreadystatechange";d((function(){n=s.location}));var R=function(e){if(p(P,e)){var t=P[e];delete P[e],t()}},A=function(e){return function(){R(e)}},I=function(e){R(e.data)},O=function(e){s.postMessage(x(e),n.protocol+"//"+n.host)};m&&b||(m=function(e){g(arguments.length,1);var t=u(e)?e:w(e),r=f(arguments,1);return P[++k]=function(){c(t,void 0,r)},i(k),k},b=function(e){delete P[e]},_?i=function(e){S.nextTick(A(e))}:T&&T.now?i=function(e){T.now(A(e))}:E&&!v?(o=new E,a=o.port2,o.port1.onmessage=I,i=l(a.postMessage,a)):s.addEventListener&&u(s.postMessage)&&!s.importScripts&&n&&"file:"!==n.protocol&&!d(O)?(i=O,s.addEventListener("message",I,!1)):i=C in y("script")?function(e){h.appendChild(y("script"))[C]=function(){h.removeChild(this),R(e)}}:function(e){setTimeout(A(e),0)}),e.exports={set:m,clear:b}},5610:function(e,t,r){"use strict";var n=r(1291),i=Math.max,o=Math.min;e.exports=function(e,t){var r=n(e);return r<0?i(r+t,0):o(r,t)}},5854:function(e,t,r){"use strict";var n=r(2777),i=TypeError;e.exports=function(e){var t=n(e,"number");if("number"==typeof t)throw new i("Can't convert number to bigint");return BigInt(t)}},7696:function(e,t,r){"use strict";var n=r(1291),i=r(8014),o=RangeError;e.exports=function(e){if(void 0===e)return 0;var t=n(e),r=i(t);if(t!==r)throw new o("Wrong length or index");return r}},5397:function(e,t,r){"use strict";var n=r(7055),i=r(7750);e.exports=function(e){return n(i(e))}},1291:function(e,t,r){"use strict";var n=r(741);e.exports=function(e){var t=+e;return t!==t||0===t?0:n(t)}},8014:function(e,t,r){"use strict";var n=r(1291),i=Math.min;e.exports=function(e){var t=n(e);return t>0?i(t,9007199254740991):0}},8981:function(e,t,r){"use strict";var n=r(7750),i=Object;e.exports=function(e){return i(n(e))}},2777:function(e,t,r){"use strict";var n=r(9565),i=r(34),o=r(757),a=r(5966),s=r(4270),c=r(8227),l=TypeError,u=c("toPrimitive");e.exports=function(e,t){if(!i(e)||o(e))return e;var r,c=a(e,u);if(c){if(void 0===t&&(t="default"),r=n(c,e,t),!i(r)||o(r))return r;throw new l("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},6969:function(e,t,r){"use strict";var n=r(2777),i=r(757);e.exports=function(e){var t=n(e,"string");return i(t)?t:t+""}},2140:function(e,t,r){"use strict";var n=r(8227),i=n("toStringTag"),o={};o[i]="z",e.exports="[object z]"===String(o)},655:function(e,t,r){"use strict";var n=r(6955),i=String;e.exports=function(e){if("Symbol"===n(e))throw new TypeError("Cannot convert a Symbol value to a string");return i(e)}},6823:function(e){"use strict";var t=String;e.exports=function(e){try{return t(e)}catch(r){return"Object"}}},3392:function(e,t,r){"use strict";var n=r(9504),i=0,o=Math.random(),a=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++i+o,36)}},7040:function(e,t,r){"use strict";var n=r(4495);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},8686:function(e,t,r){"use strict";var n=r(3724),i=r(9039);e.exports=n&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},2812:function(e){"use strict";var t=TypeError;e.exports=function(e,r){if(e<r)throw new t("Not enough arguments");return e}},8622:function(e,t,r){"use strict";var n=r(4576),i=r(4901),o=n.WeakMap;e.exports=i(o)&&/native code/.test(String(o))},8227:function(e,t,r){"use strict";var n=r(4576),i=r(5745),o=r(9297),a=r(3392),s=r(4495),c=r(7040),l=n.Symbol,u=i("wks"),p=c?l["for"]||l:l&&l.withoutSetter||a;e.exports=function(e){return o(u,e)||(u[e]=s&&o(l,e)?l[e]:p("Symbol."+e)),u[e]}},6573:function(e,t,r){"use strict";var n=r(3724),i=r(2106),o=r(3238),a=ArrayBuffer.prototype;n&&!("detached"in a)&&i(a,"detached",{configurable:!0,get:function(){return o(this)}})},7936:function(e,t,r){"use strict";var n=r(6518),i=r(5636);i&&n({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return i(this,arguments.length?arguments[0]:void 0,!1)}})},8100:function(e,t,r){"use strict";var n=r(6518),i=r(5636);i&&n({target:"ArrayBuffer",proto:!0},{transfer:function(){return i(this,arguments.length?arguments[0]:void 0,!0)}})},4114:function(e,t,r){"use strict";var n=r(6518),i=r(8981),o=r(6198),a=r(4527),s=r(6837),c=r(9039),l=c((function(){return 4294967297!==[].push.call({length:4294967296},1)})),u=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},p=l||!u();n({target:"Array",proto:!0,arity:1,forced:p},{push:function(e){var t=i(this),r=o(t),n=arguments.length;s(r+n);for(var c=0;c<n;c++)t[r]=arguments[c],r++;return a(t,r),r}})},8111:function(e,t,r){"use strict";var n=r(6518),i=r(4576),o=r(679),a=r(8551),s=r(4901),c=r(2787),l=r(2106),u=r(4659),p=r(9039),d=r(9297),h=r(8227),f=r(7657).IteratorPrototype,y=r(3724),g=r(6395),v="constructor",_="Iterator",m=h("toStringTag"),b=TypeError,S=i[_],T=g||!s(S)||S.prototype!==f||!p((function(){S({})})),w=function(){if(o(this,f),c(this)===f)throw new b("Abstract class Iterator not directly constructable")},E=function(e,t){y?l(f,e,{configurable:!0,get:function(){return t},set:function(t){if(a(this),this===f)throw new b("You can't redefine this property");d(this,e)?this[e]=t:u(this,e,t)}}):f[e]=t};d(f,m)||E(m,_),!T&&d(f,v)&&f[v]!==Object||E(v,w),w.prototype=f,n({global:!0,constructor:!0,forced:T},{Iterator:w})},1148:function(e,t,r){"use strict";var n=r(6518),i=r(2652),o=r(9306),a=r(8551),s=r(1767);n({target:"Iterator",proto:!0,real:!0},{every:function(e){a(this),o(e);var t=s(this),r=0;return!i(t,(function(t,n){if(!e(t,r++))return n()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},2489:function(e,t,r){"use strict";var n=r(6518),i=r(9565),o=r(9306),a=r(8551),s=r(1767),c=r(9462),l=r(6319),u=r(6395),p=c((function(){var e,t,r,n=this.iterator,o=this.predicate,s=this.next;while(1){if(e=a(i(s,n)),t=this.done=!!e.done,t)return;if(r=e.value,l(n,o,[r,this.counter++],!0))return r}}));n({target:"Iterator",proto:!0,real:!0,forced:u},{filter:function(e){return a(this),o(e),new p(s(this),{predicate:e})}})},116:function(e,t,r){"use strict";var n=r(6518),i=r(2652),o=r(9306),a=r(8551),s=r(1767);n({target:"Iterator",proto:!0,real:!0},{find:function(e){a(this),o(e);var t=s(this),r=0;return i(t,(function(t,n){if(e(t,r++))return n(t)}),{IS_RECORD:!0,INTERRUPTED:!0}).result}})},7588:function(e,t,r){"use strict";var n=r(6518),i=r(2652),o=r(9306),a=r(8551),s=r(1767);n({target:"Iterator",proto:!0,real:!0},{forEach:function(e){a(this),o(e);var t=s(this),r=0;i(t,(function(t){e(t,r++)}),{IS_RECORD:!0})}})},1701:function(e,t,r){"use strict";var n=r(6518),i=r(713),o=r(6395);n({target:"Iterator",proto:!0,real:!0,forced:o},{map:i})},8237:function(e,t,r){"use strict";var n=r(6518),i=r(2652),o=r(9306),a=r(8551),s=r(1767),c=TypeError;n({target:"Iterator",proto:!0,real:!0},{reduce:function(e){a(this),o(e);var t=s(this),r=arguments.length<2,n=r?void 0:arguments[1],l=0;if(i(t,(function(t){r?(r=!1,n=t):n=e(n,t,l),l++}),{IS_RECORD:!0}),r)throw new c("Reduce of empty iterator with no initial value");return n}})},3579:function(e,t,r){"use strict";var n=r(6518),i=r(2652),o=r(9306),a=r(8551),s=r(1767);n({target:"Iterator",proto:!0,real:!0},{some:function(e){a(this),o(e);var t=s(this),r=0;return i(t,(function(t,n){if(e(t,r++))return n()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})},1806:function(e,t,r){"use strict";var n=r(6518),i=r(8551),o=r(2652),a=r(1767),s=[].push;n({target:"Iterator",proto:!0,real:!0},{toArray:function(){var e=[];return o(a(i(this)),s,{that:e,IS_RECORD:!0}),e}})},7642:function(e,t,r){"use strict";var n=r(6518),i=r(3440),o=r(4916);n({target:"Set",proto:!0,real:!0,forced:!o("difference")},{difference:i})},8004:function(e,t,r){"use strict";var n=r(6518),i=r(9039),o=r(8750),a=r(4916),s=!a("intersection")||i((function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))}));n({target:"Set",proto:!0,real:!0,forced:s},{intersection:o})},3853:function(e,t,r){"use strict";var n=r(6518),i=r(4449),o=r(4916);n({target:"Set",proto:!0,real:!0,forced:!o("isDisjointFrom")},{isDisjointFrom:i})},5876:function(e,t,r){"use strict";var n=r(6518),i=r(3838),o=r(4916);n({target:"Set",proto:!0,real:!0,forced:!o("isSubsetOf")},{isSubsetOf:i})},2475:function(e,t,r){"use strict";var n=r(6518),i=r(8527),o=r(4916);n({target:"Set",proto:!0,real:!0,forced:!o("isSupersetOf")},{isSupersetOf:i})},5024:function(e,t,r){"use strict";var n=r(6518),i=r(3650),o=r(4916);n({target:"Set",proto:!0,real:!0,forced:!o("symmetricDifference")},{symmetricDifference:i})},1698:function(e,t,r){"use strict";var n=r(6518),i=r(4204),o=r(4916);n({target:"Set",proto:!0,real:!0,forced:!o("union")},{union:i})},7467:function(e,t,r){"use strict";var n=r(7628),i=r(4644),o=i.aTypedArray,a=i.exportTypedArrayMethod,s=i.getTypedArrayConstructor;a("toReversed",(function(){return n(o(this),s(this))}))},4732:function(e,t,r){"use strict";var n=r(4644),i=r(9504),o=r(9306),a=r(5370),s=n.aTypedArray,c=n.getTypedArrayConstructor,l=n.exportTypedArrayMethod,u=i(n.TypedArrayPrototype.sort);l("toSorted",(function(e){void 0!==e&&o(e);var t=s(this),r=a(c(t),t);return u(r,e)}))},9577:function(e,t,r){"use strict";var n=r(9928),i=r(4644),o=r(1108),a=r(1291),s=r(5854),c=i.aTypedArray,l=i.getTypedArrayConstructor,u=i.exportTypedArrayMethod,p=!!function(){try{new Int8Array(1)["with"](2,{valueOf:function(){throw 8}})}catch(e){return 8===e}}();u("with",{with:function(e,t){var r=c(this),i=a(e),u=o(r)?s(t):+t;return n(r,l(r),i,u)}}["with"],!p)},8992:function(e,t,r){"use strict";r(8111)},3215:function(e,t,r){"use strict";r(1148)},4520:function(e,t,r){"use strict";r(2489)},2577:function(e,t,r){"use strict";r(116)},3949:function(e,t,r){"use strict";r(7588)},1454:function(e,t,r){"use strict";r(1701)},8872:function(e,t,r){"use strict";r(8237)},7550:function(e,t,r){"use strict";r(3579)},1795:function(e,t,r){"use strict";r(1806)},6368:function(e,t,r){"use strict";var n=r(6518),i=r(4576),o=r(9225).clear;n({global:!0,bind:!0,enumerable:!0,forced:i.clearImmediate!==o},{clearImmediate:o})},4979:function(e,t,r){"use strict";var n=r(6518),i=r(4576),o=r(7751),a=r(6980),s=r(4913).f,c=r(9297),l=r(679),u=r(3167),p=r(2603),d=r(5002),h=r(8574),f=r(3724),y=r(6395),g="DOMException",v=o("Error"),_=o(g),m=function(){l(this,b);var e=arguments.length,t=p(e<1?void 0:arguments[0]),r=p(e<2?void 0:arguments[1],"Error"),n=new _(t,r),i=new v(t);return i.name=g,s(n,"stack",a(1,h(i.stack,1))),u(n,this,m),n},b=m.prototype=_.prototype,S="stack"in new v(g),T="stack"in new _(1,2),w=_&&f&&Object.getOwnPropertyDescriptor(i,g),E=!!w&&!(w.writable&&w.configurable),x=S&&!E&&!T;n({global:!0,constructor:!0,forced:y||x},{DOMException:x?m:_});var k=o(g),P=k.prototype;if(P.constructor!==k)for(var C in y||s(P,"constructor",a(1,k)),d)if(c(d,C)){var R=d[C],A=R.s;c(k,A)||s(k,A,a(6,R.c))}},9848:function(e,t,r){"use strict";r(6368),r(9309)},9309:function(e,t,r){"use strict";var n=r(6518),i=r(4576),o=r(9225).set,a=r(9472),s=i.setImmediate?a(o,!1):o;n({global:!0,bind:!0,enumerable:!0,forced:i.setImmediate!==s},{setImmediate:s})},4603:function(e,t,r){"use strict";var n=r(6840),i=r(9504),o=r(655),a=r(2812),s=URLSearchParams,c=s.prototype,l=i(c.append),u=i(c["delete"]),p=i(c.forEach),d=i([].push),h=new s("a=1&a=2&b=3");h["delete"]("a",1),h["delete"]("b",void 0),h+""!=="a=2"&&n(c,"delete",(function(e){var t=arguments.length,r=t<2?void 0:arguments[1];if(t&&void 0===r)return u(this,e);var n=[];p(this,(function(e,t){d(n,{key:t,value:e})})),a(t,1);var i,s=o(e),c=o(r),h=0,f=0,y=!1,g=n.length;while(h<g)i=n[h++],y||i.key===s?(y=!0,u(this,i.key)):f++;while(f<g)i=n[f++],i.key===s&&i.value===c||l(this,i.key,i.value)}),{enumerable:!0,unsafe:!0})},7566:function(e,t,r){"use strict";var n=r(6840),i=r(9504),o=r(655),a=r(2812),s=URLSearchParams,c=s.prototype,l=i(c.getAll),u=i(c.has),p=new s("a=1");!p.has("a",2)&&p.has("a",void 0)||n(c,"has",(function(e){var t=arguments.length,r=t<2?void 0:arguments[1];if(t&&void 0===r)return u(this,e);var n=l(this,e);a(t,1);var i=o(r),s=0;while(s<n.length)if(n[s++]===i)return!0;return!1}),{enumerable:!0,unsafe:!0})},8721:function(e,t,r){"use strict";var n=r(3724),i=r(9504),o=r(2106),a=URLSearchParams.prototype,s=i(a.forEach);n&&!("size"in a)&&o(a,"size",{get:function(){var e=0;return s(this,(function(){e++})),e},configurable:!0,enumerable:!0})},1137:function(e,t,r){"use strict";function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(null,arguments)}r.d(t,{A:function(){return n}})},4373:function(e,t,r){"use strict";r.d(t,{A:function(){return _r}});var n={};r.r(n),r.d(n,{hasBrowserEnv:function(){return je},hasStandardBrowserEnv:function(){return Fe},hasStandardBrowserWebWorkerEnv:function(){return He},navigator:function(){return Be},origin:function(){return Ve}});r(4114),r(6573),r(8100),r(7936),r(7467),r(4732),r(9577),r(8992),r(3949),r(9848);function i(e,t){return function(){return e.apply(t,arguments)}}const{toString:o}=Object.prototype,{getPrototypeOf:a}=Object,s=(e=>t=>{const r=o.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),c=e=>(e=e.toLowerCase(),t=>s(t)===e),l=e=>t=>typeof t===e,{isArray:u}=Array,p=l("undefined");function d(e){return null!==e&&!p(e)&&null!==e.constructor&&!p(e.constructor)&&g(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const h=c("ArrayBuffer");function f(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&h(e.buffer),t}const y=l("string"),g=l("function"),v=l("number"),_=e=>null!==e&&"object"===typeof e,m=e=>!0===e||!1===e,b=e=>{if("object"!==s(e))return!1;const t=a(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},S=c("Date"),T=c("File"),w=c("Blob"),E=c("FileList"),x=e=>_(e)&&g(e.pipe),k=e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||g(e.append)&&("formdata"===(t=s(e))||"object"===t&&g(e.toString)&&"[object FormData]"===e.toString()))},P=c("URLSearchParams"),[C,R,A,I]=["ReadableStream","Request","Response","Headers"].map(c),O=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function L(e,t,{allOwnKeys:r=!1}={}){if(null===e||"undefined"===typeof e)return;let n,i;if("object"!==typeof e&&(e=[e]),u(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let a;for(n=0;n<o;n++)a=i[n],t.call(null,e[a],a,e)}}function D(e,t){t=t.toLowerCase();const r=Object.keys(e);let n,i=r.length;while(i-- >0)if(n=r[i],t===n.toLowerCase())return n;return null}const N=(()=>"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global)(),M=e=>!p(e)&&e!==N;function U(){const{caseless:e}=M(this)&&this||{},t={},r=(r,n)=>{const i=e&&D(t,n)||n;b(t[i])&&b(r)?t[i]=U(t[i],r):b(r)?t[i]=U({},r):u(r)?t[i]=r.slice():t[i]=r};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&L(arguments[n],r);return t}const j=(e,t,r,{allOwnKeys:n}={})=>(L(t,((t,n)=>{r&&g(t)?e[n]=i(t,r):e[n]=t}),{allOwnKeys:n}),e),B=e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),F=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},H=(e,t,r,n)=>{let i,o,s;const c={};if(t=t||{},null==e)return t;do{i=Object.getOwnPropertyNames(e),o=i.length;while(o-- >0)s=i[o],n&&!n(s,e,t)||c[s]||(t[s]=e[s],c[s]=!0);e=!1!==r&&a(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},V=(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return-1!==n&&n===r},$=e=>{if(!e)return null;if(u(e))return e;let t=e.length;if(!v(t))return null;const r=new Array(t);while(t-- >0)r[t]=e[t];return r},q=(e=>t=>e&&t instanceof e)("undefined"!==typeof Uint8Array&&a(Uint8Array)),W=(e,t)=>{const r=e&&e[Symbol.iterator],n=r.call(e);let i;while((i=n.next())&&!i.done){const r=i.value;t.call(e,r[0],r[1])}},z=(e,t)=>{let r;const n=[];while(null!==(r=e.exec(t)))n.push(r);return n},X=c("HTMLFormElement"),G=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,r){return t.toUpperCase()+r})),K=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),Y=c("RegExp"),Q=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};L(r,((r,i)=>{let o;!1!==(o=t(r,i,e))&&(n[i]=o||r)})),Object.defineProperties(e,n)},J=e=>{Q(e,((t,r)=>{if(g(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const n=e[r];g(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))}))},Z=(e,t)=>{const r={},n=e=>{e.forEach((e=>{r[e]=!0}))};return u(e)?n(e):n(String(e).split(t)),r},ee=()=>{},te=(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,re="abcdefghijklmnopqrstuvwxyz",ne="0123456789",ie={DIGIT:ne,ALPHA:re,ALPHA_DIGIT:re+re.toUpperCase()+ne},oe=(e=16,t=ie.ALPHA_DIGIT)=>{let r="";const{length:n}=t;while(e--)r+=t[Math.random()*n|0];return r};function ae(e){return!!(e&&g(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])}const se=e=>{const t=new Array(10),r=(e,n)=>{if(_(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;const i=u(e)?[]:{};return L(e,((e,t)=>{const o=r(e,n+1);!p(o)&&(i[t]=o)})),t[n]=void 0,i}}return e};return r(e,0)},ce=c("AsyncFunction"),le=e=>e&&(_(e)||g(e))&&g(e.then)&&g(e.catch),ue=((e,t)=>e?setImmediate:t?((e,t)=>(N.addEventListener("message",(({source:r,data:n})=>{r===N&&n===e&&t.length&&t.shift()()}),!1),r=>{t.push(r),N.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e))("function"===typeof setImmediate,g(N.postMessage)),pe="undefined"!==typeof queueMicrotask?queueMicrotask.bind(N):"undefined"!==typeof process&&process.nextTick||ue;var de={isArray:u,isArrayBuffer:h,isBuffer:d,isFormData:k,isArrayBufferView:f,isString:y,isNumber:v,isBoolean:m,isObject:_,isPlainObject:b,isReadableStream:C,isRequest:R,isResponse:A,isHeaders:I,isUndefined:p,isDate:S,isFile:T,isBlob:w,isRegExp:Y,isFunction:g,isStream:x,isURLSearchParams:P,isTypedArray:q,isFileList:E,forEach:L,merge:U,extend:j,trim:O,stripBOM:B,inherits:F,toFlatObject:H,kindOf:s,kindOfTest:c,endsWith:V,toArray:$,forEachEntry:W,matchAll:z,isHTMLForm:X,hasOwnProperty:K,hasOwnProp:K,reduceDescriptors:Q,freezeMethods:J,toObjectSet:Z,toCamelCase:G,noop:ee,toFiniteNumber:te,findKey:D,global:N,isContextDefined:M,ALPHABET:ie,generateString:oe,isSpecCompliantForm:ae,toJSONObject:se,isAsyncFn:ce,isThenable:le,setImmediate:ue,asap:pe};r(1454),r(7550),r(1795);function he(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}de.inherits(he,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:de.toJSONObject(this.config),code:this.code,status:this.status}}});const fe=he.prototype,ye={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{ye[e]={value:e}})),Object.defineProperties(he,ye),Object.defineProperty(fe,"isAxiosError",{value:!0}),he.from=(e,t,r,n,i,o)=>{const a=Object.create(fe);return de.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),he.call(a,e.message,t,r,n,i),a.cause=e,a.name=e.name,o&&Object.assign(a,o),a};var ge=he,ve=null;function _e(e){return de.isPlainObject(e)||de.isArray(e)}function me(e){return de.endsWith(e,"[]")?e.slice(0,-2):e}function be(e,t,r){return e?e.concat(t).map((function(e,t){return e=me(e),!r&&t?"["+e+"]":e})).join(r?".":""):t}function Se(e){return de.isArray(e)&&!e.some(_e)}const Te=de.toFlatObject(de,{},null,(function(e){return/^is[A-Z]/.test(e)}));function we(e,t,r){if(!de.isObject(e))throw new TypeError("target must be an object");t=t||new(ve||FormData),r=de.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!de.isUndefined(t[e])}));const n=r.metaTokens,i=r.visitor||u,o=r.dots,a=r.indexes,s=r.Blob||"undefined"!==typeof Blob&&Blob,c=s&&de.isSpecCompliantForm(t);if(!de.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(de.isDate(e))return e.toISOString();if(!c&&de.isBlob(e))throw new ge("Blob is not supported. Use a Buffer instead.");return de.isArrayBuffer(e)||de.isTypedArray(e)?c&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function u(e,r,i){let s=e;if(e&&!i&&"object"===typeof e)if(de.endsWith(r,"{}"))r=n?r:r.slice(0,-2),e=JSON.stringify(e);else if(de.isArray(e)&&Se(e)||(de.isFileList(e)||de.endsWith(r,"[]"))&&(s=de.toArray(e)))return r=me(r),s.forEach((function(e,n){!de.isUndefined(e)&&null!==e&&t.append(!0===a?be([r],n,o):null===a?r:r+"[]",l(e))})),!1;return!!_e(e)||(t.append(be(i,r,o),l(e)),!1)}const p=[],d=Object.assign(Te,{defaultVisitor:u,convertValue:l,isVisitable:_e});function h(e,r){if(!de.isUndefined(e)){if(-1!==p.indexOf(e))throw Error("Circular reference detected in "+r.join("."));p.push(e),de.forEach(e,(function(e,n){const o=!(de.isUndefined(e)||null===e)&&i.call(t,e,de.isString(n)?n.trim():n,r,d);!0===o&&h(e,r?r.concat(n):[n])})),p.pop()}}if(!de.isObject(e))throw new TypeError("data must be an object");return h(e),t}var Ee=we;function xe(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function ke(e,t){this._pairs=[],e&&Ee(e,this,t)}const Pe=ke.prototype;Pe.append=function(e,t){this._pairs.push([e,t])},Pe.toString=function(e){const t=e?function(t){return e.call(this,t,xe)}:xe;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var Ce=ke;function Re(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ae(e,t,r){if(!t)return e;const n=r&&r.encode||Re;de.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let o;if(o=i?i(t,r):de.isURLSearchParams(t)?t.toString():new Ce(t,r).toString(n),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}class Ie{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){de.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}var Oe=Ie,Le={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},De=(r(4603),r(7566),r(8721),"undefined"!==typeof URLSearchParams?URLSearchParams:Ce),Ne="undefined"!==typeof FormData?FormData:null,Me="undefined"!==typeof Blob?Blob:null,Ue={isBrowser:!0,classes:{URLSearchParams:De,FormData:Ne,Blob:Me},protocols:["http","https","file","blob","url","data"]};const je="undefined"!==typeof window&&"undefined"!==typeof document,Be="object"===typeof navigator&&navigator||void 0,Fe=je&&(!Be||["ReactNative","NativeScript","NS"].indexOf(Be.product)<0),He=(()=>"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts)(),Ve=je&&window.location.href||"http://localhost";var $e={...n,...Ue};function qe(e,t){return Ee(e,new $e.classes.URLSearchParams,Object.assign({visitor:function(e,t,r,n){return $e.isNode&&de.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}function We(e){return de.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}function ze(e){const t={},r=Object.keys(e);let n;const i=r.length;let o;for(n=0;n<i;n++)o=r[n],t[o]=e[o];return t}function Xe(e){function t(e,r,n,i){let o=e[i++];if("__proto__"===o)return!0;const a=Number.isFinite(+o),s=i>=e.length;if(o=!o&&de.isArray(n)?n.length:o,s)return de.hasOwnProp(n,o)?n[o]=[n[o],r]:n[o]=r,!a;n[o]&&de.isObject(n[o])||(n[o]=[]);const c=t(e,r,n[o],i);return c&&de.isArray(n[o])&&(n[o]=ze(n[o])),!a}if(de.isFormData(e)&&de.isFunction(e.entries)){const r={};return de.forEachEntry(e,((e,n)=>{t(We(e),n,r,0)})),r}return null}var Ge=Xe;function Ke(e,t,r){if(de.isString(e))try{return(t||JSON.parse)(e),de.trim(e)}catch(n){if("SyntaxError"!==n.name)throw n}return(r||JSON.stringify)(e)}const Ye={transitional:Le,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",n=r.indexOf("application/json")>-1,i=de.isObject(e);i&&de.isHTMLForm(e)&&(e=new FormData(e));const o=de.isFormData(e);if(o)return n?JSON.stringify(Ge(e)):e;if(de.isArrayBuffer(e)||de.isBuffer(e)||de.isStream(e)||de.isFile(e)||de.isBlob(e)||de.isReadableStream(e))return e;if(de.isArrayBufferView(e))return e.buffer;if(de.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return qe(e,this.formSerializer).toString();if((a=de.isFileList(e))||r.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Ee(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||n?(t.setContentType("application/json",!1),Ke(e)):e}],transformResponse:[function(e){const t=this.transitional||Ye.transitional,r=t&&t.forcedJSONParsing,n="json"===this.responseType;if(de.isResponse(e)||de.isReadableStream(e))return e;if(e&&de.isString(e)&&(r&&!this.responseType||n)){const r=t&&t.silentJSONParsing,o=!r&&n;try{return JSON.parse(e)}catch(i){if(o){if("SyntaxError"===i.name)throw ge.from(i,ge.ERR_BAD_RESPONSE,this,null,this.response);throw i}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$e.classes.FormData,Blob:$e.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};de.forEach(["delete","get","head","post","put","patch"],(e=>{Ye.headers[e]={}}));var Qe=Ye;const Je=de.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var Ze=e=>{const t={};let r,n,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),r=e.substring(0,i).trim().toLowerCase(),n=e.substring(i+1).trim(),!r||t[r]&&Je[r]||("set-cookie"===r?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)})),t};const et=Symbol("internals");function tt(e){return e&&String(e).trim().toLowerCase()}function rt(e){return!1===e||null==e?e:de.isArray(e)?e.map(rt):String(e)}function nt(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;while(n=r.exec(e))t[n[1]]=n[2];return t}const it=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ot(e,t,r,n,i){return de.isFunction(n)?n.call(this,t,r):(i&&(t=r),de.isString(t)?de.isString(n)?-1!==t.indexOf(n):de.isRegExp(n)?n.test(t):void 0:void 0)}function at(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,r)=>t.toUpperCase()+r))}function st(e,t){const r=de.toCamelCase(" "+t);["get","set","has"].forEach((n=>{Object.defineProperty(e,n+r,{value:function(e,r,i){return this[n].call(this,t,e,r,i)},configurable:!0})}))}class ct{constructor(e){e&&this.set(e)}set(e,t,r){const n=this;function i(e,t,r){const i=tt(t);if(!i)throw new Error("header name must be a non-empty string");const o=de.findKey(n,i);(!o||void 0===n[o]||!0===r||void 0===r&&!1!==n[o])&&(n[o||t]=rt(e))}const o=(e,t)=>de.forEach(e,((e,r)=>i(e,r,t)));if(de.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(de.isString(e)&&(e=e.trim())&&!it(e))o(Ze(e),t);else if(de.isHeaders(e))for(const[a,s]of e.entries())i(s,a,r);else null!=e&&i(t,e,r);return this}get(e,t){if(e=tt(e),e){const r=de.findKey(this,e);if(r){const e=this[r];if(!t)return e;if(!0===t)return nt(e);if(de.isFunction(t))return t.call(this,e,r);if(de.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=tt(e),e){const r=de.findKey(this,e);return!(!r||void 0===this[r]||t&&!ot(this,this[r],r,t))}return!1}delete(e,t){const r=this;let n=!1;function i(e){if(e=tt(e),e){const i=de.findKey(r,e);!i||t&&!ot(r,r[i],i,t)||(delete r[i],n=!0)}}return de.isArray(e)?e.forEach(i):i(e),n}clear(e){const t=Object.keys(this);let r=t.length,n=!1;while(r--){const i=t[r];e&&!ot(this,this[i],i,e,!0)||(delete this[i],n=!0)}return n}normalize(e){const t=this,r={};return de.forEach(this,((n,i)=>{const o=de.findKey(r,i);if(o)return t[o]=rt(n),void delete t[i];const a=e?at(i):String(i).trim();a!==i&&delete t[i],t[a]=rt(n),r[a]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return de.forEach(this,((r,n)=>{null!=r&&!1!==r&&(t[n]=e&&de.isArray(r)?r.join(", "):r)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach((e=>r.set(e))),r}static accessor(e){const t=this[et]=this[et]={accessors:{}},r=t.accessors,n=this.prototype;function i(e){const t=tt(e);r[t]||(st(n,e),r[t]=!0)}return de.isArray(e)?e.forEach(i):i(e),this}}ct.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),de.reduceDescriptors(ct.prototype,(({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[r]=e}}})),de.freezeMethods(ct);var lt=ct;function ut(e,t){const r=this||Qe,n=t||r,i=lt.from(n.headers);let o=n.data;return de.forEach(e,(function(e){o=e.call(r,o,i.normalize(),t?t.status:void 0)})),i.normalize(),o}function pt(e){return!(!e||!e.__CANCEL__)}function dt(e,t,r){ge.call(this,null==e?"canceled":e,ge.ERR_CANCELED,t,r),this.name="CanceledError"}de.inherits(dt,ge,{__CANCEL__:!0});var ht=dt;function ft(e,t,r){const n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(new ge("Request failed with status code "+r.status,[ge.ERR_BAD_REQUEST,ge.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}function yt(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function gt(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i,o=0,a=0;return t=void 0!==t?t:1e3,function(s){const c=Date.now(),l=n[a];i||(i=c),r[o]=s,n[o]=c;let u=a,p=0;while(u!==o)p+=r[u++],u%=e;if(o=(o+1)%e,o===a&&(a=(a+1)%e),c-i<t)return;const d=l&&c-l;return d?Math.round(1e3*p/d):void 0}}var vt=gt;function _t(e,t){let r,n,i=0,o=1e3/t;const a=(t,o=Date.now())=>{i=o,r=null,n&&(clearTimeout(n),n=null),e.apply(null,t)},s=(...e)=>{const t=Date.now(),s=t-i;s>=o?a(e,t):(r=e,n||(n=setTimeout((()=>{n=null,a(r)}),o-s)))},c=()=>r&&a(r);return[s,c]}var mt=_t;const bt=(e,t,r=3)=>{let n=0;const i=vt(50,250);return mt((r=>{const o=r.loaded,a=r.lengthComputable?r.total:void 0,s=o-n,c=i(s),l=o<=a;n=o;const u={loaded:o,total:a,progress:a?o/a:void 0,bytes:s,rate:c||void 0,estimated:c&&a&&l?(a-o)/c:void 0,event:r,lengthComputable:null!=a,[t?"download":"upload"]:!0};e(u)}),r)},St=(e,t)=>{const r=null!=e;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},Tt=e=>(...t)=>de.asap((()=>e(...t)));r(4520),r(4979);var wt=$e.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,$e.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL($e.origin),$e.navigator&&/(msie|trident)/i.test($e.navigator.userAgent)):()=>!0,Et=$e.hasStandardBrowserEnv?{write(e,t,r,n,i,o){const a=[e+"="+encodeURIComponent(t)];de.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),de.isString(n)&&a.push("path="+n),de.isString(i)&&a.push("domain="+i),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function xt(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function kt(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Pt(e,t){return e&&!xt(t)?kt(e,t):t}const Ct=e=>e instanceof lt?{...e}:e;function Rt(e,t){t=t||{};const r={};function n(e,t,r,n){return de.isPlainObject(e)&&de.isPlainObject(t)?de.merge.call({caseless:n},e,t):de.isPlainObject(t)?de.merge({},t):de.isArray(t)?t.slice():t}function i(e,t,r,i){return de.isUndefined(t)?de.isUndefined(e)?void 0:n(void 0,e,r,i):n(e,t,r,i)}function o(e,t){if(!de.isUndefined(t))return n(void 0,t)}function a(e,t){return de.isUndefined(t)?de.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function s(r,i,o){return o in t?n(r,i):o in e?n(void 0,r):void 0}const c={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(e,t,r)=>i(Ct(e),Ct(t),r,!0)};return de.forEach(Object.keys(Object.assign({},e,t)),(function(n){const o=c[n]||i,a=o(e[n],t[n],n);de.isUndefined(a)&&o!==s||(r[n]=a)})),r}var At=e=>{const t=Rt({},e);let r,{data:n,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:a,headers:s,auth:c}=t;if(t.headers=s=lt.from(s),t.url=Ae(Pt(t.baseURL,t.url),e.params,e.paramsSerializer),c&&s.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),de.isFormData(n))if($e.hasStandardBrowserEnv||$e.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(!1!==(r=s.getContentType())){const[e,...t]=r?r.split(";").map((e=>e.trim())).filter(Boolean):[];s.setContentType([e||"multipart/form-data",...t].join("; "))}if($e.hasStandardBrowserEnv&&(i&&de.isFunction(i)&&(i=i(t)),i||!1!==i&&wt(t.url))){const e=o&&a&&Et.read(a);e&&s.set(o,e)}return t};const It="undefined"!==typeof XMLHttpRequest;var Ot=It&&function(e){return new Promise((function(t,r){const n=At(e);let i=n.data;const o=lt.from(n.headers).normalize();let a,s,c,l,u,{responseType:p,onUploadProgress:d,onDownloadProgress:h}=n;function f(){l&&l(),u&&u(),n.cancelToken&&n.cancelToken.unsubscribe(a),n.signal&&n.signal.removeEventListener("abort",a)}let y=new XMLHttpRequest;function g(){if(!y)return;const n=lt.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),i=p&&"text"!==p&&"json"!==p?y.response:y.responseText,o={data:i,status:y.status,statusText:y.statusText,headers:n,config:e,request:y};ft((function(e){t(e),f()}),(function(e){r(e),f()}),o),y=null}y.open(n.method.toUpperCase(),n.url,!0),y.timeout=n.timeout,"onloadend"in y?y.onloadend=g:y.onreadystatechange=function(){y&&4===y.readyState&&(0!==y.status||y.responseURL&&0===y.responseURL.indexOf("file:"))&&setTimeout(g)},y.onabort=function(){y&&(r(new ge("Request aborted",ge.ECONNABORTED,e,y)),y=null)},y.onerror=function(){r(new ge("Network Error",ge.ERR_NETWORK,e,y)),y=null},y.ontimeout=function(){let t=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const i=n.transitional||Le;n.timeoutErrorMessage&&(t=n.timeoutErrorMessage),r(new ge(t,i.clarifyTimeoutError?ge.ETIMEDOUT:ge.ECONNABORTED,e,y)),y=null},void 0===i&&o.setContentType(null),"setRequestHeader"in y&&de.forEach(o.toJSON(),(function(e,t){y.setRequestHeader(t,e)})),de.isUndefined(n.withCredentials)||(y.withCredentials=!!n.withCredentials),p&&"json"!==p&&(y.responseType=n.responseType),h&&([c,u]=bt(h,!0),y.addEventListener("progress",c)),d&&y.upload&&([s,l]=bt(d),y.upload.addEventListener("progress",s),y.upload.addEventListener("loadend",l)),(n.cancelToken||n.signal)&&(a=t=>{y&&(r(!t||t.type?new ht(null,e,y):t),y.abort(),y=null)},n.cancelToken&&n.cancelToken.subscribe(a),n.signal&&(n.signal.aborted?a():n.signal.addEventListener("abort",a)));const v=yt(n.url);v&&-1===$e.protocols.indexOf(v)?r(new ge("Unsupported protocol "+v+":",ge.ERR_BAD_REQUEST,e)):y.send(i||null)}))};const Lt=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let r,n=new AbortController;const i=function(e){if(!r){r=!0,a();const t=e instanceof Error?e:this.reason;n.abort(t instanceof ge?t:new ht(t instanceof Error?t.message:t))}};let o=t&&setTimeout((()=>{o=null,i(new ge(`timeout ${t} of ms exceeded`,ge.ETIMEDOUT))}),t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)})),e=null)};e.forEach((e=>e.addEventListener("abort",i)));const{signal:s}=n;return s.unsubscribe=()=>de.asap(a),s}};var Dt=Lt;const Nt=function*(e,t){let r=e.byteLength;if(!t||r<t)return void(yield e);let n,i=0;while(i<r)n=i+t,yield e.slice(i,n),i=n},Mt=async function*(e,t){for await(const r of Ut(e))yield*Nt(r,t)},Ut=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:r}=await t.read();if(e)break;yield r}}finally{await t.cancel()}},jt=(e,t,r,n)=>{const i=Mt(e,t);let o,a=0,s=e=>{o||(o=!0,n&&n(e))};return new ReadableStream({async pull(e){try{const{done:t,value:n}=await i.next();if(t)return s(),void e.close();let o=n.byteLength;if(r){let e=a+=o;r(e)}e.enqueue(new Uint8Array(n))}catch(t){throw s(t),t}},cancel(e){return s(e),i.return()}},{highWaterMark:2})},Bt="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Ft=Bt&&"function"===typeof ReadableStream,Ht=Bt&&("function"===typeof TextEncoder?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Vt=(e,...t)=>{try{return!!e(...t)}catch(r){return!1}},$t=Ft&&Vt((()=>{let e=!1;const t=new Request($e.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),qt=65536,Wt=Ft&&Vt((()=>de.isReadableStream(new Response("").body))),zt={stream:Wt&&(e=>e.body)};Bt&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach((t=>{!zt[t]&&(zt[t]=de.isFunction(e[t])?e=>e[t]():(e,r)=>{throw new ge(`Response type '${t}' is not supported`,ge.ERR_NOT_SUPPORT,r)})}))})(new Response);const Xt=async e=>{if(null==e)return 0;if(de.isBlob(e))return e.size;if(de.isSpecCompliantForm(e)){const t=new Request($e.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return de.isArrayBufferView(e)||de.isArrayBuffer(e)?e.byteLength:(de.isURLSearchParams(e)&&(e+=""),de.isString(e)?(await Ht(e)).byteLength:void 0)},Gt=async(e,t)=>{const r=de.toFiniteNumber(e.getContentLength());return null==r?Xt(t):r};var Kt=Bt&&(async e=>{let{url:t,method:r,data:n,signal:i,cancelToken:o,timeout:a,onDownloadProgress:s,onUploadProgress:c,responseType:l,headers:u,withCredentials:p="same-origin",fetchOptions:d}=At(e);l=l?(l+"").toLowerCase():"text";let h,f=Dt([i,o&&o.toAbortSignal()],a);const y=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let g;try{if(c&&$t&&"get"!==r&&"head"!==r&&0!==(g=await Gt(u,n))){let e,r=new Request(t,{method:"POST",body:n,duplex:"half"});if(de.isFormData(n)&&(e=r.headers.get("content-type"))&&u.setContentType(e),r.body){const[e,t]=St(g,bt(Tt(c)));n=jt(r.body,qt,e,t)}}de.isString(p)||(p=p?"include":"omit");const i="credentials"in Request.prototype;h=new Request(t,{...d,signal:f,method:r.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:i?p:void 0});let o=await fetch(h);const a=Wt&&("stream"===l||"response"===l);if(Wt&&(s||a&&y)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=o[t]}));const t=de.toFiniteNumber(o.headers.get("content-length")),[r,n]=s&&St(t,bt(Tt(s),!0))||[];o=new Response(jt(o.body,qt,r,(()=>{n&&n(),y&&y()})),e)}l=l||"text";let v=await zt[de.findKey(zt,l)||"text"](o,e);return!a&&y&&y(),await new Promise(((t,r)=>{ft(t,r,{data:v,headers:lt.from(o.headers),status:o.status,statusText:o.statusText,config:e,request:h})}))}catch(v){if(y&&y(),v&&"TypeError"===v.name&&/fetch/i.test(v.message))throw Object.assign(new ge("Network Error",ge.ERR_NETWORK,e,h),{cause:v.cause||v});throw ge.from(v,v&&v.code,e,h)}});const Yt={http:ve,xhr:Ot,fetch:Kt};de.forEach(Yt,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(r){}Object.defineProperty(e,"adapterName",{value:t})}}));const Qt=e=>`- ${e}`,Jt=e=>de.isFunction(e)||null===e||!1===e;var Zt={getAdapter:e=>{e=de.isArray(e)?e:[e];const{length:t}=e;let r,n;const i={};for(let o=0;o<t;o++){let t;if(r=e[o],n=r,!Jt(r)&&(n=Yt[(t=String(r)).toLowerCase()],void 0===n))throw new ge(`Unknown adapter '${t}'`);if(n)break;i[t||"#"+o]=n}if(!n){const e=Object.entries(i).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));let r=t?e.length>1?"since :\n"+e.map(Qt).join("\n"):" "+Qt(e[0]):"as no adapter specified";throw new ge("There is no suitable adapter to dispatch the request "+r,"ERR_NOT_SUPPORT")}return n},adapters:Yt};function er(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ht(null,e)}function tr(e){er(e),e.headers=lt.from(e.headers),e.data=ut.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);const t=Zt.getAdapter(e.adapter||Qe.adapter);return t(e).then((function(t){return er(e),t.data=ut.call(e,e.transformResponse,t),t.headers=lt.from(t.headers),t}),(function(t){return pt(t)||(er(e),t&&t.response&&(t.response.data=ut.call(e,e.transformResponse,t.response),t.response.headers=lt.from(t.response.headers))),Promise.reject(t)}))}const rr="1.7.9",nr={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{nr[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));const ir={};function or(e,t,r){if("object"!==typeof e)throw new ge("options must be an object",ge.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;while(i-- >0){const o=n[i],a=t[o];if(a){const t=e[o],r=void 0===t||a(t,o,e);if(!0!==r)throw new ge("option "+o+" must be "+r,ge.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new ge("Unknown option "+o,ge.ERR_BAD_OPTION)}}nr.transitional=function(e,t,r){function n(e,t){return"[Axios v"+rr+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,i,o)=>{if(!1===e)throw new ge(n(i," has been removed"+(t?" in "+t:"")),ge.ERR_DEPRECATED);return t&&!ir[i]&&(ir[i]=!0,console.warn(n(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,i,o)}},nr.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};var ar={assertOptions:or,validators:nr};const sr=ar.validators;class cr{constructor(e){this.defaults=e,this.interceptors={request:new Oe,response:new Oe}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{r.stack?t&&!String(r.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(r.stack+="\n"+t):r.stack=t}catch(n){}}throw r}}_request(e,t){"string"===typeof e?(t=t||{},t.url=e):t=e||{},t=Rt(this.defaults,t);const{transitional:r,paramsSerializer:n,headers:i}=t;void 0!==r&&ar.assertOptions(r,{silentJSONParsing:sr.transitional(sr.boolean),forcedJSONParsing:sr.transitional(sr.boolean),clarifyTimeoutError:sr.transitional(sr.boolean)},!1),null!=n&&(de.isFunction(n)?t.paramsSerializer={serialize:n}:ar.assertOptions(n,{encode:sr.function,serialize:sr.function},!0)),ar.assertOptions(t,{baseUrl:sr.spelling("baseURL"),withXsrfToken:sr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&de.merge(i.common,i[t.method]);i&&de.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=lt.concat(o,i);const a=[];let s=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));const c=[];let l;this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));let u,p=0;if(!s){const e=[tr.bind(this),void 0];e.unshift.apply(e,a),e.push.apply(e,c),u=e.length,l=Promise.resolve(t);while(p<u)l=l.then(e[p++],e[p++]);return l}u=a.length;let d=t;p=0;while(p<u){const e=a[p++],t=a[p++];try{d=e(d)}catch(h){t.call(this,h);break}}try{l=tr.call(this,d)}catch(h){return Promise.reject(h)}p=0,u=c.length;while(p<u)l=l.then(c[p++],c[p++]);return l}getUri(e){e=Rt(this.defaults,e);const t=Pt(e.baseURL,e.url);return Ae(t,e.params,e.paramsSerializer)}}de.forEach(["delete","get","head","options"],(function(e){cr.prototype[e]=function(t,r){return this.request(Rt(r||{},{method:e,url:t,data:(r||{}).data}))}})),de.forEach(["post","put","patch"],(function(e){function t(t){return function(r,n,i){return this.request(Rt(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}cr.prototype[e]=t(),cr.prototype[e+"Form"]=t(!0)}));var lr=cr;class ur{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const r=this;this.promise.then((e=>{if(!r._listeners)return;let t=r._listeners.length;while(t-- >0)r._listeners[t](e);r._listeners=null})),this.promise.then=e=>{let t;const n=new Promise((e=>{r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e((function(e,n,i){r.reason||(r.reason=new ht(e,n,i),t(r.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new ur((function(t){e=t}));return{token:t,cancel:e}}}var pr=ur;function dr(e){return function(t){return e.apply(null,t)}}function hr(e){return de.isObject(e)&&!0===e.isAxiosError}const fr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(fr).forEach((([e,t])=>{fr[t]=e}));var yr=fr;function gr(e){const t=new lr(e),r=i(lr.prototype.request,t);return de.extend(r,lr.prototype,t,{allOwnKeys:!0}),de.extend(r,t,null,{allOwnKeys:!0}),r.create=function(t){return gr(Rt(e,t))},r}const vr=gr(Qe);vr.Axios=lr,vr.CanceledError=ht,vr.CancelToken=pr,vr.isCancel=pt,vr.VERSION=rr,vr.toFormData=Ee,vr.AxiosError=ge,vr.Cancel=vr.CanceledError,vr.all=function(e){return Promise.all(e)},vr.spread=dr,vr.isAxiosError=hr,vr.mergeConfig=Rt,vr.AxiosHeaders=lt,vr.formToJSON=e=>Ge(de.isHTMLForm(e)?new FormData(e):e),vr.getAdapter=Zt.getAdapter,vr.HttpStatusCode=yr,vr.default=vr;var _r=vr}}]);
//# sourceMappingURL=chunk-vendors.a22dc5e9.js.map